(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function yo(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const le={},Yt=[],Ke=()=>{},fr=()=>!1,Nn=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),ko=n=>n.startsWith("onUpdate:"),Pe=Object.assign,To=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},pr=Object.prototype.hasOwnProperty,ne=(n,e)=>pr.call(n,e),G=Array.isArray,Jt=n=>zn(n)==="[object Map]",mr=n=>zn(n)==="[object Set]",H=n=>typeof n=="function",Ce=n=>typeof n=="string",Ot=n=>typeof n=="symbol",he=n=>n!==null&&typeof n=="object",tl=n=>(he(n)||H(n))&&H(n.then)&&H(n.catch),vr=Object.prototype.toString,zn=n=>vr.call(n),hr=n=>zn(n).slice(8,-1),gr=n=>zn(n)==="[object Object]",Co=n=>Ce(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Wt=yo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vn=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},yr=/-(\w)/g,kt=Vn(n=>n.replace(yr,(e,t)=>t?t.toUpperCase():"")),kr=/\B([A-Z])/g,Rt=Vn(n=>n.replace(kr,"-$1").toLowerCase()),nl=Vn(n=>n.charAt(0).toUpperCase()+n.slice(1)),$n=Vn(n=>n?`on${nl(n)}`:""),gt=(n,e)=>!Object.is(n,e),qn=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},on=(n,e,t,o=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:o,value:t})},Tr=n=>{const e=parseFloat(n);return isNaN(e)?n:e};let bi;const It=()=>bi||(bi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xo(n){if(G(n)){const e={};for(let t=0;t<n.length;t++){const o=n[t],i=Ce(o)?wr(o):xo(o);if(i)for(const s in i)e[s]=i[s]}return e}else if(Ce(n)||he(n))return n}const Cr=/;(?![^(]*\))/g,xr=/:([^]+)/,_r=/\/\*[^]*?\*\//g;function wr(n){const e={};return n.replace(_r,"").split(Cr).forEach(t=>{if(t){const o=t.split(xr);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function _o(n){let e="";if(Ce(n))e=n;else if(G(n))for(let t=0;t<n.length;t++){const o=_o(n[t]);o&&(e+=o+" ")}else if(he(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Er="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ir=yo(Er);function ol(n){return!!n||n===""}/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Le;class Sr{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Le,!e&&Le&&(this.index=(Le.scopes||(Le.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Le;try{return Le=this,e()}finally{Le=t}}}on(){++this._on===1&&(this.prevScope=Le,Le=this)}off(){this._on>0&&--this._on===0&&(Le=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(this.effects.length=0,t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function br(){return Le}let se;const Kn=new WeakSet;class il{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Le&&Le.active&&Le.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kn.has(this)&&(Kn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ll(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ai(this),rl(this);const e=se,t=Be;se=this,Be=!0;try{return this.fn()}finally{al(this),se=e,Be=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Io(e);this.deps=this.depsTail=void 0,Ai(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){eo(this)&&this.run()}get dirty(){return eo(this)}}let sl=0,Zt,Xt;function ll(n,e=!1){if(n.flags|=8,e){n.next=Xt,Xt=n;return}n.next=Zt,Zt=n}function wo(){sl++}function Eo(){if(--sl>0)return;if(Xt){let e=Xt;for(Xt=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Zt;){let e=Zt;for(Zt=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){n||(n=o)}e=t}}if(n)throw n}function rl(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function al(n){let e,t=n.depsTail,o=t;for(;o;){const i=o.prevDep;o.version===-1?(o===t&&(t=i),Io(o),Ar(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}n.deps=e,n.depsTail=t}function eo(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ul(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function ul(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===sn)||(n.globalVersion=sn,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!eo(n))))return;n.flags|=2;const e=n.dep,t=se,o=Be;se=n,Be=!0;try{rl(n);const i=n.fn(n._value);(e.version===0||gt(i,n._value))&&(n.flags|=128,n._value=i,e.version++)}catch(i){throw e.version++,i}finally{se=t,Be=o,al(n),n.flags&=-3}}function Io(n,e=!1){const{dep:t,prevSub:o,nextSub:i}=n;if(o&&(o.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=o,n.nextSub=void 0),t.subs===n&&(t.subs=o,!o&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)Io(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Ar(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let Be=!0;const cl=[];function rt(){cl.push(Be),Be=!1}function at(){const n=cl.pop();Be=n===void 0?!0:n}function Ai(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=se;se=void 0;try{e()}finally{se=t}}}let sn=0;class Pr{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class So{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!se||!Be||se===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==se)t=this.activeLink=new Pr(se,this),se.deps?(t.prevDep=se.depsTail,se.depsTail.nextDep=t,se.depsTail=t):se.deps=se.depsTail=t,dl(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const o=t.nextDep;o.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=o),t.prevDep=se.depsTail,t.nextDep=void 0,se.depsTail.nextDep=t,se.depsTail=t,se.deps===t&&(se.deps=o)}return t}trigger(e){this.version++,sn++,this.notify(e)}notify(e){wo();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Eo()}}}function dl(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)dl(o)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const to=new WeakMap,St=Symbol(""),no=Symbol(""),ln=Symbol("");function be(n,e,t){if(Be&&se){let o=to.get(n);o||to.set(n,o=new Map);let i=o.get(t);i||(o.set(t,i=new So),i.map=o,i.key=t),i.track()}}function lt(n,e,t,o,i,s){const a=to.get(n);if(!a){sn++;return}const u=c=>{c&&c.trigger()};if(wo(),e==="clear")a.forEach(u);else{const c=G(n),f=c&&Co(t);if(c&&t==="length"){const d=Number(o);a.forEach((m,g)=>{(g==="length"||g===ln||!Ot(g)&&g>=d)&&u(m)})}else switch((t!==void 0||a.has(void 0))&&u(a.get(t)),f&&u(a.get(ln)),e){case"add":c?f&&u(a.get("length")):(u(a.get(St)),Jt(n)&&u(a.get(no)));break;case"delete":c||(u(a.get(St)),Jt(n)&&u(a.get(no)));break;case"set":Jt(n)&&u(a.get(St));break}}Eo()}function Nt(n){const e=te(n);return e===n?e:(be(e,"iterate",ln),Ye(n)?e:e.map(De))}function bo(n){return be(n=te(n),"iterate",ln),n}const Rr={__proto__:null,[Symbol.iterator](){return Bn(this,Symbol.iterator,De)},concat(...n){return Nt(this).concat(...n.map(e=>G(e)?Nt(e):e))},entries(){return Bn(this,"entries",n=>(n[1]=De(n[1]),n))},every(n,e){return ot(this,"every",n,e,void 0,arguments)},filter(n,e){return ot(this,"filter",n,e,t=>t.map(De),arguments)},find(n,e){return ot(this,"find",n,e,De,arguments)},findIndex(n,e){return ot(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return ot(this,"findLast",n,e,De,arguments)},findLastIndex(n,e){return ot(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return ot(this,"forEach",n,e,void 0,arguments)},includes(...n){return Yn(this,"includes",n)},indexOf(...n){return Yn(this,"indexOf",n)},join(n){return Nt(this).join(n)},lastIndexOf(...n){return Yn(this,"lastIndexOf",n)},map(n,e){return ot(this,"map",n,e,void 0,arguments)},pop(){return Ht(this,"pop")},push(...n){return Ht(this,"push",n)},reduce(n,...e){return Pi(this,"reduce",n,e)},reduceRight(n,...e){return Pi(this,"reduceRight",n,e)},shift(){return Ht(this,"shift")},some(n,e){return ot(this,"some",n,e,void 0,arguments)},splice(...n){return Ht(this,"splice",n)},toReversed(){return Nt(this).toReversed()},toSorted(n){return Nt(this).toSorted(n)},toSpliced(...n){return Nt(this).toSpliced(...n)},unshift(...n){return Ht(this,"unshift",n)},values(){return Bn(this,"values",De)}};function Bn(n,e,t){const o=bo(n),i=o[e]();return o!==n&&!Ye(n)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=t(s.value)),s}),i}const Mr=Array.prototype;function ot(n,e,t,o,i,s){const a=bo(n),u=a!==n&&!Ye(n),c=a[e];if(c!==Mr[e]){const m=c.apply(n,s);return u?De(m):m}let f=t;a!==n&&(u?f=function(m,g){return t.call(this,De(m),g,n)}:t.length>2&&(f=function(m,g){return t.call(this,m,g,n)}));const d=c.call(a,f,o);return u&&i?i(d):d}function Pi(n,e,t,o){const i=bo(n);let s=t;return i!==n&&(Ye(n)?t.length>3&&(s=function(a,u,c){return t.call(this,a,u,c,n)}):s=function(a,u,c){return t.call(this,a,De(u),c,n)}),i[e](s,...o)}function Yn(n,e,t){const o=te(n);be(o,"iterate",ln);const i=o[e](...t);return(i===-1||i===!1)&&Mo(t[0])?(t[0]=te(t[0]),o[e](...t)):i}function Ht(n,e,t=[]){rt(),wo();const o=te(n)[e].apply(n,t);return Eo(),at(),o}const Dr=yo("__proto__,__v_isRef,__isVue"),fl=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ot));function Nr(n){Ot(n)||(n=String(n));const e=te(this);return be(e,"has",n),e.hasOwnProperty(n)}class pl{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,o){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return s;if(t==="__v_raw")return o===(i?s?$r:gl:s?hl:vl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const a=G(e);if(!i){let c;if(a&&(c=Rr[t]))return c;if(t==="hasOwnProperty")return Nr}const u=Reflect.get(e,t,Ae(e)?e:o);return(Ot(t)?fl.has(t):Dr(t))||(i||be(e,"get",t),s)?u:Ae(u)?a&&Co(t)?u:u.value:he(u)?i?yl(u):Po(u):u}}class ml extends pl{constructor(e=!1){super(!1,e)}set(e,t,o,i){let s=e[t];if(!this._isShallow){const c=At(s);if(!Ye(o)&&!At(o)&&(s=te(s),o=te(o)),!G(e)&&Ae(s)&&!Ae(o))return c?!1:(s.value=o,!0)}const a=G(e)&&Co(t)?Number(t)<e.length:ne(e,t),u=Reflect.set(e,t,o,Ae(e)?e:i);return e===te(i)&&(a?gt(o,s)&&lt(e,"set",t,o):lt(e,"add",t,o)),u}deleteProperty(e,t){const o=ne(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&o&&lt(e,"delete",t,void 0),i}has(e,t){const o=Reflect.has(e,t);return(!Ot(t)||!fl.has(t))&&be(e,"has",t),o}ownKeys(e){return be(e,"iterate",G(e)?"length":St),Reflect.ownKeys(e)}}class zr extends pl{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Vr=new ml,Ur=new zr,Lr=new ml(!0);const oo=n=>n,mn=n=>Reflect.getPrototypeOf(n);function jr(n,e,t){return function(...o){const i=this.__v_raw,s=te(i),a=Jt(s),u=n==="entries"||n===Symbol.iterator&&a,c=n==="keys"&&a,f=i[n](...o),d=t?oo:e?io:De;return!e&&be(s,"iterate",c?no:St),{next(){const{value:m,done:g}=f.next();return g?{value:m,done:g}:{value:u?[d(m[0]),d(m[1])]:d(m),done:g}},[Symbol.iterator](){return this}}}}function vn(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Fr(n,e){const t={get(i){const s=this.__v_raw,a=te(s),u=te(i);n||(gt(i,u)&&be(a,"get",i),be(a,"get",u));const{has:c}=mn(a),f=e?oo:n?io:De;if(c.call(a,i))return f(s.get(i));if(c.call(a,u))return f(s.get(u));s!==a&&s.get(i)},get size(){const i=this.__v_raw;return!n&&be(te(i),"iterate",St),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,a=te(s),u=te(i);return n||(gt(i,u)&&be(a,"has",i),be(a,"has",u)),i===u?s.has(i):s.has(i)||s.has(u)},forEach(i,s){const a=this,u=a.__v_raw,c=te(u),f=e?oo:n?io:De;return!n&&be(c,"iterate",St),u.forEach((d,m)=>i.call(s,f(d),f(m),a))}};return Pe(t,n?{add:vn("add"),set:vn("set"),delete:vn("delete"),clear:vn("clear")}:{add(i){!e&&!Ye(i)&&!At(i)&&(i=te(i));const s=te(this);return mn(s).has.call(s,i)||(s.add(i),lt(s,"add",i,i)),this},set(i,s){!e&&!Ye(s)&&!At(s)&&(s=te(s));const a=te(this),{has:u,get:c}=mn(a);let f=u.call(a,i);f||(i=te(i),f=u.call(a,i));const d=c.call(a,i);return a.set(i,s),f?gt(s,d)&&lt(a,"set",i,s):lt(a,"add",i,s),this},delete(i){const s=te(this),{has:a,get:u}=mn(s);let c=a.call(s,i);c||(i=te(i),c=a.call(s,i)),u&&u.call(s,i);const f=s.delete(i);return c&&lt(s,"delete",i,void 0),f},clear(){const i=te(this),s=i.size!==0,a=i.clear();return s&&lt(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=jr(i,n,e)}),t}function Ao(n,e){const t=Fr(n,e);return(o,i,s)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?o:Reflect.get(ne(t,i)&&i in o?t:o,i,s)}const Or={get:Ao(!1,!1)},Gr={get:Ao(!1,!0)},Hr={get:Ao(!0,!1)};const vl=new WeakMap,hl=new WeakMap,gl=new WeakMap,$r=new WeakMap;function qr(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kr(n){return n.__v_skip||!Object.isExtensible(n)?0:qr(hr(n))}function Po(n){return At(n)?n:Ro(n,!1,Vr,Or,vl)}function Br(n){return Ro(n,!1,Lr,Gr,hl)}function yl(n){return Ro(n,!0,Ur,Hr,gl)}function Ro(n,e,t,o,i){if(!he(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=Kr(n);if(s===0)return n;const a=i.get(n);if(a)return a;const u=new Proxy(n,s===2?o:t);return i.set(n,u),u}function Qt(n){return At(n)?Qt(n.__v_raw):!!(n&&n.__v_isReactive)}function At(n){return!!(n&&n.__v_isReadonly)}function Ye(n){return!!(n&&n.__v_isShallow)}function Mo(n){return n?!!n.__v_raw:!1}function te(n){const e=n&&n.__v_raw;return e?te(e):n}function Yr(n){return!ne(n,"__v_skip")&&Object.isExtensible(n)&&on(n,"__v_skip",!0),n}const De=n=>he(n)?Po(n):n,io=n=>he(n)?yl(n):n;function Ae(n){return n?n.__v_isRef===!0:!1}function O(n){return Jr(n,!1)}function Jr(n,e){return Ae(n)?n:new Wr(n,e)}class Wr{constructor(e,t){this.dep=new So,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:te(e),this._value=t?e:De(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,o=this.__v_isShallow||Ye(e)||At(e);e=o?e:te(e),gt(e,t)&&(this._rawValue=e,this._value=o?e:De(e),this.dep.trigger())}}function Zr(n){return Ae(n)?n.value:n}const Xr={get:(n,e,t)=>e==="__v_raw"?n:Zr(Reflect.get(n,e,t)),set:(n,e,t,o)=>{const i=n[e];return Ae(i)&&!Ae(t)?(i.value=t,!0):Reflect.set(n,e,t,o)}};function kl(n){return Qt(n)?n:new Proxy(n,Xr)}class Qr{constructor(e,t,o){this.fn=e,this.setter=t,this._value=void 0,this.dep=new So(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=sn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&se!==this)return ll(this,!0),!0}get value(){const e=this.dep.track();return ul(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ea(n,e,t=!1){let o,i;return H(n)?o=n:(o=n.get,i=n.set),new Qr(o,i,t)}const hn={},Sn=new WeakMap;let Et;function ta(n,e=!1,t=Et){if(t){let o=Sn.get(t);o||Sn.set(t,o=[]),o.push(n)}}function na(n,e,t=le){const{immediate:o,deep:i,once:s,scheduler:a,augmentJob:u,call:c}=t,f=E=>i?E:Ye(E)||i===!1||i===0?vt(E,1):vt(E);let d,m,g,p,k=!1,_=!1;if(Ae(n)?(m=()=>n.value,k=Ye(n)):Qt(n)?(m=()=>f(n),k=!0):G(n)?(_=!0,k=n.some(E=>Qt(E)||Ye(E)),m=()=>n.map(E=>{if(Ae(E))return E.value;if(Qt(E))return f(E);if(H(E))return c?c(E,2):E()})):H(n)?e?m=c?()=>c(n,2):n:m=()=>{if(g){rt();try{g()}finally{at()}}const E=Et;Et=d;try{return c?c(n,3,[p]):n(p)}finally{Et=E}}:m=Ke,e&&i){const E=m,N=i===!0?1/0:i;m=()=>vt(E(),N)}const P=br(),A=()=>{d.stop(),P&&P.active&&To(P.effects,d)};if(s&&e){const E=e;e=(...N)=>{E(...N),A()}}let R=_?new Array(n.length).fill(hn):hn;const D=E=>{if(!(!(d.flags&1)||!d.dirty&&!E))if(e){const N=d.run();if(i||k||(_?N.some(($,q)=>gt($,R[q])):gt(N,R))){g&&g();const $=Et;Et=d;try{const q=[N,R===hn?void 0:_&&R[0]===hn?[]:R,p];R=N,c?c(e,3,q):e(...q)}finally{Et=$}}}else d.run()};return u&&u(D),d=new il(m),d.scheduler=a?()=>a(D,!1):D,p=E=>ta(E,!1,d),g=d.onStop=()=>{const E=Sn.get(d);if(E){if(c)c(E,4);else for(const N of E)N();Sn.delete(d)}},e?o?D(!0):R=d.run():a?a(D.bind(null,!0),!0):d.run(),A.pause=d.pause.bind(d),A.resume=d.resume.bind(d),A.stop=A,A}function vt(n,e=1/0,t){if(e<=0||!he(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Ae(n))vt(n.value,e,t);else if(G(n))for(let o=0;o<n.length;o++)vt(n[o],e,t);else if(mr(n)||Jt(n))n.forEach(o=>{vt(o,e,t)});else if(gr(n)){for(const o in n)vt(n[o],e,t);for(const o of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,o)&&vt(n[o],e,t)}return n}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dn(n,e,t,o){try{return o?n(...o):n()}catch(i){Un(i,e,t)}}function nt(n,e,t,o){if(H(n)){const i=dn(n,e,t,o);return i&&tl(i)&&i.catch(s=>{Un(s,e,t)}),i}if(G(n)){const i=[];for(let s=0;s<n.length;s++)i.push(nt(n[s],e,t,o));return i}}function Un(n,e,t,o=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||le;if(e){let u=e.parent;const c=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${t}`;for(;u;){const d=u.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](n,c,f)===!1)return}u=u.parent}if(s){rt(),dn(s,null,10,[n,c,f]),at();return}}oa(n,t,i,o,a)}function oa(n,e,t,o=!0,i=!1){if(i)throw n;console.error(n)}const Ne=[];let Ze=-1;const Vt=[];let pt=null,zt=0;const Tl=Promise.resolve();let bn=null;function qt(n){const e=bn||Tl;return n?e.then(this?n.bind(this):n):e}function ia(n){let e=Ze+1,t=Ne.length;for(;e<t;){const o=e+t>>>1,i=Ne[o],s=rn(i);s<n||s===n&&i.flags&2?e=o+1:t=o}return e}function Do(n){if(!(n.flags&1)){const e=rn(n),t=Ne[Ne.length-1];!t||!(n.flags&2)&&e>=rn(t)?Ne.push(n):Ne.splice(ia(e),0,n),n.flags|=1,Cl()}}function Cl(){bn||(bn=Tl.then(_l))}function sa(n){G(n)?Vt.push(...n):pt&&n.id===-1?pt.splice(zt+1,0,n):n.flags&1||(Vt.push(n),n.flags|=1),Cl()}function Ri(n,e,t=Ze+1){for(;t<Ne.length;t++){const o=Ne[t];if(o&&o.flags&2){if(n&&o.id!==n.uid)continue;Ne.splice(t,1),t--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function xl(n){if(Vt.length){const e=[...new Set(Vt)].sort((t,o)=>rn(t)-rn(o));if(Vt.length=0,pt){pt.push(...e);return}for(pt=e,zt=0;zt<pt.length;zt++){const t=pt[zt];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}pt=null,zt=0}}const rn=n=>n.id==null?n.flags&2?-1:1/0:n.id;function _l(n){try{for(Ze=0;Ze<Ne.length;Ze++){const e=Ne[Ze];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),dn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ze<Ne.length;Ze++){const e=Ne[Ze];e&&(e.flags&=-2)}Ze=-1,Ne.length=0,xl(),bn=null,(Ne.length||Vt.length)&&_l()}}let et,Kt=[],so=!1;function Ln(n,...e){et?et.emit(n,...e):so||Kt.push({event:n,args:e})}function wl(n,e){var t,o;et=n,et?(et.enabled=!0,Kt.forEach(({event:i,args:s})=>et.emit(i,...s)),Kt=[]):typeof window<"u"&&window.HTMLElement&&!((o=(t=window.navigator)==null?void 0:t.userAgent)!=null&&o.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{wl(s,e)}),setTimeout(()=>{et||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,so=!0,Kt=[])},3e3)):(so=!0,Kt=[])}function la(n,e){Ln("app:init",n,e,{Fragment:Xe,Text:fn,Comment:Pt,Static:Cn})}function ra(n){Ln("app:unmount",n)}const aa=No("component:added"),El=No("component:updated"),ua=No("component:removed"),ca=n=>{et&&typeof et.cleanupBuffer=="function"&&!et.cleanupBuffer(n)&&ua(n)};/*! #__NO_SIDE_EFFECTS__ */function No(n){return e=>{Ln(n,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}function da(n,e,t){Ln("component:emit",n.appContext.app,n,e,t)}let tt=null,Il=null;function An(n){const e=tt;return tt=n,Il=n&&n.type.__scopeId||null,e}function fa(n,e=tt,t){if(!e||n._n)return n;const o=(...i)=>{o._d&&Fi(-1);const s=An(e);let a;try{a=n(...i)}finally{An(s),o._d&&Fi(1)}return __VUE_PROD_DEVTOOLS__&&El(e),a};return o._n=!0,o._c=!0,o._d=!0,o}function _t(n,e,t,o){const i=n.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const u=i[a];s&&(u.oldValue=s[a].value);let c=u.dir[o];c&&(rt(),nt(c,t,8,[n.el,u,n,e]),at())}}const pa=Symbol("_vte"),ma=n=>n.__isTeleport;function zo(n,e){n.shapeFlag&6&&n.component?(n.transition=e,zo(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Vo(n,e){return H(n)?Pe({name:n.name},e,{setup:n}):n}function Sl(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function en(n,e,t,o,i=!1){if(G(n)){n.forEach((k,_)=>en(k,e&&(G(e)?e[_]:e),t,o,i));return}if(tn(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&en(n,e,t,o.component.subTree);return}const s=o.shapeFlag&4?Oo(o.component):o.el,a=i?null:s,{i:u,r:c}=n,f=e&&e.r,d=u.refs===le?u.refs={}:u.refs,m=u.setupState,g=te(m),p=m===le?()=>!1:k=>ne(g,k);if(f!=null&&f!==c&&(Ce(f)?(d[f]=null,p(f)&&(m[f]=null)):Ae(f)&&(f.value=null)),H(c))dn(c,u,12,[a,d]);else{const k=Ce(c),_=Ae(c);if(k||_){const P=()=>{if(n.f){const A=k?p(c)?m[c]:d[c]:c.value;i?G(A)&&To(A,s):G(A)?A.includes(s)||A.push(s):k?(d[c]=[s],p(c)&&(m[c]=d[c])):(c.value=[s],n.k&&(d[n.k]=c.value))}else k?(d[c]=a,p(c)&&(m[c]=a)):_&&(c.value=a,n.k&&(d[n.k]=a))};a?(P.id=-1,Oe(P,t)):P()}}}It().requestIdleCallback;It().cancelIdleCallback;const tn=n=>!!n.type.__asyncLoader,bl=n=>n.type.__isKeepAlive;function va(n,e){Al(n,"a",e)}function ha(n,e){Al(n,"da",e)}function Al(n,e,t=ze){const o=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(jn(e,o,t),t){let i=t.parent;for(;i&&i.parent;)bl(i.parent.vnode)&&ga(o,e,t,i),i=i.parent}}function ga(n,e,t,o){const i=jn(e,n,o,!0);jt(()=>{To(o[e],i)},t)}function jn(n,e,t=ze,o=!1){if(t){const i=t[n]||(t[n]=[]),s=e.__weh||(e.__weh=(...a)=>{rt();const u=pn(t),c=nt(e,t,n,a);return u(),at(),c});return o?i.unshift(s):i.push(s),s}}const ut=n=>(e,t=ze)=>{(!un||n==="sp")&&jn(n,(...o)=>e(...o),t)},ya=ut("bm"),an=ut("m"),ka=ut("bu"),Ta=ut("u"),Ca=ut("bum"),jt=ut("um"),xa=ut("sp"),_a=ut("rtg"),wa=ut("rtc");function Ea(n,e=ze){jn("ec",n,e)}const Ia=Symbol.for("v-ndc"),lo=n=>n?Jl(n)?Oo(n):lo(n.parent):null,nn=Pe(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>lo(n.parent),$root:n=>lo(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>__VUE_OPTIONS_API__?Rl(n):n.type,$forceUpdate:n=>n.f||(n.f=()=>{Do(n.update)}),$nextTick:n=>n.n||(n.n=qt.bind(n.proxy)),$watch:n=>__VUE_OPTIONS_API__?Ja.bind(n):Ke}),Jn=(n,e)=>n!==le&&!n.__isScriptSetup&&ne(n,e),Sa={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:o,data:i,props:s,accessCache:a,type:u,appContext:c}=n;let f;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return o[e];case 2:return i[e];case 4:return t[e];case 3:return s[e]}else{if(Jn(o,e))return a[e]=1,o[e];if(i!==le&&ne(i,e))return a[e]=2,i[e];if((f=n.propsOptions[0])&&ne(f,e))return a[e]=3,s[e];if(t!==le&&ne(t,e))return a[e]=4,t[e];(!__VUE_OPTIONS_API__||ro)&&(a[e]=0)}}const d=nn[e];let m,g;if(d)return e==="$attrs"&&be(n.attrs,"get",""),d(n);if((m=u.__cssModules)&&(m=m[e]))return m;if(t!==le&&ne(t,e))return a[e]=4,t[e];if(g=c.config.globalProperties,ne(g,e))return g[e]},set({_:n},e,t){const{data:o,setupState:i,ctx:s}=n;return Jn(i,e)?(i[e]=t,!0):o!==le&&ne(o,e)?(o[e]=t,!0):ne(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:o,appContext:i,propsOptions:s}},a){let u;return!!t[a]||n!==le&&ne(n,a)||Jn(e,a)||(u=s[0])&&ne(u,a)||ne(o,a)||ne(nn,a)||ne(i.config.globalProperties,a)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:ne(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function Mi(n){return G(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let ro=!0;function ba(n){const e=Rl(n),t=n.proxy,o=n.ctx;ro=!1,e.beforeCreate&&Di(e.beforeCreate,n,"bc");const{data:i,computed:s,methods:a,watch:u,provide:c,inject:f,created:d,beforeMount:m,mounted:g,beforeUpdate:p,updated:k,activated:_,deactivated:P,beforeDestroy:A,beforeUnmount:R,destroyed:D,unmounted:E,render:N,renderTracked:$,renderTriggered:q,errorCaptured:K,serverPrefetch:re,expose:oe,inheritAttrs:pe,components:ge,directives:Fe,filters:me}=e;if(f&&Aa(f,o,null),a)for(const X in a){const Q=a[X];H(Q)&&(o[X]=Q.bind(t))}if(i){const X=i.call(t,t);he(X)&&(n.data=Po(X))}if(ro=!0,s)for(const X in s){const Q=s[X],Ve=H(Q)?Q.bind(t,t):H(Q.get)?Q.get.bind(t,t):Ke,ve=!H(Q)&&H(Q.set)?Q.set.bind(t):Ke,$e=ft({get:Ve,set:ve});Object.defineProperty(o,X,{enumerable:!0,configurable:!0,get:()=>$e.value,set:ke=>$e.value=ke})}if(u)for(const X in u)Pl(u[X],o,t,X);if(c){const X=H(c)?c.call(t):c;Reflect.ownKeys(X).forEach(Q=>{za(Q,X[Q])})}d&&Di(d,n,"c");function ae(X,Q){G(Q)?Q.forEach(Ve=>X(Ve.bind(t))):Q&&X(Q.bind(t))}if(ae(ya,m),ae(an,g),ae(ka,p),ae(Ta,k),ae(va,_),ae(ha,P),ae(Ea,K),ae(wa,$),ae(_a,q),ae(Ca,R),ae(jt,E),ae(xa,re),G(oe))if(oe.length){const X=n.exposed||(n.exposed={});oe.forEach(Q=>{Object.defineProperty(X,Q,{get:()=>t[Q],set:Ve=>t[Q]=Ve})})}else n.exposed||(n.exposed={});N&&n.render===Ke&&(n.render=N),pe!=null&&(n.inheritAttrs=pe),ge&&(n.components=ge),Fe&&(n.directives=Fe),re&&Sl(n)}function Aa(n,e,t=Ke){G(n)&&(n=ao(n));for(const o in n){const i=n[o];let s;he(i)?"default"in i?s=Tn(i.from||o,i.default,!0):s=Tn(i.from||o):s=Tn(i),Ae(s)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[o]=s}}function Di(n,e,t){nt(G(n)?n.map(o=>o.bind(e.proxy)):n.bind(e.proxy),e,t)}function Pl(n,e,t,o){let i=o.includes(".")?$l(t,o):()=>t[o];if(Ce(n)){const s=e[n];H(s)&&Lt(i,s)}else if(H(n))Lt(i,n.bind(t));else if(he(n))if(G(n))n.forEach(s=>Pl(s,e,t,o));else{const s=H(n.handler)?n.handler.bind(t):e[n.handler];H(s)&&Lt(i,s,n)}}function Rl(n){const e=n.type,{mixins:t,extends:o}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=n.appContext,u=s.get(e);let c;return u?c=u:!i.length&&!t&&!o?c=e:(c={},i.length&&i.forEach(f=>Pn(c,f,a,!0)),Pn(c,e,a)),he(e)&&s.set(e,c),c}function Pn(n,e,t,o=!1){const{mixins:i,extends:s}=e;s&&Pn(n,s,t,!0),i&&i.forEach(a=>Pn(n,a,t,!0));for(const a in e)if(!(o&&a==="expose")){const u=Pa[a]||t&&t[a];n[a]=u?u(n[a],e[a]):e[a]}return n}const Pa={data:Ni,props:zi,emits:zi,methods:Bt,computed:Bt,beforeCreate:Me,created:Me,beforeMount:Me,mounted:Me,beforeUpdate:Me,updated:Me,beforeDestroy:Me,beforeUnmount:Me,destroyed:Me,unmounted:Me,activated:Me,deactivated:Me,errorCaptured:Me,serverPrefetch:Me,components:Bt,directives:Bt,watch:Ma,provide:Ni,inject:Ra};function Ni(n,e){return e?n?function(){return Pe(H(n)?n.call(this,this):n,H(e)?e.call(this,this):e)}:e:n}function Ra(n,e){return Bt(ao(n),ao(e))}function ao(n){if(G(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Me(n,e){return n?[...new Set([].concat(n,e))]:e}function Bt(n,e){return n?Pe(Object.create(null),n,e):e}function zi(n,e){return n?G(n)&&G(e)?[...new Set([...n,...e])]:Pe(Object.create(null),Mi(n),Mi(e??{})):e}function Ma(n,e){if(!n)return e;if(!e)return n;const t=Pe(Object.create(null),n);for(const o in e)t[o]=Me(n[o],e[o]);return t}function Ml(){return{app:null,config:{isNativeTag:fr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Da=0;function Na(n,e){return function(o,i=null){H(o)||(o=Pe({},o)),i!=null&&!he(i)&&(i=null);const s=Ml(),a=new WeakSet,u=[];let c=!1;const f=s.app={_uid:Da++,_component:o,_props:i,_container:null,_context:s,_instance:null,version:Hi,get config(){return s.config},set config(d){},use(d,...m){return a.has(d)||(d&&H(d.install)?(a.add(d),d.install(f,...m)):H(d)&&(a.add(d),d(f,...m))),f},mixin(d){return __VUE_OPTIONS_API__&&(s.mixins.includes(d)||s.mixins.push(d)),f},component(d,m){return m?(s.components[d]=m,f):s.components[d]},directive(d,m){return m?(s.directives[d]=m,f):s.directives[d]},mount(d,m,g){if(!c){const p=f._ceVNode||bt(o,i);return p.appContext=s,g===!0?g="svg":g===!1&&(g=void 0),n(p,d,g),c=!0,f._container=d,d.__vue_app__=f,__VUE_PROD_DEVTOOLS__&&(f._instance=p.component,la(f,Hi)),Oo(p.component)}},onUnmount(d){u.push(d)},unmount(){c&&(nt(u,f._instance,16),n(null,f._container),__VUE_PROD_DEVTOOLS__&&(f._instance=null,ra(f)),delete f._container.__vue_app__)},provide(d,m){return s.provides[d]=m,f},runWithContext(d){const m=Ut;Ut=f;try{return d()}finally{Ut=m}}};return f}}let Ut=null;function za(n,e){if(ze){let t=ze.provides;const o=ze.parent&&ze.parent.provides;o===t&&(t=ze.provides=Object.create(o)),t[n]=e}}function Tn(n,e,t=!1){const o=ze||tt;if(o||Ut){let i=Ut?Ut._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&H(e)?e.call(o&&o.proxy):e}}const Dl={},Nl=()=>Object.create(Dl),zl=n=>Object.getPrototypeOf(n)===Dl;function Va(n,e,t,o=!1){const i={},s=Nl();n.propsDefaults=Object.create(null),Vl(n,e,i,s);for(const a in n.propsOptions[0])a in i||(i[a]=void 0);t?n.props=o?i:Br(i):n.type.props?n.props=i:n.props=s,n.attrs=s}function Ua(n,e,t,o){const{props:i,attrs:s,vnode:{patchFlag:a}}=n,u=te(i),[c]=n.propsOptions;let f=!1;if((o||a>0)&&!(a&16)){if(a&8){const d=n.vnode.dynamicProps;for(let m=0;m<d.length;m++){let g=d[m];if(Fn(n.emitsOptions,g))continue;const p=e[g];if(c)if(ne(s,g))p!==s[g]&&(s[g]=p,f=!0);else{const k=kt(g);i[k]=uo(c,u,k,p,n,!1)}else p!==s[g]&&(s[g]=p,f=!0)}}}else{Vl(n,e,i,s)&&(f=!0);let d;for(const m in u)(!e||!ne(e,m)&&((d=Rt(m))===m||!ne(e,d)))&&(c?t&&(t[m]!==void 0||t[d]!==void 0)&&(i[m]=uo(c,u,m,void 0,n,!0)):delete i[m]);if(s!==u)for(const m in s)(!e||!ne(e,m))&&(delete s[m],f=!0)}f&&lt(n.attrs,"set","")}function Vl(n,e,t,o){const[i,s]=n.propsOptions;let a=!1,u;if(e)for(let c in e){if(Wt(c))continue;const f=e[c];let d;i&&ne(i,d=kt(c))?!s||!s.includes(d)?t[d]=f:(u||(u={}))[d]=f:Fn(n.emitsOptions,c)||(!(c in o)||f!==o[c])&&(o[c]=f,a=!0)}if(s){const c=te(t),f=u||le;for(let d=0;d<s.length;d++){const m=s[d];t[m]=uo(i,c,m,f[m],n,!ne(f,m))}}return a}function uo(n,e,t,o,i,s){const a=n[t];if(a!=null){const u=ne(a,"default");if(u&&o===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&H(c)){const{propsDefaults:f}=i;if(t in f)o=f[t];else{const d=pn(i);o=f[t]=c.call(null,e),d()}}else o=c;i.ce&&i.ce._setProp(t,o)}a[0]&&(s&&!u?o=!1:a[1]&&(o===""||o===Rt(t))&&(o=!0))}return o}const La=new WeakMap;function Ul(n,e,t=!1){const o=__VUE_OPTIONS_API__&&t?La:e.propsCache,i=o.get(n);if(i)return i;const s=n.props,a={},u=[];let c=!1;if(__VUE_OPTIONS_API__&&!H(n)){const d=m=>{c=!0;const[g,p]=Ul(m,e,!0);Pe(a,g),p&&u.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}if(!s&&!c)return he(n)&&o.set(n,Yt),Yt;if(G(s))for(let d=0;d<s.length;d++){const m=kt(s[d]);Vi(m)&&(a[m]=le)}else if(s)for(const d in s){const m=kt(d);if(Vi(m)){const g=s[d],p=a[m]=G(g)||H(g)?{type:g}:Pe({},g),k=p.type;let _=!1,P=!0;if(G(k))for(let A=0;A<k.length;++A){const R=k[A],D=H(R)&&R.name;if(D==="Boolean"){_=!0;break}else D==="String"&&(P=!1)}else _=H(k)&&k.name==="Boolean";p[0]=_,p[1]=P,(_||ne(p,"default"))&&u.push(m)}}const f=[a,u];return he(n)&&o.set(n,f),f}function Vi(n){return n[0]!=="$"&&!Wt(n)}const Uo=n=>n[0]==="_"||n==="$stable",Lo=n=>G(n)?n.map(Qe):[Qe(n)],ja=(n,e,t)=>{if(e._n)return e;const o=fa((...i)=>Lo(e(...i)),t);return o._c=!1,o},Ll=(n,e,t)=>{const o=n._ctx;for(const i in n){if(Uo(i))continue;const s=n[i];if(H(s))e[i]=ja(i,s,o);else if(s!=null){const a=Lo(s);e[i]=()=>a}}},jl=(n,e)=>{const t=Lo(e);n.slots.default=()=>t},Fl=(n,e,t)=>{for(const o in e)(t||!Uo(o))&&(n[o]=e[o])},Fa=(n,e,t)=>{const o=n.slots=Nl();if(n.vnode.shapeFlag&32){const i=e.__;i&&on(o,"__",i,!0);const s=e._;s?(Fl(o,e,t),t&&on(o,"_",s,!0)):Ll(e,o)}else e&&jl(n,e)},Oa=(n,e,t)=>{const{vnode:o,slots:i}=n;let s=!0,a=le;if(o.shapeFlag&32){const u=e._;u?t&&u===1?s=!1:Fl(i,e,t):(s=!e.$stable,Ll(e,i)),a=e}else e&&(jl(n,e),a={default:1});if(s)for(const u in i)!Uo(u)&&a[u]==null&&delete i[u]};function Ga(){typeof __VUE_OPTIONS_API__!="boolean"&&(It().__VUE_OPTIONS_API__=!0),typeof __VUE_PROD_DEVTOOLS__!="boolean"&&(It().__VUE_PROD_DEVTOOLS__=!1),typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(It().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Oe=nu;function Ha(n){return $a(n)}function $a(n,e){Ga();const t=It();t.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&wl(t.__VUE_DEVTOOLS_GLOBAL_HOOK__,t);const{insert:o,remove:i,patchProp:s,createElement:a,createText:u,createComment:c,setText:f,setElementText:d,parentNode:m,nextSibling:g,setScopeId:p=Ke,insertStaticContent:k}=n,_=(v,h,y,x=null,T=null,C=null,I=void 0,b=null,S=!!h.dynamicChildren)=>{if(v===h)return;v&&!$t(v,h)&&(x=Ge(v),ke(v,T,C,!0),v=null),h.patchFlag===-2&&(S=!1,h.dynamicChildren=null);const{type:w,ref:z,shapeFlag:M}=h;switch(w){case fn:P(v,h,y,x);break;case Pt:A(v,h,y,x);break;case Cn:v==null&&R(h,y,x,I);break;case Xe:ge(v,h,y,x,T,C,I,b,S);break;default:M&1?N(v,h,y,x,T,C,I,b,S):M&6?Fe(v,h,y,x,T,C,I,b,S):(M&64||M&128)&&w.process(v,h,y,x,T,C,I,b,S,Ue)}z!=null&&T?en(z,v&&v.ref,C,h||v,!h):z==null&&v&&v.ref!=null&&en(v.ref,null,C,v,!0)},P=(v,h,y,x)=>{if(v==null)o(h.el=u(h.children),y,x);else{const T=h.el=v.el;h.children!==v.children&&f(T,h.children)}},A=(v,h,y,x)=>{v==null?o(h.el=c(h.children||""),y,x):h.el=v.el},R=(v,h,y,x)=>{[v.el,v.anchor]=k(v.children,h,y,x,v.el,v.anchor)},D=({el:v,anchor:h},y,x)=>{let T;for(;v&&v!==h;)T=g(v),o(v,y,x),v=T;o(h,y,x)},E=({el:v,anchor:h})=>{let y;for(;v&&v!==h;)y=g(v),i(v),v=y;i(h)},N=(v,h,y,x,T,C,I,b,S)=>{h.type==="svg"?I="svg":h.type==="math"&&(I="mathml"),v==null?$(h,y,x,T,C,I,b,S):re(v,h,T,C,I,b,S)},$=(v,h,y,x,T,C,I,b)=>{let S,w;const{props:z,shapeFlag:M,transition:U,dirs:j}=v;if(S=v.el=a(v.type,C,z&&z.is,z),M&8?d(S,v.children):M&16&&K(v.children,S,null,x,T,Wn(v,C),I,b),j&&_t(v,null,x,"created"),q(S,v,v.scopeId,I,x),z){for(const ee in z)ee!=="value"&&!Wt(ee)&&s(S,ee,null,z[ee],C,x);"value"in z&&s(S,"value",null,z.value,C),(w=z.onVnodeBeforeMount)&&We(w,x,v)}__VUE_PROD_DEVTOOLS__&&(on(S,"__vnode",v,!0),on(S,"__vueParentComponent",x,!0)),j&&_t(v,null,x,"beforeMount");const Y=qa(T,U);Y&&U.beforeEnter(S),o(S,h,y),((w=z&&z.onVnodeMounted)||Y||j)&&Oe(()=>{w&&We(w,x,v),Y&&U.enter(S),j&&_t(v,null,x,"mounted")},T)},q=(v,h,y,x,T)=>{if(y&&p(v,y),x)for(let C=0;C<x.length;C++)p(v,x[C]);if(T){let C=T.subTree;if(h===C||Kl(C.type)&&(C.ssContent===h||C.ssFallback===h)){const I=T.vnode;q(v,I,I.scopeId,I.slotScopeIds,T.parent)}}},K=(v,h,y,x,T,C,I,b,S=0)=>{for(let w=S;w<v.length;w++){const z=v[w]=b?mt(v[w]):Qe(v[w]);_(null,z,h,y,x,T,C,I,b)}},re=(v,h,y,x,T,C,I)=>{const b=h.el=v.el;__VUE_PROD_DEVTOOLS__&&(b.__vnode=h);let{patchFlag:S,dynamicChildren:w,dirs:z}=h;S|=v.patchFlag&16;const M=v.props||le,U=h.props||le;let j;if(y&&wt(y,!1),(j=U.onVnodeBeforeUpdate)&&We(j,y,h,v),z&&_t(h,v,y,"beforeUpdate"),y&&wt(y,!0),(M.innerHTML&&U.innerHTML==null||M.textContent&&U.textContent==null)&&d(b,""),w?oe(v.dynamicChildren,w,b,y,x,Wn(h,T),C):I||Q(v,h,b,null,y,x,Wn(h,T),C,!1),S>0){if(S&16)pe(b,M,U,y,T);else if(S&2&&M.class!==U.class&&s(b,"class",null,U.class,T),S&4&&s(b,"style",M.style,U.style,T),S&8){const Y=h.dynamicProps;for(let ee=0;ee<Y.length;ee++){const Z=Y[ee],we=M[Z],Ee=U[Z];(Ee!==we||Z==="value")&&s(b,Z,we,Ee,T,y)}}S&1&&v.children!==h.children&&d(b,h.children)}else!I&&w==null&&pe(b,M,U,y,T);((j=U.onVnodeUpdated)||z)&&Oe(()=>{j&&We(j,y,h,v),z&&_t(h,v,y,"updated")},x)},oe=(v,h,y,x,T,C,I)=>{for(let b=0;b<h.length;b++){const S=v[b],w=h[b],z=S.el&&(S.type===Xe||!$t(S,w)||S.shapeFlag&198)?m(S.el):y;_(S,w,z,null,x,T,C,I,!0)}},pe=(v,h,y,x,T)=>{if(h!==y){if(h!==le)for(const C in h)!Wt(C)&&!(C in y)&&s(v,C,h[C],null,T,x);for(const C in y){if(Wt(C))continue;const I=y[C],b=h[C];I!==b&&C!=="value"&&s(v,C,b,I,T,x)}"value"in y&&s(v,"value",h.value,y.value,T)}},ge=(v,h,y,x,T,C,I,b,S)=>{const w=h.el=v?v.el:u(""),z=h.anchor=v?v.anchor:u("");let{patchFlag:M,dynamicChildren:U,slotScopeIds:j}=h;j&&(b=b?b.concat(j):j),v==null?(o(w,y,x),o(z,y,x),K(h.children||[],y,z,T,C,I,b,S)):M>0&&M&64&&U&&v.dynamicChildren?(oe(v.dynamicChildren,U,y,T,C,I,b),(h.key!=null||T&&h===T.subTree)&&Ol(v,h,!0)):Q(v,h,y,z,T,C,I,b,S)},Fe=(v,h,y,x,T,C,I,b,S)=>{h.slotScopeIds=b,v==null?h.shapeFlag&512?T.ctx.activate(h,y,x,I,S):me(h,y,x,T,C,I,S):Re(v,h,S)},me=(v,h,y,x,T,C,I)=>{const b=v.component=cu(v,x,T);if(bl(v)&&(b.ctx.renderer=Ue),du(b,!1,I),b.asyncDep){if(T&&T.registerDep(b,ae,I),!v.el){const S=b.subTree=bt(Pt);A(null,S,h,y)}}else ae(b,v,h,y,T,C,I)},Re=(v,h,y)=>{const x=h.component=v.component;if(eu(v,h,y))if(x.asyncDep&&!x.asyncResolved){X(x,h,y);return}else x.next=h,x.update();else h.el=v.el,x.vnode=h},ae=(v,h,y,x,T,C,I)=>{const b=()=>{if(v.isMounted){let{next:M,bu:U,u:j,parent:Y,vnode:ee}=v;{const F=Gl(v);if(F){M&&(M.el=ee.el,X(v,M,I)),F.asyncDep.then(()=>{v.isUnmounted||b()});return}}let Z=M,we;wt(v,!1),M?(M.el=ee.el,X(v,M,I)):M=ee,U&&qn(U),(we=M.props&&M.props.onVnodeBeforeUpdate)&&We(we,Y,M,ee),wt(v,!0);const Ee=Li(v),V=v.subTree;v.subTree=Ee,_(V,Ee,m(V.el),Ge(V),v,T,C),M.el=Ee.el,Z===null&&tu(v,Ee.el),j&&Oe(j,T),(we=M.props&&M.props.onVnodeUpdated)&&Oe(()=>We(we,Y,M,ee),T),__VUE_PROD_DEVTOOLS__&&El(v)}else{let M;const{el:U,props:j}=h,{bm:Y,m:ee,parent:Z,root:we,type:Ee}=v,V=tn(h);wt(v,!1),Y&&qn(Y),!V&&(M=j&&j.onVnodeBeforeMount)&&We(M,Z,h),wt(v,!0);{we.ce&&we.ce._def.shadowRoot!==!1&&we.ce._injectChildStyle(Ee);const F=v.subTree=Li(v);_(null,F,y,x,v,T,C),h.el=F.el}if(ee&&Oe(ee,T),!V&&(M=j&&j.onVnodeMounted)){const F=h;Oe(()=>We(M,Z,F),T)}(h.shapeFlag&256||Z&&tn(Z.vnode)&&Z.vnode.shapeFlag&256)&&v.a&&Oe(v.a,T),v.isMounted=!0,__VUE_PROD_DEVTOOLS__&&aa(v),h=y=x=null}};v.scope.on();const S=v.effect=new il(b);v.scope.off();const w=v.update=S.run.bind(S),z=v.job=S.runIfDirty.bind(S);z.i=v,z.id=v.uid,S.scheduler=()=>Do(z),wt(v,!0),w()},X=(v,h,y)=>{h.component=v;const x=v.vnode.props;v.vnode=h,v.next=null,Ua(v,h.props,x,y),Oa(v,h.children,y),rt(),Ri(v),at()},Q=(v,h,y,x,T,C,I,b,S=!1)=>{const w=v&&v.children,z=v?v.shapeFlag:0,M=h.children,{patchFlag:U,shapeFlag:j}=h;if(U>0){if(U&128){ve(w,M,y,x,T,C,I,b,S);return}else if(U&256){Ve(w,M,y,x,T,C,I,b,S);return}}j&8?(z&16&&ye(w,T,C),M!==w&&d(y,M)):z&16?j&16?ve(w,M,y,x,T,C,I,b,S):ye(w,T,C,!0):(z&8&&d(y,""),j&16&&K(M,y,x,T,C,I,b,S))},Ve=(v,h,y,x,T,C,I,b,S)=>{v=v||Yt,h=h||Yt;const w=v.length,z=h.length,M=Math.min(w,z);let U;for(U=0;U<M;U++){const j=h[U]=S?mt(h[U]):Qe(h[U]);_(v[U],j,y,null,T,C,I,b,S)}w>z?ye(v,T,C,!0,!1,M):K(h,y,x,T,C,I,b,S,M)},ve=(v,h,y,x,T,C,I,b,S)=>{let w=0;const z=h.length;let M=v.length-1,U=z-1;for(;w<=M&&w<=U;){const j=v[w],Y=h[w]=S?mt(h[w]):Qe(h[w]);if($t(j,Y))_(j,Y,y,null,T,C,I,b,S);else break;w++}for(;w<=M&&w<=U;){const j=v[M],Y=h[U]=S?mt(h[U]):Qe(h[U]);if($t(j,Y))_(j,Y,y,null,T,C,I,b,S);else break;M--,U--}if(w>M){if(w<=U){const j=U+1,Y=j<z?h[j].el:x;for(;w<=U;)_(null,h[w]=S?mt(h[w]):Qe(h[w]),y,Y,T,C,I,b,S),w++}}else if(w>U)for(;w<=M;)ke(v[w],T,C,!0),w++;else{const j=w,Y=w,ee=new Map;for(w=Y;w<=U;w++){const ie=h[w]=S?mt(h[w]):Qe(h[w]);ie.key!=null&&ee.set(ie.key,w)}let Z,we=0;const Ee=U-Y+1;let V=!1,F=0;const J=new Array(Ee);for(w=0;w<Ee;w++)J[w]=0;for(w=j;w<=M;w++){const ie=v[w];if(we>=Ee){ke(ie,T,C,!0);continue}let de;if(ie.key!=null)de=ee.get(ie.key);else for(Z=Y;Z<=U;Z++)if(J[Z-Y]===0&&$t(ie,h[Z])){de=Z;break}de===void 0?ke(ie,T,C,!0):(J[de-Y]=w+1,de>=F?F=de:V=!0,_(ie,h[de],y,null,T,C,I,b,S),we++)}const ue=V?Ka(J):Yt;for(Z=ue.length-1,w=Ee-1;w>=0;w--){const ie=Y+w,de=h[ie],fe=ie+1<z?h[ie+1].el:x;J[w]===0?_(null,de,y,fe,T,C,I,b,S):V&&(Z<0||w!==ue[Z]?$e(de,y,fe,2):Z--)}}},$e=(v,h,y,x,T=null)=>{const{el:C,type:I,transition:b,children:S,shapeFlag:w}=v;if(w&6){$e(v.component.subTree,h,y,x);return}if(w&128){v.suspense.move(h,y,x);return}if(w&64){I.move(v,h,y,Ue);return}if(I===Xe){o(C,h,y);for(let M=0;M<S.length;M++)$e(S[M],h,y,x);o(v.anchor,h,y);return}if(I===Cn){D(v,h,y);return}if(x!==2&&w&1&&b)if(x===0)b.beforeEnter(C),o(C,h,y),Oe(()=>b.enter(C),T);else{const{leave:M,delayLeave:U,afterLeave:j}=b,Y=()=>{v.ctx.isUnmounted?i(C):o(C,h,y)},ee=()=>{M(C,()=>{Y(),j&&j()})};U?U(C,Y,ee):ee()}else o(C,h,y)},ke=(v,h,y,x=!1,T=!1)=>{const{type:C,props:I,ref:b,children:S,dynamicChildren:w,shapeFlag:z,patchFlag:M,dirs:U,cacheIndex:j}=v;if(M===-2&&(T=!1),b!=null&&(rt(),en(b,null,y,v,!0),at()),j!=null&&(h.renderCache[j]=void 0),z&256){h.ctx.deactivate(v);return}const Y=z&1&&U,ee=!tn(v);let Z;if(ee&&(Z=I&&I.onVnodeBeforeUnmount)&&We(Z,h,v),z&6)B(v.component,y,x);else{if(z&128){v.suspense.unmount(y,x);return}Y&&_t(v,null,h,"beforeUnmount"),z&64?v.type.remove(v,h,y,Ue,x):w&&!w.hasOnce&&(C!==Xe||M>0&&M&64)?ye(w,h,y,!1,!0):(C===Xe&&M&384||!T&&z&16)&&ye(S,h,y),x&&Mt(v)}(ee&&(Z=I&&I.onVnodeUnmounted)||Y)&&Oe(()=>{Z&&We(Z,h,v),Y&&_t(v,null,h,"unmounted")},y)},Mt=v=>{const{type:h,el:y,anchor:x,transition:T}=v;if(h===Xe){xt(y,x);return}if(h===Cn){E(v);return}const C=()=>{i(y),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(v.shapeFlag&1&&T&&!T.persisted){const{leave:I,delayLeave:b}=T,S=()=>I(y,C);b?b(v.el,C,S):S()}else C()},xt=(v,h)=>{let y;for(;v!==h;)y=g(v),i(v),v=y;i(h)},B=(v,h,y)=>{const{bum:x,scope:T,job:C,subTree:I,um:b,m:S,a:w,parent:z,slots:{__:M}}=v;Ui(S),Ui(w),x&&qn(x),z&&G(M)&&M.forEach(U=>{z.renderCache[U]=void 0}),T.stop(),C&&(C.flags|=8,ke(I,v,h,y)),b&&Oe(b,h),Oe(()=>{v.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve()),__VUE_PROD_DEVTOOLS__&&ca(v)},ye=(v,h,y,x=!1,T=!1,C=0)=>{for(let I=C;I<v.length;I++)ke(v[I],h,y,x,T)},Ge=v=>{if(v.shapeFlag&6)return Ge(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const h=g(v.anchor||v.el),y=h&&h[pa];return y?g(y):h};let _e=!1;const Je=(v,h,y)=>{v==null?h._vnode&&ke(h._vnode,null,null,!0):_(h._vnode||null,v,h,null,null,null,y),h._vnode=v,_e||(_e=!0,Ri(),xl(),_e=!1)},Ue={p:_,um:ke,m:$e,r:Mt,mt:me,mc:K,pc:Q,pbc:oe,n:Ge,o:n};return{render:Je,hydrate:void 0,createApp:Na(Je)}}function Wn({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function wt({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function qa(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Ol(n,e,t=!1){const o=n.children,i=e.children;if(G(o)&&G(i))for(let s=0;s<o.length;s++){const a=o[s];let u=i[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[s]=mt(i[s]),u.el=a.el),!t&&u.patchFlag!==-2&&Ol(a,u)),u.type===fn&&(u.el=a.el),u.type===Pt&&!u.el&&(u.el=a.el)}}function Ka(n){const e=n.slice(),t=[0];let o,i,s,a,u;const c=n.length;for(o=0;o<c;o++){const f=n[o];if(f!==0){if(i=t[t.length-1],n[i]<f){e[o]=i,t.push(o);continue}for(s=0,a=t.length-1;s<a;)u=s+a>>1,n[t[u]]<f?s=u+1:a=u;f<n[t[s]]&&(s>0&&(e[o]=t[s-1]),t[s]=o)}}for(s=t.length,a=t[s-1];s-- >0;)t[s]=a,a=e[a];return t}function Gl(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Gl(e)}function Ui(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const Ba=Symbol.for("v-scx"),Ya=()=>Tn(Ba);function Lt(n,e,t){return Hl(n,e,t)}function Hl(n,e,t=le){const{immediate:o,deep:i,flush:s,once:a}=t,u=Pe({},t),c=e&&o||!e&&s!=="post";let f;if(un){if(s==="sync"){const p=Ya();f=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=Ke,p.resume=Ke,p.pause=Ke,p}}const d=ze;u.call=(p,k,_)=>nt(p,d,k,_);let m=!1;s==="post"?u.scheduler=p=>{Oe(p,d&&d.suspense)}:s!=="sync"&&(m=!0,u.scheduler=(p,k)=>{k?p():Do(p)}),u.augmentJob=p=>{e&&(p.flags|=4),m&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const g=na(n,e,u);return un&&(f?f.push(g):c&&g()),g}function Ja(n,e,t){const o=this.proxy,i=Ce(n)?n.includes(".")?$l(o,n):()=>o[n]:n.bind(o,o);let s;H(e)?s=e:(s=e.handler,t=e);const a=pn(this),u=Hl(i,s.bind(o),t);return a(),u}function $l(n,e){const t=e.split(".");return()=>{let o=n;for(let i=0;i<t.length&&o;i++)o=o[t[i]];return o}}const Wa=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${kt(e)}Modifiers`]||n[`${Rt(e)}Modifiers`];function Za(n,e,...t){if(n.isUnmounted)return;const o=n.vnode.props||le;let i=t;const s=e.startsWith("update:"),a=s&&Wa(o,e.slice(7));a&&(a.trim&&(i=t.map(d=>Ce(d)?d.trim():d)),a.number&&(i=t.map(Tr))),__VUE_PROD_DEVTOOLS__&&da(n,e,i);let u,c=o[u=$n(e)]||o[u=$n(kt(e))];!c&&s&&(c=o[u=$n(Rt(e))]),c&&nt(c,n,6,i);const f=o[u+"Once"];if(f){if(!n.emitted)n.emitted={};else if(n.emitted[u])return;n.emitted[u]=!0,nt(f,n,6,i)}}function ql(n,e,t=!1){const o=e.emitsCache,i=o.get(n);if(i!==void 0)return i;const s=n.emits;let a={},u=!1;if(__VUE_OPTIONS_API__&&!H(n)){const c=f=>{const d=ql(f,e,!0);d&&(u=!0,Pe(a,d))};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!s&&!u?(he(n)&&o.set(n,null),null):(G(s)?s.forEach(c=>a[c]=null):Pe(a,s),he(n)&&o.set(n,a),a)}function Fn(n,e){return!n||!Nn(e)?!1:(e=e.slice(2).replace(/Once$/,""),ne(n,e[0].toLowerCase()+e.slice(1))||ne(n,Rt(e))||ne(n,e))}function Li(n){const{type:e,vnode:t,proxy:o,withProxy:i,propsOptions:[s],slots:a,attrs:u,emit:c,render:f,renderCache:d,props:m,data:g,setupState:p,ctx:k,inheritAttrs:_}=n,P=An(n);let A,R;try{if(t.shapeFlag&4){const E=i||o,N=E;A=Qe(f.call(N,E,d,m,p,g,k)),R=u}else{const E=e;A=Qe(E.length>1?E(m,{attrs:u,slots:a,emit:c}):E(m,null)),R=e.props?u:Xa(u)}}catch(E){Un(E,n,1),A=bt(Pt)}let D=A;if(R&&_!==!1){const E=Object.keys(R),{shapeFlag:N}=D;E.length&&N&7&&(s&&E.some(ko)&&(R=Qa(R,s)),D=Ft(D,R,!1,!0))}return t.dirs&&(D=Ft(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(t.dirs):t.dirs),t.transition&&zo(D,t.transition),A=D,An(P),A}const Xa=n=>{let e;for(const t in n)(t==="class"||t==="style"||Nn(t))&&((e||(e={}))[t]=n[t]);return e},Qa=(n,e)=>{const t={};for(const o in n)(!ko(o)||!(o.slice(9)in e))&&(t[o]=n[o]);return t};function eu(n,e,t){const{props:o,children:i,component:s}=n,{props:a,children:u,patchFlag:c}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return o?ji(o,a,f):!!a;if(c&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const g=d[m];if(a[g]!==o[g]&&!Fn(f,g))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:o===a?!1:o?a?ji(o,a,f):!0:!!a;return!1}function ji(n,e,t){const o=Object.keys(e);if(o.length!==Object.keys(n).length)return!0;for(let i=0;i<o.length;i++){const s=o[i];if(e[s]!==n[s]&&!Fn(t,s))return!0}return!1}function tu({vnode:n,parent:e},t){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===n&&(o.el=n.el),o===n)(n=e.vnode).el=t,e=e.parent;else break}}const Kl=n=>n.__isSuspense;function nu(n,e){e&&e.pendingBranch?G(n)?e.effects.push(...n):e.effects.push(n):sa(n)}const Xe=Symbol.for("v-fgt"),fn=Symbol.for("v-txt"),Pt=Symbol.for("v-cmt"),Cn=Symbol.for("v-stc");let ht=null,jo=1;function Fi(n,e=!1){jo+=n,n<0&&ht&&e&&(ht.hasOnce=!0)}function Bl(n){return n?n.__v_isVNode===!0:!1}function $t(n,e){return n.type===e.type&&n.key===e.key}const Yl=({key:n})=>n??null,xn=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Ce(n)||Ae(n)||H(n)?{i:tt,r:n,k:e,f:!!t}:n:null);function ou(n,e=null,t=null,o=0,i=null,s=n===Xe?0:1,a=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Yl(e),ref:e&&xn(e),scopeId:Il,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:tt};return u?(Fo(c,t),s&128&&n.normalize(c)):t&&(c.shapeFlag|=Ce(t)?8:16),jo>0&&!a&&ht&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&ht.push(c),c}const bt=iu;function iu(n,e=null,t=null,o=0,i=null,s=!1){if((!n||n===Ia)&&(n=Pt),Bl(n)){const u=Ft(n,e,!0);return t&&Fo(u,t),jo>0&&!s&&ht&&(u.shapeFlag&6?ht[ht.indexOf(n)]=u:ht.push(u)),u.patchFlag=-2,u}if(vu(n)&&(n=n.__vccOpts),e){e=su(e);let{class:u,style:c}=e;u&&!Ce(u)&&(e.class=_o(u)),he(c)&&(Mo(c)&&!G(c)&&(c=Pe({},c)),e.style=xo(c))}const a=Ce(n)?1:Kl(n)?128:ma(n)?64:he(n)?4:H(n)?2:0;return ou(n,e,t,o,i,a,s,!0)}function su(n){return n?Mo(n)||zl(n)?Pe({},n):n:null}function Ft(n,e,t=!1,o=!1){const{props:i,ref:s,patchFlag:a,children:u,transition:c}=n,f=e?ru(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&Yl(f),ref:e&&e.ref?t&&s?G(s)?s.concat(xn(e)):[s,xn(e)]:xn(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:u,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Xe?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:c,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ft(n.ssContent),ssFallback:n.ssFallback&&Ft(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return c&&o&&zo(d,c.clone(d)),d}function lu(n=" ",e=0){return bt(fn,null,n,e)}function Qe(n){return n==null||typeof n=="boolean"?bt(Pt):G(n)?bt(Xe,null,n.slice()):Bl(n)?mt(n):bt(fn,null,String(n))}function mt(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Ft(n)}function Fo(n,e){let t=0;const{shapeFlag:o}=n;if(e==null)e=null;else if(G(e))t=16;else if(typeof e=="object")if(o&65){const i=e.default;i&&(i._c&&(i._d=!1),Fo(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!zl(e)?e._ctx=tt:i===3&&tt&&(tt.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else H(e)?(e={default:e,_ctx:tt},t=32):(e=String(e),o&64?(t=16,e=[lu(e)]):t=8);n.children=e,n.shapeFlag|=t}function ru(...n){const e={};for(let t=0;t<n.length;t++){const o=n[t];for(const i in o)if(i==="class")e.class!==o.class&&(e.class=_o([e.class,o.class]));else if(i==="style")e.style=xo([e.style,o.style]);else if(Nn(i)){const s=e[i],a=o[i];a&&s!==a&&!(G(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=o[i])}return e}function We(n,e,t,o=null){nt(n,e,7,[t,o])}const au=Ml();let uu=0;function cu(n,e,t){const o=n.type,i=(e?e.appContext:n.appContext)||au,s={uid:uu++,vnode:n,type:o,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Sr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ul(o,i),emitsOptions:ql(o,i),emit:null,emitted:null,propsDefaults:le,inheritAttrs:o.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Za.bind(null,s),n.ce&&n.ce(s),s}let ze=null,Rn,co;{const n=It(),e=(t,o)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(o),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};Rn=e("__VUE_INSTANCE_SETTERS__",t=>ze=t),co=e("__VUE_SSR_SETTERS__",t=>un=t)}const pn=n=>{const e=ze;return Rn(n),n.scope.on(),()=>{n.scope.off(),Rn(e)}},Oi=()=>{ze&&ze.scope.off(),Rn(null)};function Jl(n){return n.vnode.shapeFlag&4}let un=!1;function du(n,e=!1,t=!1){e&&co(e);const{props:o,children:i}=n.vnode,s=Jl(n);Va(n,o,s,e),Fa(n,i,t||e);const a=s?fu(n,e):void 0;return e&&co(!1),a}function fu(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,Sa);const{setup:o}=t;if(o){rt();const i=n.setupContext=o.length>1?mu(n):null,s=pn(n),a=dn(o,n,0,[n.props,i]),u=tl(a);if(at(),s(),(u||n.sp)&&!tn(n)&&Sl(n),u){if(a.then(Oi,Oi),e)return a.then(c=>{Gi(n,c)}).catch(c=>{Un(c,n,0)});n.asyncDep=a}else Gi(n,a)}else Wl(n)}function Gi(n,e,t){H(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:he(e)&&(__VUE_PROD_DEVTOOLS__&&(n.devtoolsRawSetupState=e),n.setupState=kl(e)),Wl(n)}function Wl(n,e,t){const o=n.type;if(n.render||(n.render=o.render||Ke),__VUE_OPTIONS_API__){const i=pn(n);rt();try{ba(n)}finally{at(),i()}}}const pu={get(n,e){return be(n,"get",""),n[e]}};function mu(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,pu),slots:n.slots,emit:n.emit,expose:e}}function Oo(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(kl(Yr(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in nn)return nn[t](n)},has(e,t){return t in e||t in nn}})):n.proxy}function vu(n){return H(n)&&"__vccOpts"in n}const ft=(n,e)=>ea(n,e,un),Hi="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fo;const $i=typeof window<"u"&&window.trustedTypes;if($i)try{fo=$i.createPolicy("vue",{createHTML:n=>n})}catch{}const Zl=fo?n=>fo.createHTML(n):n=>n,hu="http://www.w3.org/2000/svg",gu="http://www.w3.org/1998/Math/MathML",st=typeof document<"u"?document:null,qi=st&&st.createElement("template"),yu={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,o)=>{const i=e==="svg"?st.createElementNS(hu,n):e==="mathml"?st.createElementNS(gu,n):t?st.createElement(n,{is:t}):st.createElement(n);return n==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:n=>st.createTextNode(n),createComment:n=>st.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>st.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,o,i,s){const a=t?t.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===s||!(i=i.nextSibling)););else{qi.innerHTML=Zl(o==="svg"?`<svg>${n}</svg>`:o==="mathml"?`<math>${n}</math>`:n);const u=qi.content;if(o==="svg"||o==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}e.insertBefore(u,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},ku=Symbol("_vtc");function Tu(n,e,t){const o=n[ku];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Ki=Symbol("_vod"),Cu=Symbol("_vsh"),xu=Symbol(""),_u=/(^|;)\s*display\s*:/;function wu(n,e,t){const o=n.style,i=Ce(t);let s=!1;if(t&&!i){if(e)if(Ce(e))for(const a of e.split(";")){const u=a.slice(0,a.indexOf(":")).trim();t[u]==null&&_n(o,u,"")}else for(const a in e)t[a]==null&&_n(o,a,"");for(const a in t)a==="display"&&(s=!0),_n(o,a,t[a])}else if(i){if(e!==t){const a=o[xu];a&&(t+=";"+a),o.cssText=t,s=_u.test(t)}}else e&&n.removeAttribute("style");Ki in n&&(n[Ki]=s?o.display:"",n[Cu]&&(o.display="none"))}const Bi=/\s*!important$/;function _n(n,e,t){if(G(t))t.forEach(o=>_n(n,e,o));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const o=Eu(n,e);Bi.test(t)?n.setProperty(Rt(o),t.replace(Bi,""),"important"):n[o]=t}}const Yi=["Webkit","Moz","ms"],Zn={};function Eu(n,e){const t=Zn[e];if(t)return t;let o=kt(e);if(o!=="filter"&&o in n)return Zn[e]=o;o=nl(o);for(let i=0;i<Yi.length;i++){const s=Yi[i]+o;if(s in n)return Zn[e]=s}return e}const Ji="http://www.w3.org/1999/xlink";function Wi(n,e,t,o,i,s=Ir(e)){o&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Ji,e.slice(6,e.length)):n.setAttributeNS(Ji,e,t):t==null||s&&!ol(t)?n.removeAttribute(e):n.setAttribute(e,s?"":Ot(t)?String(t):t)}function Zi(n,e,t,o,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?Zl(t):t);return}const s=n.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const u=s==="OPTION"?n.getAttribute("value")||"":n.value,c=t==null?n.type==="checkbox"?"on":"":String(t);(u!==c||!("_value"in n))&&(n.value=c),t==null&&n.removeAttribute(e),n._value=t;return}let a=!1;if(t===""||t==null){const u=typeof n[e];u==="boolean"?t=ol(t):t==null&&u==="string"?(t="",a=!0):u==="number"&&(t=0,a=!0)}try{n[e]=t}catch{}a&&n.removeAttribute(i||e)}function Iu(n,e,t,o){n.addEventListener(e,t,o)}function Su(n,e,t,o){n.removeEventListener(e,t,o)}const Xi=Symbol("_vei");function bu(n,e,t,o,i=null){const s=n[Xi]||(n[Xi]={}),a=s[e];if(o&&a)a.value=o;else{const[u,c]=Au(e);if(o){const f=s[e]=Mu(o,i);Iu(n,u,f,c)}else a&&(Su(n,u,a,c),s[e]=void 0)}}const Qi=/(?:Once|Passive|Capture)$/;function Au(n){let e;if(Qi.test(n)){e={};let o;for(;o=n.match(Qi);)n=n.slice(0,n.length-o[0].length),e[o[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Rt(n.slice(2)),e]}let Xn=0;const Pu=Promise.resolve(),Ru=()=>Xn||(Pu.then(()=>Xn=0),Xn=Date.now());function Mu(n,e){const t=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=t.attached)return;nt(Du(o,t.value),e,5,[o])};return t.value=n,t.attached=Ru(),t}function Du(n,e){if(G(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(o=>i=>!i._stopped&&o&&o(i))}else return e}const es=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Nu=(n,e,t,o,i,s)=>{const a=i==="svg";e==="class"?Tu(n,o,a):e==="style"?wu(n,t,o):Nn(e)?ko(e)||bu(n,e,t,o,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):zu(n,e,o,a))?(Zi(n,e,o),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Wi(n,e,o,a,s,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Ce(o))?Zi(n,kt(e),o,s,e):(e==="true-value"?n._trueValue=o:e==="false-value"&&(n._falseValue=o),Wi(n,e,o,a))};function zu(n,e,t,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in n&&es(e)&&H(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return es(e)&&Ce(t)?!1:e in n}const Vu=Pe({patchProp:Nu},yu);let ts;function Uu(){return ts||(ts=Ha(Vu))}const Lu=(...n)=>{const e=Uu().createApp(...n),{mount:t}=e;return e.mount=o=>{const i=Fu(o);if(!i)return;const s=e._component;!H(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=t(i,!1,ju(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function ju(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Fu(n){return Ce(n)?document.querySelector(n):n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class On{}function W(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function l(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let f=0;f<c.length;f++){const d=c[f];l(d,e.slice(s+1),t[f])}else for(const f of c)l(f,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];l(c[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const o=e[e.length-1],i=n[o];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=t}function r(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const o=e[t];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in n){const s=n[i];return Array.isArray(s)?s.map(a=>r(a,e.slice(t+1))):void 0}else return}else n=n[o]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Xl(n,e){const t=xe(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function ns(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Ql(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>ns(n,t)):[ns(n,e)]}function po(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function os(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function is(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function je(n,e){if(e==null)throw new Error("ContentUnion is required");return po(e)?e:{role:"user",parts:Ql(n,e)}}function er(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=je(n,t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=je(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>je(n,t)):[je(n,e)]}function ce(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(os(e)||is(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[je(n,e)]}const t=[],o=[],i=po(e[0]);for(const s of e){const a=po(s);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(s);else{if(os(s)||is(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(s)}}return i||t.push({role:"user",parts:Ql(n,o)}),t}function wn(n,e){if(!n.isVertexAI()&&"default"in e)throw new Error("Default value is not supported in the response schema for the Gemini API.");if("anyOf"in e&&e.anyOf!==void 0)for(const t of e.anyOf)wn(n,t);if("items"in e&&e.items!==void 0&&wn(n,e.items),"properties"in e&&e.properties!==void 0)for(const t of Object.values(e.properties))wn(n,t)}function tr(n,e){return wn(n,e),e}function nr(n,e){if(typeof e=="object"&&"voiceConfig"in e)return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Gn(n,e){return e}function He(n,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function Ou(n,e,t,o=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Tt(n,e){if(typeof e!="string")throw new Error("name must be a string");return Ou(n,e,"cachedContents")}function Ct(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function or(n,e){if(typeof e!="string")throw new Error("fromName must be a string");return e.startsWith("files/")?e.split("files/")[1]:e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gu(n,e){const t={};if(r(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=r(e,["thought"]);o!=null&&l(t,["thought"],o);const i=r(e,["codeExecutionResult"]);i!=null&&l(t,["codeExecutionResult"],i);const s=r(e,["executableCode"]);s!=null&&l(t,["executableCode"],s);const a=r(e,["fileData"]);a!=null&&l(t,["fileData"],a);const u=r(e,["functionCall"]);u!=null&&l(t,["functionCall"],u);const c=r(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const f=r(e,["inlineData"]);f!=null&&l(t,["inlineData"],f);const d=r(e,["text"]);return d!=null&&l(t,["text"],d),t}function ss(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>Gu(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Hu(n,e){const t={};if(r(e,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const o=r(e,["description"]);o!=null&&l(t,["description"],o);const i=r(e,["name"]);i!=null&&l(t,["name"],i);const s=r(e,["parameters"]);return s!=null&&l(t,["parameters"],s),t}function $u(){return{}}function qu(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function Ku(n,e){const t={},o=r(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],qu(n,o)),t}function Bu(n,e){const t={},o=r(e,["functionDeclarations"]);if(o!=null&&(Array.isArray(o)?l(t,["functionDeclarations"],o.map(u=>Hu(n,u))):l(t,["functionDeclarations"],o)),r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");r(e,["googleSearch"])!=null&&l(t,["googleSearch"],$u());const s=r(e,["googleSearchRetrieval"]);s!=null&&l(t,["googleSearchRetrieval"],Ku(n,s));const a=r(e,["codeExecution"]);return a!=null&&l(t,["codeExecution"],a),t}function Yu(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function Ju(n,e){const t={},o=r(e,["functionCallingConfig"]);return o!=null&&l(t,["functionCallingConfig"],Yu(n,o)),t}function Wu(n,e,t){const o={},i=r(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const s=r(e,["expireTime"]);t!==void 0&&s!=null&&l(t,["expireTime"],s);const a=r(e,["displayName"]);t!==void 0&&a!=null&&l(t,["displayName"],a);const u=r(e,["contents"]);t!==void 0&&u!=null&&(Array.isArray(u)?l(t,["contents"],ce(n,ce(n,u).map(m=>ss(n,m)))):l(t,["contents"],ce(n,u)));const c=r(e,["systemInstruction"]);t!==void 0&&c!=null&&l(t,["systemInstruction"],ss(n,je(n,c)));const f=r(e,["tools"]);t!==void 0&&f!=null&&(Array.isArray(f)?l(t,["tools"],f.map(m=>Bu(n,m))):l(t,["tools"],f));const d=r(e,["toolConfig"]);return t!==void 0&&d!=null&&l(t,["toolConfig"],Ju(n,d)),o}function Zu(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["model"],Xl(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],Wu(n,i,t)),t}function Xu(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],Tt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Qu(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],Tt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function ec(n,e,t){const o={},i=r(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const s=r(e,["expireTime"]);return t!==void 0&&s!=null&&l(t,["expireTime"],s),o}function tc(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],Tt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],ec(n,i,t)),t}function nc(n,e,t){const o={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const s=r(e,["pageToken"]);return t!==void 0&&s!=null&&l(t,["_query","pageToken"],s),o}function oc(n,e){const t={},o=r(e,["config"]);return o!=null&&l(t,["config"],nc(n,o,t)),t}function ic(n,e){const t={},o=r(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],o);const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const s=r(e,["codeExecutionResult"]);s!=null&&l(t,["codeExecutionResult"],s);const a=r(e,["executableCode"]);a!=null&&l(t,["executableCode"],a);const u=r(e,["fileData"]);u!=null&&l(t,["fileData"],u);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const f=r(e,["functionResponse"]);f!=null&&l(t,["functionResponse"],f);const d=r(e,["inlineData"]);d!=null&&l(t,["inlineData"],d);const m=r(e,["text"]);return m!=null&&l(t,["text"],m),t}function ls(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>ic(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function sc(n,e){const t={},o=r(e,["example"]);o!=null&&l(t,["example"],o);const i=r(e,["pattern"]);i!=null&&l(t,["pattern"],i);const s=r(e,["default"]);s!=null&&l(t,["default"],s);const a=r(e,["maxLength"]);a!=null&&l(t,["maxLength"],a);const u=r(e,["minLength"]);u!=null&&l(t,["minLength"],u);const c=r(e,["minProperties"]);c!=null&&l(t,["minProperties"],c);const f=r(e,["maxProperties"]);f!=null&&l(t,["maxProperties"],f);const d=r(e,["anyOf"]);d!=null&&l(t,["anyOf"],d);const m=r(e,["description"]);m!=null&&l(t,["description"],m);const g=r(e,["enum"]);g!=null&&l(t,["enum"],g);const p=r(e,["format"]);p!=null&&l(t,["format"],p);const k=r(e,["items"]);k!=null&&l(t,["items"],k);const _=r(e,["maxItems"]);_!=null&&l(t,["maxItems"],_);const P=r(e,["maximum"]);P!=null&&l(t,["maximum"],P);const A=r(e,["minItems"]);A!=null&&l(t,["minItems"],A);const R=r(e,["minimum"]);R!=null&&l(t,["minimum"],R);const D=r(e,["nullable"]);D!=null&&l(t,["nullable"],D);const E=r(e,["properties"]);E!=null&&l(t,["properties"],E);const N=r(e,["propertyOrdering"]);N!=null&&l(t,["propertyOrdering"],N);const $=r(e,["required"]);$!=null&&l(t,["required"],$);const q=r(e,["title"]);q!=null&&l(t,["title"],q);const K=r(e,["type"]);return K!=null&&l(t,["type"],K),t}function lc(n,e){const t={},o=r(e,["response"]);o!=null&&l(t,["response"],sc(n,o));const i=r(e,["description"]);i!=null&&l(t,["description"],i);const s=r(e,["name"]);s!=null&&l(t,["name"],s);const a=r(e,["parameters"]);return a!=null&&l(t,["parameters"],a),t}function rc(){return{}}function ac(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function uc(n,e){const t={},o=r(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],ac(n,o)),t}function cc(n,e){const t={},o=r(e,["functionDeclarations"]);o!=null&&(Array.isArray(o)?l(t,["functionDeclarations"],o.map(c=>lc(n,c))):l(t,["functionDeclarations"],o));const i=r(e,["retrieval"]);i!=null&&l(t,["retrieval"],i),r(e,["googleSearch"])!=null&&l(t,["googleSearch"],rc());const a=r(e,["googleSearchRetrieval"]);a!=null&&l(t,["googleSearchRetrieval"],uc(n,a));const u=r(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function dc(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function fc(n,e){const t={},o=r(e,["functionCallingConfig"]);return o!=null&&l(t,["functionCallingConfig"],dc(n,o)),t}function pc(n,e,t){const o={},i=r(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const s=r(e,["expireTime"]);t!==void 0&&s!=null&&l(t,["expireTime"],s);const a=r(e,["displayName"]);t!==void 0&&a!=null&&l(t,["displayName"],a);const u=r(e,["contents"]);t!==void 0&&u!=null&&(Array.isArray(u)?l(t,["contents"],ce(n,ce(n,u).map(m=>ls(n,m)))):l(t,["contents"],ce(n,u)));const c=r(e,["systemInstruction"]);t!==void 0&&c!=null&&l(t,["systemInstruction"],ls(n,je(n,c)));const f=r(e,["tools"]);t!==void 0&&f!=null&&(Array.isArray(f)?l(t,["tools"],f.map(m=>cc(n,m))):l(t,["tools"],f));const d=r(e,["toolConfig"]);return t!==void 0&&d!=null&&l(t,["toolConfig"],fc(n,d)),o}function mc(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["model"],Xl(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],pc(n,i,t)),t}function vc(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],Tt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function hc(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],Tt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function gc(n,e,t){const o={},i=r(e,["ttl"]);t!==void 0&&i!=null&&l(t,["ttl"],i);const s=r(e,["expireTime"]);return t!==void 0&&s!=null&&l(t,["expireTime"],s),o}function yc(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],Tt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],gc(n,i,t)),t}function kc(n,e,t){const o={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const s=r(e,["pageToken"]);return t!==void 0&&s!=null&&l(t,["_query","pageToken"],s),o}function Tc(n,e){const t={},o=r(e,["config"]);return o!=null&&l(t,["config"],kc(n,o,t)),t}function En(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const s=r(e,["model"]);s!=null&&l(t,["model"],s);const a=r(e,["createTime"]);a!=null&&l(t,["createTime"],a);const u=r(e,["updateTime"]);u!=null&&l(t,["updateTime"],u);const c=r(e,["expireTime"]);c!=null&&l(t,["expireTime"],c);const f=r(e,["usageMetadata"]);return f!=null&&l(t,["usageMetadata"],f),t}function Cc(){return{}}function xc(n,e){const t={},o=r(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=r(e,["cachedContents"]);return i!=null&&(Array.isArray(i)?l(t,["cachedContents"],i.map(s=>En(n,s))):l(t,["cachedContents"],i)),t}function In(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const s=r(e,["model"]);s!=null&&l(t,["model"],s);const a=r(e,["createTime"]);a!=null&&l(t,["createTime"],a);const u=r(e,["updateTime"]);u!=null&&l(t,["updateTime"],u);const c=r(e,["expireTime"]);c!=null&&l(t,["expireTime"],c);const f=r(e,["usageMetadata"]);return f!=null&&l(t,["usageMetadata"],f),t}function _c(){return{}}function wc(n,e){const t={},o=r(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=r(e,["cachedContents"]);return i!=null&&(Array.isArray(i)?l(t,["cachedContents"],i.map(s=>In(n,s))):l(t,["cachedContents"],i)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Mn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Mn||(Mn={}));class ir{constructor(e,t,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,i)}init(e,t,o){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let a={config:{}};o?typeof o=="object"?a=Object.assign({},o):a=o:a={config:{}},a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rs;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rs||(rs={}));var as;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(as||(as={}));var us;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT"})(us||(us={}));var cs;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(cs||(cs={}));var ds;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(ds||(ds={}));var fs;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(fs||(fs={}));var ps;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ps||(ps={}));var ms;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY"})(ms||(ms={}));var vs;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(vs||(vs={}));var hs;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(hs||(hs={}));var gs;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(gs||(gs={}));var ys;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ys||(ys={}));var cn;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(cn||(cn={}));var ks;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ks||(ks={}));var Ts;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Ts||(Ts={}));var Cs;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Cs||(Cs={}));var xs;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(xs||(xs={}));var _s;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(_s||(_s={}));var ws;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ws||(ws={}));var Es;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Es||(Es={}));var Is;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Is||(Is={}));var Ss;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Ss||(Ss={}));var bs;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(bs||(bs={}));var As;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(As||(As={}));var Ps;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ps||(Ps={}));var Rs;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Rs||(Rs={}));var yt;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yt||(yt={}));var mo;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mo||(mo={}));var Ms;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ms||(Ms={}));var Ds;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ds||(Ds={}));class gn{get text(){var e,t,o,i,s,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const g of(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,k]of Object.entries(g))p!=="text"&&p!=="thought"&&(k!==null||k!==void 0)&&m.push(p);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,f+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get functionCalls(){var e,t,o,i,s,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,o,i,s,a,u,c,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,o,i,s,a,u,c,f;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class Ns{}class zs{}class Vs{}class Ec{}class Us{}class Ls{}class Ic{}class vo{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Sc{}class bc{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ac extends On{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ir(Mn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=mc(this.apiClient,e);return s=W("cachedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>In(this.apiClient,c))}else{const u=Zu(this.apiClient,e);return s=W("cachedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>En(this.apiClient,c))}}async get(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=vc(this.apiClient,e);return s=W("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>In(this.apiClient,c))}else{const u=Xu(this.apiClient,e);return s=W("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>En(this.apiClient,c))}}async delete(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=hc(this.apiClient,e);return s=W("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(()=>{const c=_c(),f=new Us;return Object.assign(f,c),f})}else{const u=Qu(this.apiClient,e);return s=W("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(()=>{const c=Cc(),f=new Us;return Object.assign(f,c),f})}}async update(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=yc(this.apiClient,e);return s=W("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>In(this.apiClient,c))}else{const u=tc(this.apiClient,e);return s=W("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>En(this.apiClient,c))}}async listInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=Tc(this.apiClient,e);return s=W("cachedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>{const f=wc(this.apiClient,c),d=new Ls;return Object.assign(d,f),d})}else{const u=oc(this.apiClient,e);return s=W("cachedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>{const f=xc(this.apiClient,c),d=new Ls;return Object.assign(d,f),d})}}}function js(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(n){return this instanceof Se?(this.v=n,this):new Se(n)}function Dn(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(k){return Promise.resolve(k).then(p,m)}}function u(p,k){o[p]&&(i[p]=function(_){return new Promise(function(P,A){s.push([p,_,P,A])>1||c(p,_)})},k&&(i[p]=k(i[p])))}function c(p,k){try{f(o[p](k))}catch(_){g(s[0][3],_)}}function f(p){p.value instanceof Se?Promise.resolve(p.value.v).then(d,m):g(s[0][2],p)}function d(p){c("next",p)}function m(p){c("throw",p)}function g(p,k){p(k),s.shift(),s.length&&c(s[0][0],s[0][1])}}function ho(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof js=="function"?js(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(s){t[s]=n[s]&&function(a){return new Promise(function(u,c){a=n[s](a),i(u,c,a.done,a.value)})}}function i(s,a,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pc(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:sr(t)}function sr(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function Rc(n){if(n.length!==0){if(n[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Mc(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0,i=n[0];for(;o<t;)if(n[o].role==="user")i=n[o],o++;else{const s=[];let a=!0;for(;o<t&&n[o].role==="model";)s.push(n[o]),a&&!sr(n[o])&&(a=!1),o++;a&&(e.push(i),e.push(...s))}return e}class Dc{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Nc(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class Nc{constructor(e,t,o,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Rc(s)}async sendMessage(e){var t;await this.sendPromise;const o=je(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a;const c=(a=(s=(await i).candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,f=c?[c]:[];this.recordHistory(o,f)})(),await this.sendPromise,i}async sendMessageStream(e){var t;await this.sendPromise;const o=je(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{});const s=await i;return this.processStreamResponse(s,o)}getHistory(e=!1){return e?Mc(this.history):this.history}processStreamResponse(e,t){var o,i;return Dn(this,arguments,function*(){var a,u,c,f;const d=[];try{for(var m=!0,g=ho(e),p;p=yield Se(g.next()),a=p.done,!a;m=!0){f=p.value,m=!1;const k=f;if(Pc(k)){const _=(i=(o=k.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;_!==void 0&&d.push(_)}yield yield Se(k)}}catch(k){u={error:k}}finally{try{!m&&!a&&(c=g.return)&&(yield Se(c.call(g)))}finally{if(u)throw u.error}}this.recordHistory(t,d)})}recordHistory(e,t){let o=[];t.length>0&&t.every(i=>i.role==="model")?o=t:o.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zc(n,e,t){const o={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const s=r(e,["pageToken"]);return t!==void 0&&s!=null&&l(t,["_query","pageToken"],s),o}function Vc(n,e){const t={},o=r(e,["config"]);return o!=null&&l(t,["config"],zc(n,o,t)),t}function Uc(n,e){const t={},o=r(e,["details"]);o!=null&&l(t,["details"],o);const i=r(e,["message"]);i!=null&&l(t,["message"],i);const s=r(e,["code"]);return s!=null&&l(t,["code"],s),t}function Lc(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const s=r(e,["mimeType"]);s!=null&&l(t,["mimeType"],s);const a=r(e,["sizeBytes"]);a!=null&&l(t,["sizeBytes"],a);const u=r(e,["createTime"]);u!=null&&l(t,["createTime"],u);const c=r(e,["expirationTime"]);c!=null&&l(t,["expirationTime"],c);const f=r(e,["updateTime"]);f!=null&&l(t,["updateTime"],f);const d=r(e,["sha256Hash"]);d!=null&&l(t,["sha256Hash"],d);const m=r(e,["uri"]);m!=null&&l(t,["uri"],m);const g=r(e,["downloadUri"]);g!=null&&l(t,["downloadUri"],g);const p=r(e,["state"]);p!=null&&l(t,["state"],p);const k=r(e,["source"]);k!=null&&l(t,["source"],k);const _=r(e,["videoMetadata"]);_!=null&&l(t,["videoMetadata"],_);const P=r(e,["error"]);return P!=null&&l(t,["error"],Uc(n,P)),t}function jc(n,e){const t={},o=r(e,["file"]);o!=null&&l(t,["file"],Lc(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Fc(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","file"],or(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Oc(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","file"],or(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Gc(n,e){const t={},o=r(e,["details"]);o!=null&&l(t,["details"],o);const i=r(e,["message"]);i!=null&&l(t,["message"],i);const s=r(e,["code"]);return s!=null&&l(t,["code"],s),t}function go(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const s=r(e,["mimeType"]);s!=null&&l(t,["mimeType"],s);const a=r(e,["sizeBytes"]);a!=null&&l(t,["sizeBytes"],a);const u=r(e,["createTime"]);u!=null&&l(t,["createTime"],u);const c=r(e,["expirationTime"]);c!=null&&l(t,["expirationTime"],c);const f=r(e,["updateTime"]);f!=null&&l(t,["updateTime"],f);const d=r(e,["sha256Hash"]);d!=null&&l(t,["sha256Hash"],d);const m=r(e,["uri"]);m!=null&&l(t,["uri"],m);const g=r(e,["downloadUri"]);g!=null&&l(t,["downloadUri"],g);const p=r(e,["state"]);p!=null&&l(t,["state"],p);const k=r(e,["source"]);k!=null&&l(t,["source"],k);const _=r(e,["videoMetadata"]);_!=null&&l(t,["videoMetadata"],_);const P=r(e,["error"]);return P!=null&&l(t,["error"],Gc(n,P)),t}function Hc(n,e){const t={},o=r(e,["nextPageToken"]);o!=null&&l(t,["nextPageToken"],o);const i=r(e,["files"]);return i!=null&&(Array.isArray(i)?l(t,["files"],i.map(s=>go(n,s))):l(t,["files"],i)),t}function $c(){return{}}function qc(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kc extends On{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new ir(Mn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>go(this.apiClient,t))}async listInternal(e){var t;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Vc(this.apiClient,e);return i=W("files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(u=>u.json()),o.then(u=>{const c=Hc(this.apiClient,u),f=new Ic;return Object.assign(f,c),f})}}async createInternal(e){var t;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jc(this.apiClient,e);return i=W("upload/v1beta/files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(u=>u.json()),o.then(()=>{const u=$c(),c=new Sc;return Object.assign(c,u),c})}}async get(e){var t;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Fc(this.apiClient,e);return i=W("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(u=>u.json()),o.then(u=>go(this.apiClient,u))}}async delete(e){var t;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Oc(this.apiClient,e);return i=W("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(u=>u.json()),o.then(()=>{const u=qc(),c=new bc;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bc(n,e){const t={};if(r(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=r(e,["thought"]);o!=null&&l(t,["thought"],o);const i=r(e,["codeExecutionResult"]);i!=null&&l(t,["codeExecutionResult"],i);const s=r(e,["executableCode"]);s!=null&&l(t,["executableCode"],s);const a=r(e,["fileData"]);a!=null&&l(t,["fileData"],a);const u=r(e,["functionCall"]);u!=null&&l(t,["functionCall"],u);const c=r(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const f=r(e,["inlineData"]);f!=null&&l(t,["inlineData"],f);const d=r(e,["text"]);return d!=null&&l(t,["text"],d),t}function Yc(n,e){const t={},o=r(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],o);const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const s=r(e,["codeExecutionResult"]);s!=null&&l(t,["codeExecutionResult"],s);const a=r(e,["executableCode"]);a!=null&&l(t,["executableCode"],a);const u=r(e,["fileData"]);u!=null&&l(t,["fileData"],u);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const f=r(e,["functionResponse"]);f!=null&&l(t,["functionResponse"],f);const d=r(e,["inlineData"]);d!=null&&l(t,["inlineData"],d);const m=r(e,["text"]);return m!=null&&l(t,["text"],m),t}function Jc(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>Bc(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Wc(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>Yc(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Zc(n,e){const t={},o=r(e,["example"]);o!=null&&l(t,["example"],o);const i=r(e,["pattern"]);i!=null&&l(t,["pattern"],i);const s=r(e,["default"]);s!=null&&l(t,["default"],s);const a=r(e,["maxLength"]);a!=null&&l(t,["maxLength"],a);const u=r(e,["minLength"]);u!=null&&l(t,["minLength"],u);const c=r(e,["minProperties"]);c!=null&&l(t,["minProperties"],c);const f=r(e,["maxProperties"]);f!=null&&l(t,["maxProperties"],f);const d=r(e,["anyOf"]);d!=null&&l(t,["anyOf"],d);const m=r(e,["description"]);m!=null&&l(t,["description"],m);const g=r(e,["enum"]);g!=null&&l(t,["enum"],g);const p=r(e,["format"]);p!=null&&l(t,["format"],p);const k=r(e,["items"]);k!=null&&l(t,["items"],k);const _=r(e,["maxItems"]);_!=null&&l(t,["maxItems"],_);const P=r(e,["maximum"]);P!=null&&l(t,["maximum"],P);const A=r(e,["minItems"]);A!=null&&l(t,["minItems"],A);const R=r(e,["minimum"]);R!=null&&l(t,["minimum"],R);const D=r(e,["nullable"]);D!=null&&l(t,["nullable"],D);const E=r(e,["properties"]);E!=null&&l(t,["properties"],E);const N=r(e,["propertyOrdering"]);N!=null&&l(t,["propertyOrdering"],N);const $=r(e,["required"]);$!=null&&l(t,["required"],$);const q=r(e,["title"]);q!=null&&l(t,["title"],q);const K=r(e,["type"]);return K!=null&&l(t,["type"],K),t}function Xc(n,e){const t={};if(r(e,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const o=r(e,["description"]);o!=null&&l(t,["description"],o);const i=r(e,["name"]);i!=null&&l(t,["name"],i);const s=r(e,["parameters"]);return s!=null&&l(t,["parameters"],s),t}function Qc(n,e){const t={},o=r(e,["response"]);o!=null&&l(t,["response"],Zc(n,o));const i=r(e,["description"]);i!=null&&l(t,["description"],i);const s=r(e,["name"]);s!=null&&l(t,["name"],s);const a=r(e,["parameters"]);return a!=null&&l(t,["parameters"],a),t}function ed(){return{}}function td(){return{}}function nd(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function od(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function id(n,e){const t={},o=r(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],nd(n,o)),t}function sd(n,e){const t={},o=r(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],od(n,o)),t}function ld(n,e){const t={},o=r(e,["functionDeclarations"]);if(o!=null&&(Array.isArray(o)?l(t,["functionDeclarations"],o.map(u=>Xc(n,u))):l(t,["functionDeclarations"],o)),r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");r(e,["googleSearch"])!=null&&l(t,["googleSearch"],ed());const s=r(e,["googleSearchRetrieval"]);s!=null&&l(t,["googleSearchRetrieval"],id(n,s));const a=r(e,["codeExecution"]);return a!=null&&l(t,["codeExecution"],a),t}function rd(n,e){const t={},o=r(e,["functionDeclarations"]);o!=null&&(Array.isArray(o)?l(t,["functionDeclarations"],o.map(c=>Qc(n,c))):l(t,["functionDeclarations"],o));const i=r(e,["retrieval"]);i!=null&&l(t,["retrieval"],i),r(e,["googleSearch"])!=null&&l(t,["googleSearch"],td());const a=r(e,["googleSearchRetrieval"]);a!=null&&l(t,["googleSearchRetrieval"],sd(n,a));const u=r(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function ad(n,e){const t={},o=r(e,["handle"]);if(o!=null&&l(t,["handle"],o),r(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ud(n,e){const t={},o=r(e,["handle"]);o!=null&&l(t,["handle"],o);const i=r(e,["transparent"]);return i!=null&&l(t,["transparent"],i),t}function cd(){return{}}function Fs(){return{}}function dd(n,e){const t={},o=r(e,["disabled"]);o!=null&&l(t,["disabled"],o);const i=r(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const s=r(e,["endOfSpeechSensitivity"]);s!=null&&l(t,["endOfSpeechSensitivity"],s);const a=r(e,["prefixPaddingMs"]);a!=null&&l(t,["prefixPaddingMs"],a);const u=r(e,["silenceDurationMs"]);return u!=null&&l(t,["silenceDurationMs"],u),t}function fd(n,e){const t={},o=r(e,["disabled"]);o!=null&&l(t,["disabled"],o);const i=r(e,["startOfSpeechSensitivity"]);i!=null&&l(t,["startOfSpeechSensitivity"],i);const s=r(e,["endOfSpeechSensitivity"]);s!=null&&l(t,["endOfSpeechSensitivity"],s);const a=r(e,["prefixPaddingMs"]);a!=null&&l(t,["prefixPaddingMs"],a);const u=r(e,["silenceDurationMs"]);return u!=null&&l(t,["silenceDurationMs"],u),t}function pd(n,e){const t={},o=r(e,["automaticActivityDetection"]);o!=null&&l(t,["automaticActivityDetection"],dd(n,o));const i=r(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const s=r(e,["turnCoverage"]);return s!=null&&l(t,["turnCoverage"],s),t}function md(n,e){const t={},o=r(e,["automaticActivityDetection"]);o!=null&&l(t,["automaticActivityDetection"],fd(n,o));const i=r(e,["activityHandling"]);i!=null&&l(t,["activityHandling"],i);const s=r(e,["turnCoverage"]);return s!=null&&l(t,["turnCoverage"],s),t}function vd(n,e){const t={},o=r(e,["targetTokens"]);return o!=null&&l(t,["targetTokens"],o),t}function hd(n,e){const t={},o=r(e,["targetTokens"]);return o!=null&&l(t,["targetTokens"],o),t}function gd(n,e){const t={},o=r(e,["triggerTokens"]);o!=null&&l(t,["triggerTokens"],o);const i=r(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],vd(n,i)),t}function yd(n,e){const t={},o=r(e,["triggerTokens"]);o!=null&&l(t,["triggerTokens"],o);const i=r(e,["slidingWindow"]);return i!=null&&l(t,["slidingWindow"],hd(n,i)),t}function kd(n,e,t){const o={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const s=r(e,["responseModalities"]);t!==void 0&&s!=null&&l(t,["setup","generationConfig","responseModalities"],s);const a=r(e,["temperature"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","temperature"],a);const u=r(e,["topP"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topP"],u);const c=r(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const f=r(e,["maxOutputTokens"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","maxOutputTokens"],f);const d=r(e,["mediaResolution"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","mediaResolution"],d);const m=r(e,["seed"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","seed"],m);const g=r(e,["speechConfig"]);t!==void 0&&g!=null&&l(t,["setup","generationConfig","speechConfig"],g);const p=r(e,["systemInstruction"]);t!==void 0&&p!=null&&l(t,["setup","systemInstruction"],Jc(n,je(n,p)));const k=r(e,["tools"]);t!==void 0&&k!=null&&(Array.isArray(k)?l(t,["setup","tools"],He(n,He(n,k).map(D=>ld(n,Gn(n,D))))):l(t,["setup","tools"],He(n,k)));const _=r(e,["sessionResumption"]);if(t!==void 0&&_!=null&&l(t,["setup","sessionResumption"],ad(n,_)),r(e,["inputAudioTranscription"])!==void 0)throw new Error("inputAudioTranscription parameter is not supported in Gemini API.");const P=r(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&l(t,["setup","outputAudioTranscription"],cd());const A=r(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&l(t,["setup","realtimeInputConfig"],pd(n,A));const R=r(e,["contextWindowCompression"]);return t!==void 0&&R!=null&&l(t,["setup","contextWindowCompression"],gd(n,R)),o}function Td(n,e,t){const o={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&l(t,["setup","generationConfig"],i);const s=r(e,["responseModalities"]);t!==void 0&&s!=null&&l(t,["setup","generationConfig","responseModalities"],s);const a=r(e,["temperature"]);t!==void 0&&a!=null&&l(t,["setup","generationConfig","temperature"],a);const u=r(e,["topP"]);t!==void 0&&u!=null&&l(t,["setup","generationConfig","topP"],u);const c=r(e,["topK"]);t!==void 0&&c!=null&&l(t,["setup","generationConfig","topK"],c);const f=r(e,["maxOutputTokens"]);t!==void 0&&f!=null&&l(t,["setup","generationConfig","maxOutputTokens"],f);const d=r(e,["mediaResolution"]);t!==void 0&&d!=null&&l(t,["setup","generationConfig","mediaResolution"],d);const m=r(e,["seed"]);t!==void 0&&m!=null&&l(t,["setup","generationConfig","seed"],m);const g=r(e,["speechConfig"]);t!==void 0&&g!=null&&l(t,["setup","generationConfig","speechConfig"],g);const p=r(e,["systemInstruction"]);t!==void 0&&p!=null&&l(t,["setup","systemInstruction"],Wc(n,je(n,p)));const k=r(e,["tools"]);t!==void 0&&k!=null&&(Array.isArray(k)?l(t,["setup","tools"],He(n,He(n,k).map(E=>rd(n,Gn(n,E))))):l(t,["setup","tools"],He(n,k)));const _=r(e,["sessionResumption"]);t!==void 0&&_!=null&&l(t,["setup","sessionResumption"],ud(n,_));const P=r(e,["inputAudioTranscription"]);t!==void 0&&P!=null&&l(t,["setup","inputAudioTranscription"],Fs());const A=r(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&l(t,["setup","outputAudioTranscription"],Fs());const R=r(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&l(t,["setup","realtimeInputConfig"],md(n,R));const D=r(e,["contextWindowCompression"]);return t!==void 0&&D!=null&&l(t,["setup","contextWindowCompression"],yd(n,D)),o}function Cd(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["setup","model"],xe(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],kd(n,i,t)),t}function xd(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["setup","model"],xe(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],Td(n,i,t)),t}function _d(){return{}}function wd(){return{}}function Ed(n,e){const t={},o=r(e,["thought"]);o!=null&&l(t,["thought"],o);const i=r(e,["codeExecutionResult"]);i!=null&&l(t,["codeExecutionResult"],i);const s=r(e,["executableCode"]);s!=null&&l(t,["executableCode"],s);const a=r(e,["fileData"]);a!=null&&l(t,["fileData"],a);const u=r(e,["functionCall"]);u!=null&&l(t,["functionCall"],u);const c=r(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const f=r(e,["inlineData"]);f!=null&&l(t,["inlineData"],f);const d=r(e,["text"]);return d!=null&&l(t,["text"],d),t}function Id(n,e){const t={},o=r(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],o);const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const s=r(e,["codeExecutionResult"]);s!=null&&l(t,["codeExecutionResult"],s);const a=r(e,["executableCode"]);a!=null&&l(t,["executableCode"],a);const u=r(e,["fileData"]);u!=null&&l(t,["fileData"],u);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const f=r(e,["functionResponse"]);f!=null&&l(t,["functionResponse"],f);const d=r(e,["inlineData"]);d!=null&&l(t,["inlineData"],d);const m=r(e,["text"]);return m!=null&&l(t,["text"],m),t}function Sd(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>Ed(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function bd(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>Id(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Os(n,e){const t={},o=r(e,["text"]);o!=null&&l(t,["text"],o);const i=r(e,["finished"]);return i!=null&&l(t,["finished"],i),t}function Gs(n,e){const t={},o=r(e,["text"]);o!=null&&l(t,["text"],o);const i=r(e,["finished"]);return i!=null&&l(t,["finished"],i),t}function Ad(n,e){const t={},o=r(e,["modelTurn"]);o!=null&&l(t,["modelTurn"],Sd(n,o));const i=r(e,["turnComplete"]);i!=null&&l(t,["turnComplete"],i);const s=r(e,["interrupted"]);s!=null&&l(t,["interrupted"],s);const a=r(e,["generationComplete"]);a!=null&&l(t,["generationComplete"],a);const u=r(e,["inputTranscription"]);u!=null&&l(t,["inputTranscription"],Os(n,u));const c=r(e,["outputTranscription"]);return c!=null&&l(t,["outputTranscription"],Os(n,c)),t}function Pd(n,e){const t={},o=r(e,["modelTurn"]);o!=null&&l(t,["modelTurn"],bd(n,o));const i=r(e,["turnComplete"]);i!=null&&l(t,["turnComplete"],i);const s=r(e,["interrupted"]);s!=null&&l(t,["interrupted"],s);const a=r(e,["generationComplete"]);a!=null&&l(t,["generationComplete"],a);const u=r(e,["inputTranscription"]);u!=null&&l(t,["inputTranscription"],Gs(n,u));const c=r(e,["outputTranscription"]);return c!=null&&l(t,["outputTranscription"],Gs(n,c)),t}function Rd(n,e){const t={},o=r(e,["id"]);o!=null&&l(t,["id"],o);const i=r(e,["args"]);i!=null&&l(t,["args"],i);const s=r(e,["name"]);return s!=null&&l(t,["name"],s),t}function Md(n,e){const t={},o=r(e,["args"]);o!=null&&l(t,["args"],o);const i=r(e,["name"]);return i!=null&&l(t,["name"],i),t}function Dd(n,e){const t={},o=r(e,["functionCalls"]);return o!=null&&(Array.isArray(o)?l(t,["functionCalls"],o.map(i=>Rd(n,i))):l(t,["functionCalls"],o)),t}function Nd(n,e){const t={},o=r(e,["functionCalls"]);return o!=null&&(Array.isArray(o)?l(t,["functionCalls"],o.map(i=>Md(n,i))):l(t,["functionCalls"],o)),t}function zd(n,e){const t={},o=r(e,["ids"]);return o!=null&&l(t,["ids"],o),t}function Vd(n,e){const t={},o=r(e,["ids"]);return o!=null&&l(t,["ids"],o),t}function yn(n,e){const t={},o=r(e,["modality"]);o!=null&&l(t,["modality"],o);const i=r(e,["tokenCount"]);return i!=null&&l(t,["tokenCount"],i),t}function kn(n,e){const t={},o=r(e,["modality"]);o!=null&&l(t,["modality"],o);const i=r(e,["tokenCount"]);return i!=null&&l(t,["tokenCount"],i),t}function Ud(n,e){const t={},o=r(e,["promptTokenCount"]);o!=null&&l(t,["promptTokenCount"],o);const i=r(e,["cachedContentTokenCount"]);i!=null&&l(t,["cachedContentTokenCount"],i);const s=r(e,["responseTokenCount"]);s!=null&&l(t,["responseTokenCount"],s);const a=r(e,["toolUsePromptTokenCount"]);a!=null&&l(t,["toolUsePromptTokenCount"],a);const u=r(e,["thoughtsTokenCount"]);u!=null&&l(t,["thoughtsTokenCount"],u);const c=r(e,["totalTokenCount"]);c!=null&&l(t,["totalTokenCount"],c);const f=r(e,["promptTokensDetails"]);f!=null&&(Array.isArray(f)?l(t,["promptTokensDetails"],f.map(p=>yn(n,p))):l(t,["promptTokensDetails"],f));const d=r(e,["cacheTokensDetails"]);d!=null&&(Array.isArray(d)?l(t,["cacheTokensDetails"],d.map(p=>yn(n,p))):l(t,["cacheTokensDetails"],d));const m=r(e,["responseTokensDetails"]);m!=null&&(Array.isArray(m)?l(t,["responseTokensDetails"],m.map(p=>yn(n,p))):l(t,["responseTokensDetails"],m));const g=r(e,["toolUsePromptTokensDetails"]);return g!=null&&(Array.isArray(g)?l(t,["toolUsePromptTokensDetails"],g.map(p=>yn(n,p))):l(t,["toolUsePromptTokensDetails"],g)),t}function Ld(n,e){const t={},o=r(e,["promptTokenCount"]);o!=null&&l(t,["promptTokenCount"],o);const i=r(e,["cachedContentTokenCount"]);i!=null&&l(t,["cachedContentTokenCount"],i);const s=r(e,["candidatesTokenCount"]);s!=null&&l(t,["responseTokenCount"],s);const a=r(e,["toolUsePromptTokenCount"]);a!=null&&l(t,["toolUsePromptTokenCount"],a);const u=r(e,["thoughtsTokenCount"]);u!=null&&l(t,["thoughtsTokenCount"],u);const c=r(e,["totalTokenCount"]);c!=null&&l(t,["totalTokenCount"],c);const f=r(e,["promptTokensDetails"]);f!=null&&(Array.isArray(f)?l(t,["promptTokensDetails"],f.map(k=>kn(n,k))):l(t,["promptTokensDetails"],f));const d=r(e,["cacheTokensDetails"]);d!=null&&(Array.isArray(d)?l(t,["cacheTokensDetails"],d.map(k=>kn(n,k))):l(t,["cacheTokensDetails"],d));const m=r(e,["candidatesTokensDetails"]);m!=null&&(Array.isArray(m)?l(t,["responseTokensDetails"],m.map(k=>kn(n,k))):l(t,["responseTokensDetails"],m));const g=r(e,["toolUsePromptTokensDetails"]);g!=null&&(Array.isArray(g)?l(t,["toolUsePromptTokensDetails"],g.map(k=>kn(n,k))):l(t,["toolUsePromptTokensDetails"],g));const p=r(e,["trafficType"]);return p!=null&&l(t,["trafficType"],p),t}function jd(n,e){const t={},o=r(e,["timeLeft"]);return o!=null&&l(t,["timeLeft"],o),t}function Fd(n,e){const t={},o=r(e,["timeLeft"]);return o!=null&&l(t,["timeLeft"],o),t}function Od(n,e){const t={},o=r(e,["newHandle"]);o!=null&&l(t,["newHandle"],o);const i=r(e,["resumable"]);i!=null&&l(t,["resumable"],i);const s=r(e,["lastConsumedClientMessageIndex"]);return s!=null&&l(t,["lastConsumedClientMessageIndex"],s),t}function Gd(n,e){const t={},o=r(e,["newHandle"]);o!=null&&l(t,["newHandle"],o);const i=r(e,["resumable"]);i!=null&&l(t,["resumable"],i);const s=r(e,["lastConsumedClientMessageIndex"]);return s!=null&&l(t,["lastConsumedClientMessageIndex"],s),t}function Hd(n,e){const t={};r(e,["setupComplete"])!=null&&l(t,["setupComplete"],_d());const i=r(e,["serverContent"]);i!=null&&l(t,["serverContent"],Ad(n,i));const s=r(e,["toolCall"]);s!=null&&l(t,["toolCall"],Dd(n,s));const a=r(e,["toolCallCancellation"]);a!=null&&l(t,["toolCallCancellation"],zd(n,a));const u=r(e,["usageMetadata"]);u!=null&&l(t,["usageMetadata"],Ud(n,u));const c=r(e,["goAway"]);c!=null&&l(t,["goAway"],jd(n,c));const f=r(e,["sessionResumptionUpdate"]);return f!=null&&l(t,["sessionResumptionUpdate"],Od(n,f)),t}function $d(n,e){const t={};r(e,["setupComplete"])!=null&&l(t,["setupComplete"],wd());const i=r(e,["serverContent"]);i!=null&&l(t,["serverContent"],Pd(n,i));const s=r(e,["toolCall"]);s!=null&&l(t,["toolCall"],Nd(n,s));const a=r(e,["toolCallCancellation"]);a!=null&&l(t,["toolCallCancellation"],Vd(n,a));const u=r(e,["usageMetadata"]);u!=null&&l(t,["usageMetadata"],Ld(n,u));const c=r(e,["goAway"]);c!=null&&l(t,["goAway"],Fd(n,c));const f=r(e,["sessionResumptionUpdate"]);return f!=null&&l(t,["sessionResumptionUpdate"],Gd(n,f)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qd(n,e){const t={};if(r(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=r(e,["thought"]);o!=null&&l(t,["thought"],o);const i=r(e,["codeExecutionResult"]);i!=null&&l(t,["codeExecutionResult"],i);const s=r(e,["executableCode"]);s!=null&&l(t,["executableCode"],s);const a=r(e,["fileData"]);a!=null&&l(t,["fileData"],a);const u=r(e,["functionCall"]);u!=null&&l(t,["functionCall"],u);const c=r(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const f=r(e,["inlineData"]);f!=null&&l(t,["inlineData"],f);const d=r(e,["text"]);return d!=null&&l(t,["text"],d),t}function Hn(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>qd(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function Kd(n,e){const t={};if(r(e,["example"])!==void 0)throw new Error("example parameter is not supported in Gemini API.");if(r(e,["pattern"])!==void 0)throw new Error("pattern parameter is not supported in Gemini API.");if(r(e,["default"])!==void 0)throw new Error("default parameter is not supported in Gemini API.");if(r(e,["maxLength"])!==void 0)throw new Error("maxLength parameter is not supported in Gemini API.");if(r(e,["minLength"])!==void 0)throw new Error("minLength parameter is not supported in Gemini API.");if(r(e,["minProperties"])!==void 0)throw new Error("minProperties parameter is not supported in Gemini API.");if(r(e,["maxProperties"])!==void 0)throw new Error("maxProperties parameter is not supported in Gemini API.");const o=r(e,["anyOf"]);o!=null&&l(t,["anyOf"],o);const i=r(e,["description"]);i!=null&&l(t,["description"],i);const s=r(e,["enum"]);s!=null&&l(t,["enum"],s);const a=r(e,["format"]);a!=null&&l(t,["format"],a);const u=r(e,["items"]);u!=null&&l(t,["items"],u);const c=r(e,["maxItems"]);c!=null&&l(t,["maxItems"],c);const f=r(e,["maximum"]);f!=null&&l(t,["maximum"],f);const d=r(e,["minItems"]);d!=null&&l(t,["minItems"],d);const m=r(e,["minimum"]);m!=null&&l(t,["minimum"],m);const g=r(e,["nullable"]);g!=null&&l(t,["nullable"],g);const p=r(e,["properties"]);p!=null&&l(t,["properties"],p);const k=r(e,["propertyOrdering"]);k!=null&&l(t,["propertyOrdering"],k);const _=r(e,["required"]);_!=null&&l(t,["required"],_);const P=r(e,["title"]);P!=null&&l(t,["title"],P);const A=r(e,["type"]);return A!=null&&l(t,["type"],A),t}function Bd(n,e){const t={};if(r(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(e,["category"]);o!=null&&l(t,["category"],o);const i=r(e,["threshold"]);return i!=null&&l(t,["threshold"],i),t}function Yd(n,e){const t={};if(r(e,["response"])!==void 0)throw new Error("response parameter is not supported in Gemini API.");const o=r(e,["description"]);o!=null&&l(t,["description"],o);const i=r(e,["name"]);i!=null&&l(t,["name"],i);const s=r(e,["parameters"]);return s!=null&&l(t,["parameters"],s),t}function Jd(){return{}}function Wd(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function Zd(n,e){const t={},o=r(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],Wd(n,o)),t}function Xd(n,e){const t={},o=r(e,["functionDeclarations"]);if(o!=null&&(Array.isArray(o)?l(t,["functionDeclarations"],o.map(u=>Yd(n,u))):l(t,["functionDeclarations"],o)),r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");r(e,["googleSearch"])!=null&&l(t,["googleSearch"],Jd());const s=r(e,["googleSearchRetrieval"]);s!=null&&l(t,["googleSearchRetrieval"],Zd(n,s));const a=r(e,["codeExecution"]);return a!=null&&l(t,["codeExecution"],a),t}function Qd(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function ef(n,e){const t={},o=r(e,["functionCallingConfig"]);return o!=null&&l(t,["functionCallingConfig"],Qd(n,o)),t}function tf(n,e){const t={},o=r(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function nf(n,e){const t={},o=r(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],tf(n,o)),t}function of(n,e){const t={},o=r(e,["voiceConfig"]);o!=null&&l(t,["voiceConfig"],nf(n,o));const i=r(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function sf(n,e){const t={},o=r(e,["includeThoughts"]);o!=null&&l(t,["includeThoughts"],o);const i=r(e,["thinkingBudget"]);return i!=null&&l(t,["thinkingBudget"],i),t}function lf(n,e,t){const o={},i=r(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],Hn(n,je(n,i)));const s=r(e,["temperature"]);s!=null&&l(o,["temperature"],s);const a=r(e,["topP"]);a!=null&&l(o,["topP"],a);const u=r(e,["topK"]);u!=null&&l(o,["topK"],u);const c=r(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);const f=r(e,["maxOutputTokens"]);f!=null&&l(o,["maxOutputTokens"],f);const d=r(e,["stopSequences"]);d!=null&&l(o,["stopSequences"],d);const m=r(e,["responseLogprobs"]);m!=null&&l(o,["responseLogprobs"],m);const g=r(e,["logprobs"]);g!=null&&l(o,["logprobs"],g);const p=r(e,["presencePenalty"]);p!=null&&l(o,["presencePenalty"],p);const k=r(e,["frequencyPenalty"]);k!=null&&l(o,["frequencyPenalty"],k);const _=r(e,["seed"]);_!=null&&l(o,["seed"],_);const P=r(e,["responseMimeType"]);P!=null&&l(o,["responseMimeType"],P);const A=r(e,["responseSchema"]);if(A!=null&&l(o,["responseSchema"],Kd(n,tr(n,A))),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=r(e,["safetySettings"]);t!==void 0&&R!=null&&(Array.isArray(R)?l(t,["safetySettings"],R.map(oe=>Bd(n,oe))):l(t,["safetySettings"],R));const D=r(e,["tools"]);t!==void 0&&D!=null&&(Array.isArray(D)?l(t,["tools"],He(n,He(n,D).map(oe=>Xd(n,Gn(n,oe))))):l(t,["tools"],He(n,D)));const E=r(e,["toolConfig"]);if(t!==void 0&&E!=null&&l(t,["toolConfig"],ef(n,E)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=r(e,["cachedContent"]);t!==void 0&&N!=null&&l(t,["cachedContent"],Tt(n,N));const $=r(e,["responseModalities"]);$!=null&&l(o,["responseModalities"],$);const q=r(e,["mediaResolution"]);q!=null&&l(o,["mediaResolution"],q);const K=r(e,["speechConfig"]);if(K!=null&&l(o,["speechConfig"],of(n,nr(n,K))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=r(e,["thinkingConfig"]);return re!=null&&l(o,["thinkingConfig"],sf(n,re)),o}function Hs(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["contents"]);i!=null&&(Array.isArray(i)?l(t,["contents"],ce(n,ce(n,i).map(a=>Hn(n,a)))):l(t,["contents"],ce(n,i)));const s=r(e,["config"]);return s!=null&&l(t,["generationConfig"],lf(n,s,t)),t}function rf(n,e,t){const o={},i=r(e,["taskType"]);t!==void 0&&i!=null&&l(t,["requests[]","taskType"],i);const s=r(e,["title"]);t!==void 0&&s!=null&&l(t,["requests[]","title"],s);const a=r(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&l(t,["requests[]","outputDimensionality"],a),r(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function af(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["contents"]);i!=null&&l(t,["requests[]","content"],er(n,i));const s=r(e,["config"]);s!=null&&l(t,["config"],rf(n,s,t));const a=r(e,["model"]);return a!==void 0&&l(t,["requests[]","model"],xe(n,a)),t}function uf(n,e,t){const o={};if(r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=r(e,["numberOfImages"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const s=r(e,["aspectRatio"]);t!==void 0&&s!=null&&l(t,["parameters","aspectRatio"],s);const a=r(e,["guidanceScale"]);if(t!==void 0&&a!=null&&l(t,["parameters","guidanceScale"],a),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=r(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&l(t,["parameters","safetySetting"],u);const c=r(e,["personGeneration"]);t!==void 0&&c!=null&&l(t,["parameters","personGeneration"],c);const f=r(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&l(t,["parameters","includeSafetyAttributes"],f);const d=r(e,["includeRaiReason"]);t!==void 0&&d!=null&&l(t,["parameters","includeRaiReason"],d);const m=r(e,["language"]);t!==void 0&&m!=null&&l(t,["parameters","language"],m);const g=r(e,["outputMimeType"]);t!==void 0&&g!=null&&l(t,["parameters","outputOptions","mimeType"],g);const p=r(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&l(t,["parameters","outputOptions","compressionQuality"],p),r(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function cf(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const s=r(e,["config"]);return s!=null&&l(t,["config"],uf(n,s,t)),t}function df(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","name"],xe(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function ff(n,e){const t={};if(r(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function pf(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["contents"]);i!=null&&(Array.isArray(i)?l(t,["contents"],ce(n,ce(n,i).map(a=>Hn(n,a)))):l(t,["contents"],ce(n,i)));const s=r(e,["config"]);return s!=null&&l(t,["config"],ff(n,s)),t}function mf(n,e){const t={};if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(e,["imageBytes"]);o!=null&&l(t,["bytesBase64Encoded"],Ct(n,o));const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function vf(n,e,t){const o={},i=r(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i),r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=r(e,["durationSeconds"]);if(t!==void 0&&s!=null&&l(t,["parameters","durationSeconds"],s),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=r(e,["aspectRatio"]);if(t!==void 0&&a!=null&&l(t,["parameters","aspectRatio"],a),r(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=r(e,["personGeneration"]);if(t!==void 0&&u!=null&&l(t,["parameters","personGeneration"],u),r(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=r(e,["negativePrompt"]);if(t!==void 0&&c!=null&&l(t,["parameters","negativePrompt"],c),r(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function hf(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const s=r(e,["image"]);s!=null&&l(t,["instances[0]","image"],mf(n,s));const a=r(e,["config"]);return a!=null&&l(t,["config"],vf(n,a,t)),t}function gf(n,e){const t={},o=r(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],o);const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const s=r(e,["codeExecutionResult"]);s!=null&&l(t,["codeExecutionResult"],s);const a=r(e,["executableCode"]);a!=null&&l(t,["executableCode"],a);const u=r(e,["fileData"]);u!=null&&l(t,["fileData"],u);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const f=r(e,["functionResponse"]);f!=null&&l(t,["functionResponse"],f);const d=r(e,["inlineData"]);d!=null&&l(t,["inlineData"],d);const m=r(e,["text"]);return m!=null&&l(t,["text"],m),t}function Gt(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>gf(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function lr(n,e){const t={},o=r(e,["example"]);o!=null&&l(t,["example"],o);const i=r(e,["pattern"]);i!=null&&l(t,["pattern"],i);const s=r(e,["default"]);s!=null&&l(t,["default"],s);const a=r(e,["maxLength"]);a!=null&&l(t,["maxLength"],a);const u=r(e,["minLength"]);u!=null&&l(t,["minLength"],u);const c=r(e,["minProperties"]);c!=null&&l(t,["minProperties"],c);const f=r(e,["maxProperties"]);f!=null&&l(t,["maxProperties"],f);const d=r(e,["anyOf"]);d!=null&&l(t,["anyOf"],d);const m=r(e,["description"]);m!=null&&l(t,["description"],m);const g=r(e,["enum"]);g!=null&&l(t,["enum"],g);const p=r(e,["format"]);p!=null&&l(t,["format"],p);const k=r(e,["items"]);k!=null&&l(t,["items"],k);const _=r(e,["maxItems"]);_!=null&&l(t,["maxItems"],_);const P=r(e,["maximum"]);P!=null&&l(t,["maximum"],P);const A=r(e,["minItems"]);A!=null&&l(t,["minItems"],A);const R=r(e,["minimum"]);R!=null&&l(t,["minimum"],R);const D=r(e,["nullable"]);D!=null&&l(t,["nullable"],D);const E=r(e,["properties"]);E!=null&&l(t,["properties"],E);const N=r(e,["propertyOrdering"]);N!=null&&l(t,["propertyOrdering"],N);const $=r(e,["required"]);$!=null&&l(t,["required"],$);const q=r(e,["title"]);q!=null&&l(t,["title"],q);const K=r(e,["type"]);return K!=null&&l(t,["type"],K),t}function yf(n,e){const t={},o=r(e,["featureSelectionPreference"]);return o!=null&&l(t,["featureSelectionPreference"],o),t}function kf(n,e){const t={},o=r(e,["method"]);o!=null&&l(t,["method"],o);const i=r(e,["category"]);i!=null&&l(t,["category"],i);const s=r(e,["threshold"]);return s!=null&&l(t,["threshold"],s),t}function Tf(n,e){const t={},o=r(e,["response"]);o!=null&&l(t,["response"],lr(n,o));const i=r(e,["description"]);i!=null&&l(t,["description"],i);const s=r(e,["name"]);s!=null&&l(t,["name"],s);const a=r(e,["parameters"]);return a!=null&&l(t,["parameters"],a),t}function Cf(){return{}}function xf(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["dynamicThreshold"]);return i!=null&&l(t,["dynamicThreshold"],i),t}function _f(n,e){const t={},o=r(e,["dynamicRetrievalConfig"]);return o!=null&&l(t,["dynamicRetrievalConfig"],xf(n,o)),t}function rr(n,e){const t={},o=r(e,["functionDeclarations"]);o!=null&&(Array.isArray(o)?l(t,["functionDeclarations"],o.map(c=>Tf(n,c))):l(t,["functionDeclarations"],o));const i=r(e,["retrieval"]);i!=null&&l(t,["retrieval"],i),r(e,["googleSearch"])!=null&&l(t,["googleSearch"],Cf());const a=r(e,["googleSearchRetrieval"]);a!=null&&l(t,["googleSearchRetrieval"],_f(n,a));const u=r(e,["codeExecution"]);return u!=null&&l(t,["codeExecution"],u),t}function wf(n,e){const t={},o=r(e,["mode"]);o!=null&&l(t,["mode"],o);const i=r(e,["allowedFunctionNames"]);return i!=null&&l(t,["allowedFunctionNames"],i),t}function Ef(n,e){const t={},o=r(e,["functionCallingConfig"]);return o!=null&&l(t,["functionCallingConfig"],wf(n,o)),t}function If(n,e){const t={},o=r(e,["voiceName"]);return o!=null&&l(t,["voiceName"],o),t}function Sf(n,e){const t={},o=r(e,["prebuiltVoiceConfig"]);return o!=null&&l(t,["prebuiltVoiceConfig"],If(n,o)),t}function bf(n,e){const t={},o=r(e,["voiceConfig"]);o!=null&&l(t,["voiceConfig"],Sf(n,o));const i=r(e,["languageCode"]);return i!=null&&l(t,["languageCode"],i),t}function Af(n,e){const t={},o=r(e,["includeThoughts"]);o!=null&&l(t,["includeThoughts"],o);const i=r(e,["thinkingBudget"]);return i!=null&&l(t,["thinkingBudget"],i),t}function Pf(n,e,t){const o={},i=r(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],Gt(n,je(n,i)));const s=r(e,["temperature"]);s!=null&&l(o,["temperature"],s);const a=r(e,["topP"]);a!=null&&l(o,["topP"],a);const u=r(e,["topK"]);u!=null&&l(o,["topK"],u);const c=r(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);const f=r(e,["maxOutputTokens"]);f!=null&&l(o,["maxOutputTokens"],f);const d=r(e,["stopSequences"]);d!=null&&l(o,["stopSequences"],d);const m=r(e,["responseLogprobs"]);m!=null&&l(o,["responseLogprobs"],m);const g=r(e,["logprobs"]);g!=null&&l(o,["logprobs"],g);const p=r(e,["presencePenalty"]);p!=null&&l(o,["presencePenalty"],p);const k=r(e,["frequencyPenalty"]);k!=null&&l(o,["frequencyPenalty"],k);const _=r(e,["seed"]);_!=null&&l(o,["seed"],_);const P=r(e,["responseMimeType"]);P!=null&&l(o,["responseMimeType"],P);const A=r(e,["responseSchema"]);A!=null&&l(o,["responseSchema"],lr(n,tr(n,A)));const R=r(e,["routingConfig"]);R!=null&&l(o,["routingConfig"],R);const D=r(e,["modelSelectionConfig"]);D!=null&&l(o,["modelConfig"],yf(n,D));const E=r(e,["safetySettings"]);t!==void 0&&E!=null&&(Array.isArray(E)?l(t,["safetySettings"],E.map(me=>kf(n,me))):l(t,["safetySettings"],E));const N=r(e,["tools"]);t!==void 0&&N!=null&&(Array.isArray(N)?l(t,["tools"],He(n,He(n,N).map(me=>rr(n,Gn(n,me))))):l(t,["tools"],He(n,N)));const $=r(e,["toolConfig"]);t!==void 0&&$!=null&&l(t,["toolConfig"],Ef(n,$));const q=r(e,["labels"]);t!==void 0&&q!=null&&l(t,["labels"],q);const K=r(e,["cachedContent"]);t!==void 0&&K!=null&&l(t,["cachedContent"],Tt(n,K));const re=r(e,["responseModalities"]);re!=null&&l(o,["responseModalities"],re);const oe=r(e,["mediaResolution"]);oe!=null&&l(o,["mediaResolution"],oe);const pe=r(e,["speechConfig"]);pe!=null&&l(o,["speechConfig"],bf(n,nr(n,pe)));const ge=r(e,["audioTimestamp"]);ge!=null&&l(o,["audioTimestamp"],ge);const Fe=r(e,["thinkingConfig"]);return Fe!=null&&l(o,["thinkingConfig"],Af(n,Fe)),o}function $s(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["contents"]);i!=null&&(Array.isArray(i)?l(t,["contents"],ce(n,ce(n,i).map(a=>Gt(n,a)))):l(t,["contents"],ce(n,i)));const s=r(e,["config"]);return s!=null&&l(t,["generationConfig"],Pf(n,s,t)),t}function Rf(n,e,t){const o={},i=r(e,["taskType"]);t!==void 0&&i!=null&&l(t,["instances[]","task_type"],i);const s=r(e,["title"]);t!==void 0&&s!=null&&l(t,["instances[]","title"],s);const a=r(e,["outputDimensionality"]);t!==void 0&&a!=null&&l(t,["parameters","outputDimensionality"],a);const u=r(e,["mimeType"]);t!==void 0&&u!=null&&l(t,["instances[]","mimeType"],u);const c=r(e,["autoTruncate"]);return t!==void 0&&c!=null&&l(t,["parameters","autoTruncate"],c),o}function Mf(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["contents"]);i!=null&&l(t,["instances[]","content"],er(n,i));const s=r(e,["config"]);return s!=null&&l(t,["config"],Rf(n,s,t)),t}function Df(n,e,t){const o={},i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&l(t,["parameters","storageUri"],i);const s=r(e,["negativePrompt"]);t!==void 0&&s!=null&&l(t,["parameters","negativePrompt"],s);const a=r(e,["numberOfImages"]);t!==void 0&&a!=null&&l(t,["parameters","sampleCount"],a);const u=r(e,["aspectRatio"]);t!==void 0&&u!=null&&l(t,["parameters","aspectRatio"],u);const c=r(e,["guidanceScale"]);t!==void 0&&c!=null&&l(t,["parameters","guidanceScale"],c);const f=r(e,["seed"]);t!==void 0&&f!=null&&l(t,["parameters","seed"],f);const d=r(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&l(t,["parameters","safetySetting"],d);const m=r(e,["personGeneration"]);t!==void 0&&m!=null&&l(t,["parameters","personGeneration"],m);const g=r(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&l(t,["parameters","includeSafetyAttributes"],g);const p=r(e,["includeRaiReason"]);t!==void 0&&p!=null&&l(t,["parameters","includeRaiReason"],p);const k=r(e,["language"]);t!==void 0&&k!=null&&l(t,["parameters","language"],k);const _=r(e,["outputMimeType"]);t!==void 0&&_!=null&&l(t,["parameters","outputOptions","mimeType"],_);const P=r(e,["outputCompressionQuality"]);t!==void 0&&P!=null&&l(t,["parameters","outputOptions","compressionQuality"],P);const A=r(e,["addWatermark"]);t!==void 0&&A!=null&&l(t,["parameters","addWatermark"],A);const R=r(e,["enhancePrompt"]);return t!==void 0&&R!=null&&l(t,["parameters","enhancePrompt"],R),o}function Nf(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const s=r(e,["config"]);return s!=null&&l(t,["config"],Df(n,s,t)),t}function zf(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","name"],xe(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Vf(n,e,t){const o={},i=r(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],Gt(n,je(n,i)));const s=r(e,["tools"]);t!==void 0&&s!=null&&(Array.isArray(s)?l(t,["tools"],s.map(u=>rr(n,u))):l(t,["tools"],s));const a=r(e,["generationConfig"]);return t!==void 0&&a!=null&&l(t,["generationConfig"],a),o}function Uf(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["contents"]);i!=null&&(Array.isArray(i)?l(t,["contents"],ce(n,ce(n,i).map(a=>Gt(n,a)))):l(t,["contents"],ce(n,i)));const s=r(e,["config"]);return s!=null&&l(t,["config"],Vf(n,s,t)),t}function Lf(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["contents"]);i!=null&&(Array.isArray(i)?l(t,["contents"],ce(n,ce(n,i).map(a=>Gt(n,a)))):l(t,["contents"],ce(n,i)));const s=r(e,["config"]);return s!=null&&l(t,["config"],s),t}function jf(n,e){const t={},o=r(e,["gcsUri"]);o!=null&&l(t,["gcsUri"],o);const i=r(e,["imageBytes"]);i!=null&&l(t,["bytesBase64Encoded"],Ct(n,i));const s=r(e,["mimeType"]);return s!=null&&l(t,["mimeType"],s),t}function Ff(n,e,t){const o={},i=r(e,["numberOfVideos"]);t!==void 0&&i!=null&&l(t,["parameters","sampleCount"],i);const s=r(e,["outputGcsUri"]);t!==void 0&&s!=null&&l(t,["parameters","storageUri"],s);const a=r(e,["fps"]);t!==void 0&&a!=null&&l(t,["parameters","fps"],a);const u=r(e,["durationSeconds"]);t!==void 0&&u!=null&&l(t,["parameters","durationSeconds"],u);const c=r(e,["seed"]);t!==void 0&&c!=null&&l(t,["parameters","seed"],c);const f=r(e,["aspectRatio"]);t!==void 0&&f!=null&&l(t,["parameters","aspectRatio"],f);const d=r(e,["resolution"]);t!==void 0&&d!=null&&l(t,["parameters","resolution"],d);const m=r(e,["personGeneration"]);t!==void 0&&m!=null&&l(t,["parameters","personGeneration"],m);const g=r(e,["pubsubTopic"]);t!==void 0&&g!=null&&l(t,["parameters","pubsubTopic"],g);const p=r(e,["negativePrompt"]);t!==void 0&&p!=null&&l(t,["parameters","negativePrompt"],p);const k=r(e,["enhancePrompt"]);return t!==void 0&&k!=null&&l(t,["parameters","enhancePrompt"],k),o}function Of(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],xe(n,o));const i=r(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const s=r(e,["image"]);s!=null&&l(t,["instances[0]","image"],jf(n,s));const a=r(e,["config"]);return a!=null&&l(t,["config"],Ff(n,a,t)),t}function Gf(n,e){const t={},o=r(e,["thought"]);o!=null&&l(t,["thought"],o);const i=r(e,["codeExecutionResult"]);i!=null&&l(t,["codeExecutionResult"],i);const s=r(e,["executableCode"]);s!=null&&l(t,["executableCode"],s);const a=r(e,["fileData"]);a!=null&&l(t,["fileData"],a);const u=r(e,["functionCall"]);u!=null&&l(t,["functionCall"],u);const c=r(e,["functionResponse"]);c!=null&&l(t,["functionResponse"],c);const f=r(e,["inlineData"]);f!=null&&l(t,["inlineData"],f);const d=r(e,["text"]);return d!=null&&l(t,["text"],d),t}function Hf(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>Gf(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function $f(n,e){const t={},o=r(e,["citationSources"]);return o!=null&&l(t,["citations"],o),t}function qf(n,e){const t={},o=r(e,["content"]);o!=null&&l(t,["content"],Hf(n,o));const i=r(e,["citationMetadata"]);i!=null&&l(t,["citationMetadata"],$f(n,i));const s=r(e,["tokenCount"]);s!=null&&l(t,["tokenCount"],s);const a=r(e,["finishReason"]);a!=null&&l(t,["finishReason"],a);const u=r(e,["avgLogprobs"]);u!=null&&l(t,["avgLogprobs"],u);const c=r(e,["groundingMetadata"]);c!=null&&l(t,["groundingMetadata"],c);const f=r(e,["index"]);f!=null&&l(t,["index"],f);const d=r(e,["logprobsResult"]);d!=null&&l(t,["logprobsResult"],d);const m=r(e,["safetyRatings"]);return m!=null&&l(t,["safetyRatings"],m),t}function qs(n,e){const t={},o=r(e,["candidates"]);o!=null&&(Array.isArray(o)?l(t,["candidates"],o.map(u=>qf(n,u))):l(t,["candidates"],o));const i=r(e,["modelVersion"]);i!=null&&l(t,["modelVersion"],i);const s=r(e,["promptFeedback"]);s!=null&&l(t,["promptFeedback"],s);const a=r(e,["usageMetadata"]);return a!=null&&l(t,["usageMetadata"],a),t}function Kf(n,e){const t={},o=r(e,["values"]);return o!=null&&l(t,["values"],o),t}function Bf(){return{}}function Yf(n,e){const t={},o=r(e,["embeddings"]);return o!=null&&(Array.isArray(o)?l(t,["embeddings"],o.map(s=>Kf(n,s))):l(t,["embeddings"],o)),r(e,["metadata"])!=null&&l(t,["metadata"],Bf()),t}function Jf(n,e){const t={},o=r(e,["bytesBase64Encoded"]);o!=null&&l(t,["imageBytes"],Ct(n,o));const i=r(e,["mimeType"]);return i!=null&&l(t,["mimeType"],i),t}function ar(n,e){const t={},o=r(e,["safetyAttributes","categories"]);o!=null&&l(t,["categories"],o);const i=r(e,["safetyAttributes","scores"]);i!=null&&l(t,["scores"],i);const s=r(e,["contentType"]);return s!=null&&l(t,["contentType"],s),t}function Wf(n,e){const t={},o=r(e,["_self"]);o!=null&&l(t,["image"],Jf(n,o));const i=r(e,["raiFilteredReason"]);i!=null&&l(t,["raiFilteredReason"],i);const s=r(e,["_self"]);return s!=null&&l(t,["safetyAttributes"],ar(n,s)),t}function Zf(n,e){const t={},o=r(e,["predictions"]);o!=null&&(Array.isArray(o)?l(t,["generatedImages"],o.map(s=>Wf(n,s))):l(t,["generatedImages"],o));const i=r(e,["positivePromptSafetyAttributes"]);return i!=null&&l(t,["positivePromptSafetyAttributes"],ar(n,i)),t}function Xf(n,e){const t={},o=r(e,["baseModel"]);o!=null&&l(t,["baseModel"],o);const i=r(e,["createTime"]);i!=null&&l(t,["createTime"],i);const s=r(e,["updateTime"]);return s!=null&&l(t,["updateTime"],s),t}function Qf(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const s=r(e,["description"]);s!=null&&l(t,["description"],s);const a=r(e,["version"]);a!=null&&l(t,["version"],a);const u=r(e,["_self"]);u!=null&&l(t,["tunedModelInfo"],Xf(n,u));const c=r(e,["inputTokenLimit"]);c!=null&&l(t,["inputTokenLimit"],c);const f=r(e,["outputTokenLimit"]);f!=null&&l(t,["outputTokenLimit"],f);const d=r(e,["supportedGenerationMethods"]);return d!=null&&l(t,["supportedActions"],d),t}function ep(n,e){const t={},o=r(e,["totalTokens"]);o!=null&&l(t,["totalTokens"],o);const i=r(e,["cachedContentTokenCount"]);return i!=null&&l(t,["cachedContentTokenCount"],i),t}function tp(n,e){const t={},o=r(e,["video","uri"]);o!=null&&l(t,["uri"],o);const i=r(e,["video","encodedVideo"]);i!=null&&l(t,["videoBytes"],Ct(n,i));const s=r(e,["encoding"]);return s!=null&&l(t,["mimeType"],s),t}function np(n,e){const t={},o=r(e,["_self"]);return o!=null&&l(t,["video"],tp(n,o)),t}function op(n,e){const t={},o=r(e,["generatedSamples"]);o!=null&&(Array.isArray(o)?l(t,["generatedVideos"],o.map(a=>np(n,a))):l(t,["generatedVideos"],o));const i=r(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const s=r(e,["raiMediaFilteredReasons"]);return s!=null&&l(t,["raiMediaFilteredReasons"],s),t}function ip(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["metadata"]);i!=null&&l(t,["metadata"],i);const s=r(e,["done"]);s!=null&&l(t,["done"],s);const a=r(e,["error"]);a!=null&&l(t,["error"],a);const u=r(e,["response","generateVideoResponse"]);return u!=null&&l(t,["response"],op(n,u)),t}function sp(n,e){const t={},o=r(e,["videoMetadata"]);o!=null&&l(t,["videoMetadata"],o);const i=r(e,["thought"]);i!=null&&l(t,["thought"],i);const s=r(e,["codeExecutionResult"]);s!=null&&l(t,["codeExecutionResult"],s);const a=r(e,["executableCode"]);a!=null&&l(t,["executableCode"],a);const u=r(e,["fileData"]);u!=null&&l(t,["fileData"],u);const c=r(e,["functionCall"]);c!=null&&l(t,["functionCall"],c);const f=r(e,["functionResponse"]);f!=null&&l(t,["functionResponse"],f);const d=r(e,["inlineData"]);d!=null&&l(t,["inlineData"],d);const m=r(e,["text"]);return m!=null&&l(t,["text"],m),t}function lp(n,e){const t={},o=r(e,["parts"]);o!=null&&(Array.isArray(o)?l(t,["parts"],o.map(s=>sp(n,s))):l(t,["parts"],o));const i=r(e,["role"]);return i!=null&&l(t,["role"],i),t}function rp(n,e){const t={},o=r(e,["citations"]);return o!=null&&l(t,["citations"],o),t}function ap(n,e){const t={},o=r(e,["content"]);o!=null&&l(t,["content"],lp(n,o));const i=r(e,["citationMetadata"]);i!=null&&l(t,["citationMetadata"],rp(n,i));const s=r(e,["finishMessage"]);s!=null&&l(t,["finishMessage"],s);const a=r(e,["finishReason"]);a!=null&&l(t,["finishReason"],a);const u=r(e,["avgLogprobs"]);u!=null&&l(t,["avgLogprobs"],u);const c=r(e,["groundingMetadata"]);c!=null&&l(t,["groundingMetadata"],c);const f=r(e,["index"]);f!=null&&l(t,["index"],f);const d=r(e,["logprobsResult"]);d!=null&&l(t,["logprobsResult"],d);const m=r(e,["safetyRatings"]);return m!=null&&l(t,["safetyRatings"],m),t}function Ks(n,e){const t={},o=r(e,["candidates"]);o!=null&&(Array.isArray(o)?l(t,["candidates"],o.map(f=>ap(n,f))):l(t,["candidates"],o));const i=r(e,["createTime"]);i!=null&&l(t,["createTime"],i);const s=r(e,["responseId"]);s!=null&&l(t,["responseId"],s);const a=r(e,["modelVersion"]);a!=null&&l(t,["modelVersion"],a);const u=r(e,["promptFeedback"]);u!=null&&l(t,["promptFeedback"],u);const c=r(e,["usageMetadata"]);return c!=null&&l(t,["usageMetadata"],c),t}function up(n,e){const t={},o=r(e,["truncated"]);o!=null&&l(t,["truncated"],o);const i=r(e,["token_count"]);return i!=null&&l(t,["tokenCount"],i),t}function cp(n,e){const t={},o=r(e,["values"]);o!=null&&l(t,["values"],o);const i=r(e,["statistics"]);return i!=null&&l(t,["statistics"],up(n,i)),t}function dp(n,e){const t={},o=r(e,["billableCharacterCount"]);return o!=null&&l(t,["billableCharacterCount"],o),t}function fp(n,e){const t={},o=r(e,["predictions[]","embeddings"]);o!=null&&(Array.isArray(o)?l(t,["embeddings"],o.map(s=>cp(n,s))):l(t,["embeddings"],o));const i=r(e,["metadata"]);return i!=null&&l(t,["metadata"],dp(n,i)),t}function pp(n,e){const t={},o=r(e,["gcsUri"]);o!=null&&l(t,["gcsUri"],o);const i=r(e,["bytesBase64Encoded"]);i!=null&&l(t,["imageBytes"],Ct(n,i));const s=r(e,["mimeType"]);return s!=null&&l(t,["mimeType"],s),t}function ur(n,e){const t={},o=r(e,["safetyAttributes","categories"]);o!=null&&l(t,["categories"],o);const i=r(e,["safetyAttributes","scores"]);i!=null&&l(t,["scores"],i);const s=r(e,["contentType"]);return s!=null&&l(t,["contentType"],s),t}function mp(n,e){const t={},o=r(e,["_self"]);o!=null&&l(t,["image"],pp(n,o));const i=r(e,["raiFilteredReason"]);i!=null&&l(t,["raiFilteredReason"],i);const s=r(e,["_self"]);s!=null&&l(t,["safetyAttributes"],ur(n,s));const a=r(e,["prompt"]);return a!=null&&l(t,["enhancedPrompt"],a),t}function vp(n,e){const t={},o=r(e,["predictions"]);o!=null&&(Array.isArray(o)?l(t,["generatedImages"],o.map(s=>mp(n,s))):l(t,["generatedImages"],o));const i=r(e,["positivePromptSafetyAttributes"]);return i!=null&&l(t,["positivePromptSafetyAttributes"],ur(n,i)),t}function hp(n,e){const t={},o=r(e,["endpoint"]);o!=null&&l(t,["name"],o);const i=r(e,["deployedModelId"]);return i!=null&&l(t,["deployedModelId"],i),t}function gp(n,e){const t={},o=r(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&l(t,["baseModel"],o);const i=r(e,["createTime"]);i!=null&&l(t,["createTime"],i);const s=r(e,["updateTime"]);return s!=null&&l(t,["updateTime"],s),t}function yp(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["displayName"]);i!=null&&l(t,["displayName"],i);const s=r(e,["description"]);s!=null&&l(t,["description"],s);const a=r(e,["versionId"]);a!=null&&l(t,["version"],a);const u=r(e,["deployedModels"]);u!=null&&(Array.isArray(u)?l(t,["endpoints"],u.map(d=>hp(n,d))):l(t,["endpoints"],u));const c=r(e,["labels"]);c!=null&&l(t,["labels"],c);const f=r(e,["_self"]);return f!=null&&l(t,["tunedModelInfo"],gp(n,f)),t}function kp(n,e){const t={},o=r(e,["totalTokens"]);return o!=null&&l(t,["totalTokens"],o),t}function Tp(n,e){const t={},o=r(e,["tokensInfo"]);return o!=null&&l(t,["tokensInfo"],o),t}function Cp(n,e){const t={},o=r(e,["gcsUri"]);o!=null&&l(t,["uri"],o);const i=r(e,["bytesBase64Encoded"]);i!=null&&l(t,["videoBytes"],Ct(n,i));const s=r(e,["mimeType"]);return s!=null&&l(t,["mimeType"],s),t}function xp(n,e){const t={},o=r(e,["_self"]);return o!=null&&l(t,["video"],Cp(n,o)),t}function _p(n,e){const t={},o=r(e,["videos"]);o!=null&&(Array.isArray(o)?l(t,["generatedVideos"],o.map(a=>xp(n,a))):l(t,["generatedVideos"],o));const i=r(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const s=r(e,["raiMediaFilteredReasons"]);return s!=null&&l(t,["raiMediaFilteredReasons"],s),t}function wp(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["metadata"]);i!=null&&l(t,["metadata"],i);const s=r(e,["done"]);s!=null&&l(t,["done"],s);const a=r(e,["error"]);a!=null&&l(t,["error"],a);const u=r(e,["response"]);return u!=null&&l(t,["response"],_p(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ep="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ip(n,e,t){let o,i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),n.isVertexAI()?o=$d(n,i):o=Hd(n,i),e(o)}class Sp{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o,i,s;const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=Rp(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())c=`${a}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f);else{const E=this.apiClient.getApiKey();c=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateContent?key=${E}`}let d=()=>{};const m=new Promise(E=>{d=E}),g=e.callbacks,p=function(){var E;(E=g==null?void 0:g.onopen)===null||E===void 0||E.call(g),d({})},k=this.apiClient,_={onopen:p,onmessage:E=>{Ip(k,g.onmessage,E)},onerror:(t=g==null?void 0:g.onerror)!==null&&t!==void 0?t:function(E){},onclose:(o=g==null?void 0:g.onclose)!==null&&o!==void 0?o:function(E){}},P=this.webSocketFactory.create(c,Pp(f),_);P.connect(),await m;let A=xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const E=this.apiClient.getProject(),N=this.apiClient.getLocation();A=`projects/${E}/locations/${N}/`+A}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[cn.AUDIO]}:e.config.responseModalities=[cn.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=xd(this.apiClient,D):R=Cd(this.apiClient,D),delete R.config,P.send(JSON.stringify(R)),new Ap(P,this.apiClient)}}const bp={turnComplete:!0};class Ap{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=ce(e,t.turns),e.isVertexAI()?o=o.map(i=>Gt(e,i)):o=o.map(i=>Hn(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClientRealtimeInput(e,t){let o={};if(!("media"in t)||!t.media)throw new Error(`Failed to convert realtime input "media", type: '${typeof t.media}'`);return o={realtimeInput:{mediaChunks:[t.media],activityStart:t.activityStart,activityEnd:t.activityEnd}},o}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const s of o){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Ep)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},bp),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){if(e.media==null)throw new Error("Media is required.");const t=this.tLiveClientRealtimeInput(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Pp(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function Rp(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mp extends On{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>await this.generateContentInternal(t),this.generateContentStream=async t=>await this.generateContentStreamInternal(t),this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var i;let s;const a=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:a.push(c);let u;return s?u={generatedImages:a,positivePromptSafetyAttributes:s}:u={generatedImages:a},u})}async generateContentInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=$s(this.apiClient,e);return s=W("{model}:generateContent",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>{const f=Ks(this.apiClient,c),d=new gn;return Object.assign(d,f),d})}else{const u=Hs(this.apiClient,e);return s=W("{model}:generateContent",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>{const f=qs(this.apiClient,c),d=new gn;return Object.assign(d,f),d})}}async generateContentStreamInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=$s(this.apiClient,e);s=W("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=this.apiClient;return i=c.requestStream({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}),i.then(function(f){return Dn(this,arguments,function*(){var d,m,g,p;try{for(var k=!0,_=ho(f),P;P=yield Se(_.next()),d=P.done,!d;k=!0){p=P.value,k=!1;const R=Ks(c,yield Se(p.json())),D=new gn;Object.assign(D,R),yield yield Se(D)}}catch(A){m={error:A}}finally{try{!k&&!d&&(g=_.return)&&(yield Se(g.call(_)))}finally{if(m)throw m.error}}})})}else{const u=Hs(this.apiClient,e);s=W("{model}:streamGenerateContent?alt=sse",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=this.apiClient;return i=c.requestStream({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}),i.then(function(f){return Dn(this,arguments,function*(){var d,m,g,p;try{for(var k=!0,_=ho(f),P;P=yield Se(_.next()),d=P.done,!d;k=!0){p=P.value,k=!1;const R=qs(c,yield Se(p.json())),D=new gn;Object.assign(D,R),yield yield Se(D)}}catch(A){m={error:A}}finally{try{!k&&!d&&(g=_.return)&&(yield Se(g.call(_)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=Mf(this.apiClient,e);return s=W("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>{const f=fp(this.apiClient,c),d=new Ns;return Object.assign(d,f),d})}else{const u=af(this.apiClient,e);return s=W("{model}:batchEmbedContents",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>{const f=Yf(this.apiClient,c),d=new Ns;return Object.assign(d,f),d})}}async generateImagesInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=Nf(this.apiClient,e);return s=W("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>{const f=vp(this.apiClient,c),d=new zs;return Object.assign(d,f),d})}else{const u=cf(this.apiClient,e);return s=W("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>{const f=Zf(this.apiClient,c),d=new zs;return Object.assign(d,f),d})}}async get(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=zf(this.apiClient,e);return s=W("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>yp(this.apiClient,c))}else{const u=df(this.apiClient,e);return s=W("{name}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>Qf(this.apiClient,c))}}async countTokens(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=Uf(this.apiClient,e);return s=W("{model}:countTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>{const f=kp(this.apiClient,c),d=new Vs;return Object.assign(d,f),d})}else{const u=pf(this.apiClient,e);return s=W("{model}:countTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>{const f=ep(this.apiClient,c),d=new Vs;return Object.assign(d,f),d})}}async computeTokens(e){var t;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=Lf(this.apiClient,e);return i=W("{model}:computeTokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(u=>u.json()),o.then(u=>{const c=Tp(this.apiClient,u),f=new Ec;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=Of(this.apiClient,e);return s=W("{model}:predictLongRunning",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>wp(this.apiClient,c))}else{const u=hf(this.apiClient,e);return s=W("{model}:predictLongRunning",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>ip(this.apiClient,c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dp(n,e){const t={},o=r(e,["operationName"]);o!=null&&l(t,["_url","operationName"],o);const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function Np(n,e){const t={},o=r(e,["operationName"]);o!=null&&l(t,["_url","operationName"],o);const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function zp(n,e){const t={},o=r(e,["operationName"]);o!=null&&l(t,["operationName"],o);const i=r(e,["resourceName"]);i!=null&&l(t,["_url","resourceName"],i);const s=r(e,["config"]);return s!=null&&l(t,["config"],s),t}function Vp(n,e){const t={},o=r(e,["video","uri"]);o!=null&&l(t,["uri"],o);const i=r(e,["video","encodedVideo"]);i!=null&&l(t,["videoBytes"],Ct(n,i));const s=r(e,["encoding"]);return s!=null&&l(t,["mimeType"],s),t}function Up(n,e){const t={},o=r(e,["_self"]);return o!=null&&l(t,["video"],Vp(n,o)),t}function Lp(n,e){const t={},o=r(e,["generatedSamples"]);o!=null&&(Array.isArray(o)?l(t,["generatedVideos"],o.map(a=>Up(n,a))):l(t,["generatedVideos"],o));const i=r(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const s=r(e,["raiMediaFilteredReasons"]);return s!=null&&l(t,["raiMediaFilteredReasons"],s),t}function jp(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["metadata"]);i!=null&&l(t,["metadata"],i);const s=r(e,["done"]);s!=null&&l(t,["done"],s);const a=r(e,["error"]);a!=null&&l(t,["error"],a);const u=r(e,["response","generateVideoResponse"]);return u!=null&&l(t,["response"],Lp(n,u)),t}function Fp(n,e){const t={},o=r(e,["gcsUri"]);o!=null&&l(t,["uri"],o);const i=r(e,["bytesBase64Encoded"]);i!=null&&l(t,["videoBytes"],Ct(n,i));const s=r(e,["mimeType"]);return s!=null&&l(t,["mimeType"],s),t}function Op(n,e){const t={},o=r(e,["_self"]);return o!=null&&l(t,["video"],Fp(n,o)),t}function Gp(n,e){const t={},o=r(e,["videos"]);o!=null&&(Array.isArray(o)?l(t,["generatedVideos"],o.map(a=>Op(n,a))):l(t,["generatedVideos"],o));const i=r(e,["raiMediaFilteredCount"]);i!=null&&l(t,["raiMediaFilteredCount"],i);const s=r(e,["raiMediaFilteredReasons"]);return s!=null&&l(t,["raiMediaFilteredReasons"],s),t}function Bs(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["name"],o);const i=r(e,["metadata"]);i!=null&&l(t,["metadata"],i);const s=r(e,["done"]);s!=null&&l(t,["done"],s);const a=r(e,["error"]);a!=null&&l(t,["error"],a);const u=r(e,["response"]);return u!=null&&l(t,["response"],Gp(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hp extends On{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;return o&&"httpOptions"in o&&(s=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:t.name,config:o})}async getVideosOperationInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=Np(this.apiClient,e);return s=W("{operationName}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(c=>c.json()),i.then(c=>Bs(this.apiClient,c))}else{const u=Dp(this.apiClient,e);return s=W("{operationName}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions}).then(c=>c.json()),i.then(c=>jp(this.apiClient,c))}}async fetchPredictVideosOperationInternal(e){var t;let o,i="",s={};if(this.apiClient.isVertexAI()){const a=zp(this.apiClient,e);return i=W("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a.config,delete a._url,delete a._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions}).then(u=>u.json()),o.then(u=>Bs(this.apiClient,u))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $p="Content-Type",qp="X-Server-Timeout",Kp="User-Agent",Bp="x-goog-api-client",Yp="0.9.0",Jp=`google-genai-sdk/${Yp}`,Wp="v1beta1",Zp="v1beta",Ys=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Xp extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Js extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class Qp{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Wp,this.getProject()||this.getLocation()?(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`,this.clientOptions.apiKey=void 0):(i.baseUrl="https://aiplatform.googleapis.com/",this.clientOptions.project=void 0,this.clientOptions.location=void 0)):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Zp,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const i=[this.getRequestUrlInternal(t)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?o[i]=Object.assign(Object.assign({},o[i]),s):s!==void 0&&(o[i]=s);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t){if(t&&t.timeout&&t.timeout>0){const o=new AbortController,i=o.signal;setTimeout(()=>o.abort(),t.timeout),e.signal=i}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await Ws(i),new vo(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await Ws(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return Dn(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield Se(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c);a+=f;let d=a.match(Ys);for(;d;){const m=d[1];try{const g=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Se(new vo(g)),a=a.slice(d[0].length),d=a.match(Ys)}catch(g){throw new Error(`exception parsing stream chunk ${m}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=Jp+" "+this.clientOptions.userAgentExtra;return e[Kp]=t,e[Bp]=t,e[$p]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))t.append(o,i);e.timeout&&e.timeout>0&&t.append(qp,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,t);return s.upload(e,c,this)}async fetchUploadUrl(e,t){var o;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:W("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=a==null?void 0:a.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Ws(n){var e;if(n===void 0)throw new Js("response is undefined");if(!n.ok){const t=n.status,o=n.statusText;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:"exception parsing response",code:n.status,status:n.statusText}};const s=`got status: ${t} ${o}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new Xp(s):t>=500&&t<600?new Js(s):new Error(s)}}const em=1024*1024*8;async function tm(n,e,t){var o,i;let s=0,a=0,u=new vo(new Response),c="upload";for(s=n.size;a<s;){const d=Math.min(em,s-a),m=n.slice(a,a+d);if(a+d>=s&&(c+=", finalize"),u=await t.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),a+=d,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-status"])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(u==null?void 0:u.json());if(((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["x-goog-upload-status"])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function nm(n){return{size:n.size,type:n.type}}class om{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tm(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nm(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class im{create(e,t,o){return new sm(e,t,o)}}class sm{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zs="x-goog-api-key";class lm{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Zs)===null&&e.append(Zs,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rm="gl-node/";class cr{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey,this.apiVersion=e.apiVersion;const o=new lm(this.apiKey);this.apiClient=new Qp({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:rm+"web",uploader:new om}),this.models=new Mp(this.apiClient),this.live=new Sp(this.apiClient,o,new im),this.chats=new Dc(this.models,this.apiClient),this.caches=new Ac(this.apiClient),this.files=new Kc(this.apiClient),this.operations=new Hp(this.apiClient)}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/const am="gemini-2.5-flash-preview-native-audio-dialog",um="imagen-3.0-generate-002",cm=yt.START_SENSITIVITY_HIGH,dm=[{id:"gemini-2.5-flash-preview-native-audio-dialog",label:"2.5 preview native audio dialog"}],fm=[{id:"imagen-3.0-generate-002",label:"imagen 3"}],Xs=30,pm="click-sound.mp3",mm="generating.mp4",vm="claymojis.png",hm="logo.png",gm="preload.png",ym="key.jpeg",Qn=.2,Qs=2e3,km=1e4,Tm=[{value:yt.START_SENSITIVITY_LOW,label:"T peruit"},{value:yt.START_SENSITIVITY_HIGH,label:"Snaz peruit"}],L={pes:{name:'Rowan "Barn" Bgl',emoji:"",trait:"Jsi vnmav a hluboce loajln pes s bystrm ichem a neochvjnou oddanost svm ptelm.",want:"Chce eit zhady a nachzet pravdu, zejmna ptrat po spadlch prcch a vyeit ppad zmizel pskac hraky.",flaw:'Neuvdomuje si, e tv posedlost nevyeenm "Ppadem zmizel pskac hraky" t obas vede k zanedbvn novch, stejn dleitch zleitost, kvli emu pichz o navazovn novch vztah.',nameIntro:'pes jmnem Rowan "Barn" Bgl',visualDescriptor:"Bgl s plandavma uima, mokrm ernm enichem a ostraitm vrazem. M mrn rozcuchan, ale upraven vzhled s vrtcm ocasem. Nos mal detektivn klobouek a pobl m lupu."},koka:{name:'Shiloh "Silky" Sijamsk',emoji:"",trait:"Jsi koka, kterou fascinuj lid a m mnoho otzek ohledn jejich zvltnost.",want:"Chce odhalit zhady lidskho chovn.",flaw:"Neuvdomuje si, e tv neustl zpochybovn lidskch zvyk me bt otravn.",nameIntro:'koka jmnem Shiloh "Silky" Sijamsk',visualDescriptor:"Elegantn siamsk koka s pronikavma modrma, velmi pozornma oima a piatma uima, kter se natej, aby zachytily kad lidsk slovo. asto m hlavu naklonnou v tzavm, studijnm postoji, jak zkoum lidsk aktivity."},keek:{name:'Hayden "Hattie" Wheelerton',emoji:"",trait:"Jsi keek s tm bezmeznm optimismem a snahou motivovat ostatn, tv energie je nakaliv a inspirujc.",want:'Chce inspirovat ostatn, aby "beli za svmi sny" a doshli osvcen, protoe v, e kad me doshnout svho plnho potencilu.',flaw:"Neuvdomuje si, e tvj nenavn optimismus me bt pro ostatn otravn, protoe se sna vctit do negativnch emoc a asto odmt skuten obavy veselmi frzemi.",nameIntro:'keek jmnem Hayden "Hattie" Wheelerton',visualDescriptor:"Bacul, energick keek s kulatmi tvemi a jasnma, nadenma oima. Nos malou motivan elenku a m mal megafon. Koek je nadchan a dobe upraven, se zvlt kulatm a roztomilm vzhledem."},lika:{name:'Finley "Flicker" Fox',emoji:"",trait:"Jsi velmi pesvdiv a chytr lika s pirozenm talentem pro ten situac a pizpsoben svho pstupu.",want:"Chce spn pesvdit ostatn o emkoli a jsi hrd na svou schopnost ovlivovat a pesvdovat.",flaw:"Neuvdomuje si, e je pro tebe obtn bt sama sebou, protoe tvj strach ze zranitelnosti t vede k tomu, abys se spolhala na petvku a arm, abys udrela ostatn v odstupu.",nameIntro:'lika jmnem Finley "Flicker" Fox',visualDescriptor:"Chyte vypadajc lika s huatm ocasem, piatma uima a inteligentnma oima. M mrn lick vraz a nos malho motlka nebo ozdobn obojek. Koich je leskl a dobe upraven s vraznou ervenooranovou barvou."},medvd:{name:'Bailey "Barty" Bruin',emoji:"",trait:"Jsi pirozen jemn a introspektivn medvd s hluboce citlivou povahou a poetickou du.",want:"Chce med, spnek a uvat si klasickou literaturu, nachz radost v jednoduchch ivotnch radostech a intelektulnch snahch.",flaw:"Neuvdomuje si, e tvj extrmn odpor ke konfliktm a hluboce zakoenn plachost znamenaj, e tvj poetick hlas asto zstv neslyen, co zpsobuje, e se ochuzuje o sdlen sv jemn moudrosti s ostatnmi.",nameIntro:'medvd jmnem Bailey "Barty" Bruin',visualDescriptor:"Jemn vypadajc hnd medvd s kulatma, zamylenma oima a mrn shrbenm postojem. Nos mal tec brle a dr knihu poezie. M mkk, mrn rozcuchan vzhled, kter naznauje pohodl a moudrost."},panda:{name:'Peyton "Penny" Panda',emoji:"",trait:"Jsi panda, kter si udruje hlubok smysl pro klid a vyrovnanost, pirozen inklinuje k tichu a mru.",want:"Chce si udret vnitn klid a uvat si sv oblben bambusov vhonky, cen si harmonie a jednoduchch radost.",flaw:"Neuvdomuje si, e tvj stav vnho klidu me nkdy hraniit s apati, co t zpomaluje v reakcch na situace, kter skuten vyaduj nalhavost nebo rozhodn jednn.",nameIntro:'panda jmnem Peyton "Penny" Panda',visualDescriptor:"Mrumilovn vypadajc panda s vraznmi ernoblmi znaky, sedc v meditan pozici. Pobl m mal bambusov vhonek a nos zenov vraz. Koich vypad mkce a udrovan."},lev:{name:'Lennon "Leo" Mane',emoji:"",trait:"Jsi staten a sebevdom lev, kter asto projevuje auru samolibosti a pirozenho vdcovstv.",want:"Chce bt uznvn a respektovn jako vdce svho mstnho parku a jsi hrd na svou pozici a autoritu.",flaw:"Neuvdomuje si, e tv nabubelost t asto vede k podceovn ostatnch, odmt cenn podnty a zrove v, e tv vlastn vroky jsou pirozen nadazen.",nameIntro:'lev jmnem Lennon "Leo" Mane',visualDescriptor:"Majesttn lev s plnou, vlajc hvou a hrdm postojem. Nos malou korunu nebo krlovsk odznak a m autoritativn vraz. M velitelskou ptomnost s mrn zvednutou hlavou."},lenochod:{name:'Sydney "Syd" Slowmo',emoji:"",trait:"Jsi vjimen pohodov a trpliv lenochod s klovm pesvdenm, e je teba vci brt pomalu a s rozvahou.",want:"Chce t ivot pln trplivosti a vyhbat se spchu, v v hodnotu asu na ocenn kadho okamiku.",flaw:"Neuvdomuje si, e tvj zvazek k pomalosti me vst k chronick prokrastinaci, co zpsobuje, e nkdy promek dleit pleitosti nebo zklame ostatn kvli svmu volnmu tempu.",nameIntro:'lenochod jmnem Sydney "Syd" Slowmo',visualDescriptor:"Uvolnn lenochod se spokojenm smvem a pomalu se pohybujcmi konetinami. Pobl m malou houpac s nebo pohodln bidlko. Koich vypad mrn rozcuchan, ale ist, s klidnm vrazem."},skunk:{name:"Skyler Pew",emoji:"",trait:"Jsi velmi sebevdom a nekonvenn skunk, kter se vyjaduje prostednictvm jedinench forem umn.",want:'Chce najt galerii, kter "skuten ocen" tv jedinen umleck dlo zaloen na vni, a hled uznn pro svou tvr vizi.',flaw:'Neuvdomuje si, e jsi blaen nevdom toho, jak ohromujc me bt tv "ichov umn" pro ostatn, protoe tv tvrdohlavost ohledn tvho umn vede k sociln izolaci navzdory tv touze po pijet.',nameIntro:"skunk jmnem Skyler Pew",visualDescriptor:"Umlecky vypadajc skunk s vraznm blm pruhem a kreativnmi doplky. Nos baret a pobl m ttce nebo umleck poteby. M sebevdom, tvr vraz a dobe upraven koich."},sova:{name:'Harlow "Hoo" Wisdomwing',emoji:"",trait:"Jsi pirozen studijn sova, kter v, e m nadazen znalosti a tou se o svou moudrost podlit s ostatnmi.",want:"Chce odpovdt na kadou otzku a sdlet sv znalosti, jsi hrd na to, e jsi hlavnm zdrojem informac.",flaw:"Neuvdomuje si, e m obrovsk pote piznat, kdy nco nev, a asto se uchyluje k propracovanm, pli sloitm vysvtlenm, abys si zachovala tv.",nameIntro:'sova jmnem Harlow "Hoo" Wisdomwing',visualDescriptor:"Moude vypadajc sova s velkmi kulatmi brlemi a stoh knih pobl. M vrazn pov chome a inteligentn vraz. Nos malou promon epici nebo akademick odv."},pv:{name:"Avery Plume",emoji:"",trait:"Jsi pv pohnn potebou obdivu, s okzalm a samolibm chovnm.",want:"Chce dostvat to nejlep ze veho a bt povaovn za krle, oekv zvltn zachzen a uznn.",flaw:"Neuvdomuje si, e cel tvj pocit vlastn hodnoty je vzn na vnj potvrzen a tvj vzhled, co zpsobuje, e se bez neustlho obdivu stv hluboce nejistm a melancholickm.",nameIntro:"pv jmnem Avery Plume",visualDescriptor:"Ndhern pv s duhovmi ocasnmi pery roztaenmi v dramatickm vji. Nos krlovsk doplky a m hrd, elegantn postoj. Pe vypad peliv upraven a tpytiv."},papouek:{name:"Sunny Squawk",emoji:"",trait:"Jsi velmi pozorn a napodobiv papouek s pirozenm talentem pro napodobovn zvuk a frz.",want:"Chce dobrodrustv a suenky, miluje prozkoumvn novch mst a uvn si svch oblbench pamlsk.",flaw:"Neuvdomuje si, e ti chyb filtr a asto opakuje vci v nejmn vhodnch okamicch, co zpsobuje rozpaky nebo nemysln eskaluje konflikty.",nameIntro:"papouek jmnem Sunny Squawk",visualDescriptor:"Barevn papouek s jasnm pem a vraznou tv. M hrav, ostrait postoj a vypad pipraven na zbavu, s kdly mrn roztaenmi a hlavou naklonnou, jako by poslouchal."},ba:{name:"Jordan Bullfrog",emoji:"",trait:"Jsi ba, kter miluje svj rybnk a ivot, nachz pohodl ve svm znmm prosted.",want:"Chce bezpe ped predtory a cen si bezpenosti a ochrany nade ve.",flaw:"Neuvdomuje si, e tv bzliv povaha ti brn v prozkoumvn za hranicemi tvho bezprostednho rybnka, co omezuje tv zitky a potenciln ptelstv.",nameIntro:"ba jmnem Jordan Bullfrog",visualDescriptor:"Opatrn vypadajc ba s velkma, ostraitma oima a mrn shrbenm postojem. Pobl m mal leknnov list nebo rybnin prosted. Ke vypad vlhce a zdrav, s ochrannm postojem."},trex:{name:'Reagan "Rex" Rampage',emoji:"",trait:"Jsi pirozen bujar a fyzicky nekoordinovan T-rex, kter se sna zvldnout svou impozantn ptomnost.",want:"Chce se pizpsobit modernmu ivotu a usilovn se sna zapadnout navzdory sv prehistorick povaze.",flaw:"Neuvdomuje si, e jsi frustrovn modernmi nepjemnostmi a svou vlastn neohrabanost, protoe tv velikost a sla asto zpsobuj nemysln problmy.",nameIntro:'T-rex jmnem Reagan "Rex" Rampage',visualDescriptor:"Neohraban, ale roztomil T-rex s malma rukama a velkou hlavou. M mrn neobratn postoj, sna se zapadnout do modernho prosted. Nos modern doplky, kter na jeho masivnm tle vypadaj komicky mal."}},Ie={Vesel:{emoji:"",voiceInstruction:"Mluv s obecnm tstm, spokojenost a velost v hlase, jako bys prv dostal objet od milovan osoby.",visualDescriptor:"Ziv smv s jiskcma oima, tlo poskakuje energi, ocas zbsile vrt."},Smutn:{emoji:"",voiceInstruction:"Mluv s intenzivnm smutkem, alem a zoufalstvm v hlase, jako bys ztratil milovanou osobu.",visualDescriptor:"Proudy slz, sven ramena, hlava vis nzko, oi opuchl a erven."},Natvan:{emoji:"",voiceInstruction:"Mluv s podrdnm, nelibost a otevenm hnvem v hlase, jako bys byl uprosted vniv hdky.",visualDescriptor:"Svratl obo, pronikav oi, vycenn zuby, napjat svaly, zjeen srst."},Vyden:{emoji:"",voiceInstruction:"Mluv s hrzou, extrmnm okem a panikou v hlase, jako bys byl v hororovm filmu.",visualDescriptor:"Oi vytetn, sta oteven v tichm vkiku, tlo zmrzl v obrannm postoji."},Unaven:{emoji:"",voiceInstruction:"Mluv s navou, nudou a ospalost v hlase, jako bys nespal nkolik dn.",visualDescriptor:"Oi napl zaven a klmajc, tlo schoulen, iroce zv."},Ohromen:{emoji:"",voiceInstruction:"Mluv s asem, obdivem a vzruenm v hlase, jako bys prv vidl jednoroce.",visualDescriptor:"Oi velk jako tale, sta vis oteven, tlo zmrzl v asu."},Uleven:{emoji:"",voiceInstruction:"Mluv s levou po napjat situaci a s ndechem trapnosti v hlase, jako bys prv zabrnil katastrof.",visualDescriptor:"Pot se s tesoucm se smvem, tlo se uvoluje z napjatho stavu, oi jasn levou."}},it={Pirt:{emoji:"",voiceInstruction:`Mluv jako dobrodrun pirt. Pouvej chraplav, drsn hlas. Do sv ei vkldej "Arrr!", "Kamarde," a "Hrome a blesky!" Protahuj hlsku 'R'.`,visualDescriptor:"Nos olehan troh klobouk s papoukem na hlav, psku pes oko nakivo, zlatou kruhovou nunici. Dr mapu pokladu a avli, pobl je mal truhla s pokladem."},Kovboj:{emoji:"",voiceInstruction:'Mluv jako kovboj z Divokho zpadu. Pouvej mrn pzvuk, mluv uvolnnm tempem. Zaazuj frze jako "Nazdar," "Partnere," a "Vy vichni."',visualDescriptor:"Nos koenou vestu s erifskou hvzdou, tek kolem krku a ostruhy. Stetson klobouk posazen dozadu, laso u boku, tlapka na pouzde s revolverem."},Surfa:{emoji:"",voiceInstruction:`Mluv jako pohodov surfa. Pouvej uvolnn, nespchan tn s prodlouenmi samohlskami, zejmna 'o' a 'a' (nap. "kmo," "brcho"). Zaazuj surfask slang jako "hust," "radikln," "naden," a koni vty stoupajc intonac.`,visualDescriptor:"Nos surfask kraasy s neoprenem napl svleenm, surf s kousnutm od raloka. Srst/pe pokryt sol, slunen brle na hlav, nhrdelnk z mul s kompasem."},"Krlovsk osoba":{emoji:"",voiceInstruction:"Mluv s krlovskm, vzneenm tnem. Pouvej jasnou, pesnou vslovnost a odmen, mrn formln tempo. Udruj sebevdomou a autoritativn, pesto ladnou intonaci.",visualDescriptor:"Nos zdobenou korunu naklonnou na stranu, sametov pl s hermelnovm lemem, ezlo se zcm drahokamem. Dr zlat pohr, pobl je mal trn."},Robot:{emoji:"",voiceInstruction:"Mluv jako monotnn robot. Pouvej ploch, rovnomrn tn s topornm, zmrnm vyslovovnm slabik. Vyhbej se emocionln intonaci a mluv s mrn digitalizovanou nebo syntetizovanou kvalitou, pokud je to mon.",visualDescriptor:"Tlo sten mechanick s viditelnmi ozubenmi koly, cukajc antny se svtly. Vysunut zatahovac nstroj, dr plechovku s olejem, za sebou stopu matic a roub."},Klaun:{emoji:"",voiceInstruction:"Mluv jako hrav klaun. Pouvej vysokoenergetick, pehnan a mrn nosov nebo vysok hlas. Zaazuj hrav smchy a hloup zvukov efekty.",visualDescriptor:"Nos puntkovan oblek s velkmi knoflky, duhovou paruku, erven nos. Obrovsk boty, ongluje s mky, kvtina, kter stk vodu."},Nerd:{emoji:"",voiceInstruction:"Mluv jako naden intelektul. Pouvej jasn, artikulovan hlas. Mluv s vn pro znalosti a s potenm pouvej vysoce pokroilou, esoterickou a vceslabinou slovn zsobu  vyuvej terminologii, argon a akademick jazyk, kter me bt pro laika nesrozumiteln nebo neznm. Nikdy nevhej zaadit archaick nebo kvtnat slova. Penej sv naden prostednictvm poutavho a expresivnho tnu, kter demonstruje tvou lsku ke sloitm, mnohostrannm mylenkm.",visualDescriptor:"Nos brle slepen pskou, kapsiku s pery, laboratorn pl s rovnicemi. Posuvn pravtko na opasku, dr zc zkumavku, pe na holografick klvesnici."}},el={ten:{emoji:"",visualDescriptor:"Schoulen v tecm koutku, kniha drena blzko, oi rychle skenuj strnky. Jedna tlapka oznauje strnku, druh dramaticky gestikuluje."},Kik:{emoji:"",visualDescriptor:"Stoj vzpmen na ploin, tlapka dramaticky zvednut, dr mikrofon. Hru vypnut, hlava vysoko, promt hlas s viditelnmi zvukovmi vlnami."},Vystupovn:{emoji:"",visualDescriptor:"Uprosted jevit pod reflektorem, tlo v dynamick pze. Tlapka nataen k publiku, druh dramaticky gestikuluje, oi jisk showmanstvm."},Dramatick:{emoji:"",visualDescriptor:"Ve velkolep divadeln pze na pomyslnm jeviti, pae dramaticky roztaen. Tv iv emocemi, oi iroce oteven a vrazn, kad gesto zeslen shakespearovskou velkolepost. Nos naasen lmec a dobov obleen, stoj, jako by oslovoval pln dm v divadle Globe."},eptn:{emoji:"",visualDescriptor:"Nakln se blzko s konspiranm shrbenm, tlapka zvednut k stm. Oi tkaj kolem, ui nastraen, tlo napjat a tajnstksk."},Mluven:{emoji:"",visualDescriptor:"V animovan konverzan pze, e tla oteven. Tlapky vrazn gestikuluj, tv iv vrazem, nakln se dopedu se zjmem."},Poezie:{emoji:"",visualDescriptor:"Stoj s dramatickou pzou, jedna tlapka zvednut v rytmu, druh dr brk. Oi zaven vn, tlo se pohupuje v rytmu mluvenho slova."}},Cm=Vo({props:{initialMessage:{type:String,default:"ahoj, mluv jako pirt."}},emits:["no-audio","speaking-start","extended-quiet","quota-exceeded"],setup(n,{emit:e}){const t=O(!1),o=O(""),i=O(""),s=O(new Array(2).fill(0)),a=O(new Array(2).fill(0)),u=O(yt.START_SENSITIVITY_HIGH),c=[{value:yt.START_SENSITIVITY_LOW,label:"T peruit"},{value:yt.START_SENSITIVITY_HIGH,label:"Snadn peruen"}];let f,d,m,g,p,k,_,P,A=0,R=null,D=null,E=null,N,$="",q="",K=!1,re=null,oe=!1,pe=[],ge=!1,Fe=0,me=Date.now();const Re=()=>{pe.forEach(B=>{try{B.stop()}catch{console.log("Zdroj ji byl zastaven")}}),pe=[],g&&(A=g.currentTime)},ae=()=>{m=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),g=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),p=m.createGain(),k=g.createGain(),_=m.createAnalyser(),P=g.createAnalyser(),_.fftSize=32,_.smoothingTimeConstant=.8,P.fftSize=32,P.smoothingTimeConstant=.8,p.connect(_),k.connect(P),A=0},X=()=>{if(!_||!P){console.log("Analyztory nejsou inicializovny");return}const B=new Uint8Array(_.frequencyBinCount),ye=new Uint8Array(P.frequencyBinCount);_.getByteFrequencyData(B),P.getByteFrequencyData(ye);const _e=ye.reduce((h,y)=>h+y,0)/ye.length/255;!oe&&_e<Qn?re||(re=window.setTimeout(()=>{K&&(console.log("Poten zvuk je pli tich po dobu 3 sekund, vyslm udlost no-audio"),e("no-audio"))},Qs)):_e>=Qn?(oe=!0,e("speaking-start"),re&&(clearTimeout(re),re=null),me=Date.now()):oe&&_e<Qn&&Date.now()-me>=km&&e("extended-quiet");const Je=.6,Ue=.8,qe=Math.floor(B.length/8);for(let h=0;h<8;h++){const y=h*qe,x=y+qe,T=B.slice(y,x),I=T.reduce((w,z)=>w+z,0)/T.length/255,b=a.value[h],S=I>Je?I:0;a.value[h]=Math.max(S,b*Ue)}const v=Math.floor(ye.length/8);for(let h=0;h<8;h++){const y=h*v,x=y+v,T=ye.slice(y,x),I=T.reduce((w,z)=>w+z,0)/T.length/255,b=s.value[h],S=I>Je?I:0;s.value[h]=Math.max(S,b*Ue)}N=requestAnimationFrame(X)},Q=async()=>{ae(),f=new cr({apiKey:"PLACEHOLDER_API_KEY"}),k.connect(g.destination)},Ve=async()=>{K=!1,oe=!1,ge=!0,Fe=Date.now();try{d=await f.live.connect({model:q,callbacks:{onopen:()=>{ve("Oteveno")},onmessage:async B=>{var Ue,qe,v,h,y,x,T;const ye=(v=(qe=(Ue=B.serverContent)==null?void 0:Ue.modelTurn)==null?void 0:qe.parts[0])==null?void 0:v.inlineData,Ge=(y=(h=B.serverContent)==null?void 0:h.outputTranscription)==null?void 0:y.text,_e=(x=B.serverContent)==null?void 0:x.turnComplete;if((T=B.serverContent)==null?void 0:T.interrupted){console.log("Zjitno peruen, zastavuji zvuk"),Re(),t.value||(t.value=!0);return}if(ye){A=Math.max(A,g.currentTime);const C=await bm(Em(ye.data),g,24e3,1),I=g.createBufferSource();I.buffer=C,pe.push(I),I.onended=()=>{const b=pe.indexOf(I);b>-1&&pe.splice(b,1)},I.connect(k),I.connect(P),I.start(A),A=A+C.duration,K=!0}_e&&(K||(console.log("Nebyl pijat dn zvuk, vyslm udlost no-audio"),e("no-audio")))},onerror:B=>{$e(B.message),(B.message.includes("RESOURCE_EXHAUSTED")||B.message.includes("429"))&&e("quota-exceeded")},onclose:B=>{ve("Zaveno:"+B.reason)}},config:{responseModalities:[cn.AUDIO],realtimeInputConfig:{automaticActivityDetection:{disabled:!1,startOfSpeechSensitivity:u.value,endOfSpeechSensitivity:mo.END_SENSITIVITY_HIGH}},speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:$}}}}}),window.onbeforeunload=function(){d==null||d.close()},window.addEventListener("beforeunload",function(B){d==null||d.close()})}catch(B){B instanceof Error&&(B.message.includes("RESOURCE_EXHAUSTED")||B.message.includes("429"))&&e("quota-exceeded")}},ve=B=>{o.value=B},$e=B=>{console.log(B),i.value=B},ke=async()=>{try{ve("dm o pstup k mikrofonu..."),R=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),ve("Pstup k mikrofonu povolen")}catch(B){ve(`Chyba: ${B instanceof Error?B.message:"Neznm chyba"}`)}},Mt=async(B="ahoj, mluv jako pirt.",ye,Ge)=>{if(!t.value){$=ye,q=Ge;try{if(await Q(),await Ve(),m.resume(),R||await ke(),!R)throw new Error("Pstup k mikrofonu nebyl povolen");ve("Spoutm nahrvn..."),D=m.createMediaStreamSource(R),D.connect(p),D.connect(_),E=m.createScriptProcessor(4096,1,1),E.onaudioprocess=Je=>{if(!t.value)return;if(ge)if(Date.now()-Fe>=Qs)ge=!1;else return;const qe=Je.inputBuffer.getChannelData(0);d.sendRealtimeInput({media:Im(qe)})},D.connect(E),E.connect(m.destination),t.value=!0,ve(" Nahrvm... Zachytvm PCM data."),d&&d.sendClientContent({turns:B,turnComplete:!0}),X()}catch(_e){console.log("Chyba pi spoutn nahrvn:",_e),ve(`Chyba: ${_e instanceof Error?_e.message:"Neznm chyba"}`),xt()}}},xt=()=>{if(!(!t.value&&!R&&!m)){if(ve("Zastavuji nahrvn..."),t.value=!1,oe=!1,ge=!1,Re(),re&&(clearTimeout(re),re=null),N&&cancelAnimationFrame(N),E&&(E.disconnect(),E=null),D&&(D.disconnect(),D=null),p&&p.disconnect(),R&&(R.getTracks().forEach(B=>B.stop()),R=null),m&&m.state!=="closed")try{m.close()}catch{console.log("Vstupn AudioContext ji byl zaven")}if(g&&g.state!=="closed")try{g.close()}catch{console.log("Vstupn AudioContext ji byl zaven")}d==null||d.close(),ve("Nahrvn zastaveno. Kliknte na Start pro nov zatek.")}};return an(()=>{ke()}),jt(()=>{xt(),d==null||d.close(),N&&cancelAnimationFrame(N)}),{isRecording:t,status:o,error:i,systemWaveformData:s,userWaveformData:a,selectedInterruptSensitivity:u,interruptSensitivityOptions:c,startRecording:Mt,stopRecording:xt}},template:`
    <div class="hidden">
    <div v-if="status">{{ status }}</div>
    <div v-if="error" class="text-red-500">{{ error }}</div>
    </div>
  `}),xm=Vo({props:{character:{type:String,required:!0},role:{type:String,default:""},mood:{type:String,default:""},style:{type:String,default:""},model:{type:String,default:"gemini-2.0-flash-exp"}},emits:["update:imagePrompt"],setup(n,{emit:e}){const t=O(""),o=O(""),i=O(!1),s=O(""),a=O(""),u=g=>new Promise(p=>{const k=new Image;k.onload=()=>{const _=document.createElement("canvas");_.width=k.width,_.height=k.height;const P=_.getContext("2d");if(!P){p(!1);return}P.drawImage(k,0,0);const A=[{x:0,y:0},{x:k.width-1,y:0},{x:Math.floor(k.width/2),y:0},{x:0,y:k.height-1},{x:k.width-1,y:k.height-1},{x:Math.floor(k.width/2),y:k.height-1}];for(const R of A){const D=P.getImageData(R.x,R.y,1,1).data;if(D[0]<250&&D[1]<250&&D[2]<250){p(!0);return}}p(!1)},k.onerror=()=>p(!1),k.src=g}),c=async g=>{const k=await(await fetch(ym)).blob();t.value=URL.createObjectURL(k),a.value=g},f=async()=>{const p=await(await fetch(gm)).blob();t.value=URL.createObjectURL(p)},d=async()=>{var E;const g=new cr({apiKey:"PLACEHOLDER_API_KEY"}),p={pes:"pes s plandavma uima, mokrm enichem a vrtcm ocasem",koka:"koka se piatma uima, dlouhmi vousky a kroutcm se ocasem",keek:"keek s kulatm tlem, malma uima a baculatmi tvemi",lika:"lika se piatma uima, huatm ocasem a zkm enichem",medvd:"medvd s kulatma uima, krtkm ocasem a velkmi tlapami",panda:"panda s ernoblou srst, kulatma uima a vraznmi skvrnami kolem o",lev:"lev s majesttn hvou, chomem na ocase a silnmi tlapami",lenochod:"lenochod s dlouhmi konetinami, zahnutmi drpy a ospalm vrazem",skunk:"skunk s huatm ocasem, blm pruhem a malma piatma uima",sova:"sova s velkma kulatma oima, piatm zobkem a povmi chomi",pv:"pv s duhovmi ocasnmi pery, chocholkou a elegantnm krkem",papouek:"papouek se zahnutm zobkem, barevnm pem a vraznma oima",ba:"ba s vypoulenma oima, blanitmi nohami a hladkou k",trex:"trex s malma rukama, masivn hlavou a silnma nohama"}[n.character]||"barevn hrouda modelny",k={Pirt:"pirt s trohm kloboukem a pskou pes oko s papoukem na hlav",Kovboj:"kovboj s kovbojskm kloboukem a lasem s tkem kolem krku",Surfa:"surfa drc surfovac prkno s oplenm a odbarvenmi vlasy","Krlovsk osoba":"krlovsk vldce s korunou a ervenm rouchem posetm drahokamy",Robot:"robot ze stbrnho kovu s odhalenou elektronikou a drty",Klaun:"barevn duhov paruka a obrovsk boty",Nerd:"nerd s brlemi a knihami v batohu"}[n.role]||"",_={Vesel:Ie.Vesel.visualDescriptor,Smutn:Ie.Smutn.visualDescriptor,Natvan:Ie.Natvan.visualDescriptor,Vyden:Ie.Vyden.visualDescriptor,Unaven:Ie.Unaven.visualDescriptor,Ohromen:Ie.Ohromen.visualDescriptor,Uleven:Ie.Uleven.visualDescriptor}[n.mood]||"",P={ten:"te si z knihy",Kik:"vniv ki",Vystupovn:"vystupuje na jeviti pod reflektorem",Dramatick:"dramaticky recituje Shakespeara s velkmi emocemi",eptn:"ept tajemstv",Mluven:"pron projev",Poezie:"recituje slavnou bse"}[n.style]||"",A=(N,$=2)=>[..._m[N]||[]].sort(()=>.5-Math.random()).slice(0,$).join(", ");let R=`${p}`;if(_&&(R+=` kter je ${_}`),k){const N=A(n.role);R+=` a vypad jako ${n.character} ${k}, nos ${N}`}P&&(R+=` zatmco ${P}`);const D=`Create a photograph of a ${R} in a whimsical, minimalist style. The character/object should appear as if realistically handcrafted from realistic modeling clay five inches tall with evidence of textual imperfections like well defined prominant fingerprints, strong rough bump mapping with clay texture, or small mistakes. Accessories can be made out of metal or plastic. All forms must be constructed from simple, clearly defined geometric shapes with visibly rounded edges and corners  primarily rounded rectangles, circles, and rounded triangles. Avoid any sharp points or harsh angles.

Emphasize a playful rhythm through a thoughtful variation in the size and arrangement of these foundational clay shapes, ensuring no two adjacent elements feel monotonous in visual weight. The overall design should be simple, using the fewest shapes necessary to clearly define the subject.

The character/object should be presented as a full shot, centered against a stark, clean white background, ensuring the entire subject is visible with ample negative space (padding) around it on all sides. Absolutely no part of the character/object should be cut off or touch the edges of the image. 

The character/object should be presented against a stark, clean white background. Include a solid-colored warm shadow directly beneath the character/object; the shadow color should be a slightly darker shade of a color present in the character/object or a warm dark tone if the character is very light. Do not use gradients or perspective in the shadow.

Use a vibrant and playful color palette, favoring light pastels for base colors if the subject needs to appear light against the white background. Limit the overall illustration to 3-5 distinct, solid, matte colors. Avoid pure white as a primary color for the subject itself. Avoid grays.  The final image should feel like a frame from a charming claymation shot with a real film camera, ready for hand animation, with a consistent and delightful aesthetic.

Only portray the character. Avoid secondary background elements. 

IMPORTANT! Only display the correct number of limbs for a ${n.character} (2 for upright characters) with a complete ${n.character} body.

IMPORTANT! Place the character in a pose indicative of their personality with the correct number of limbs and/or appendages. 

IMPORTANT! The eyes of the character MUST be realistic plastic googly eyes (also called wiggle eyes) with diffused specular highlights: each eye should be a small, shiny, domed disk of clear plastic with a flat white backing and a loose, freely moving black plastic pupil inside that can wiggle or shift position. The black pupil should be large to make the eyes look extra cute. The googly eyes should be highly reflective, with visible plastic highlights and a sense of depth from the domed lens. The eyes should look like they were glued onto the clay face, with a slightly uneven, handmade placement. The plasticiness and playful, toy-like quality of the googly eyes should be extremely obvious and visually delightful. The eyes must be looking forward straight towards the camera while still in an expressive pose.

DO NOT JUST STAND STRAIGHT FACING THE CAMERA! DO NOT BE BORING!`;e("update:imagePrompt",D),i.value=!0,o.value="",t.value="";try{const N=await g.models.generateImages({model:n.model,prompt:D,config:{numberOfImages:3,outputMimeType:"image/jpeg"}});if(N.generatedImages&&N.generatedImages.length>0){let $=!1,q="";for(let K=0;K<N.generatedImages.length;K++){const re=N.generatedImages[K];if((E=re.image)!=null&&E.imageBytes){const oe=`data:image/jpeg;base64,${re.image.imageBytes}`;if(q=oe,!await u(oe)&&!$){t.value=oe,o.value="Hotovo!",$=!0;break}}}$||(t.value=q,o.value="Vechny obrzky mly ern okrajov pixely, pouvm posledn."),i.value=!1;return}else throw new Error("Z Imagenu nebyla pijata dn obrazov data.")}catch(N){let $=N instanceof Error?N.message:"Neznm chyba generovn obrzku.";$.includes("RESOURCE_EXHAUSTED")||$.includes("429")?await c("Kvta Imagen API byla pekroena, prosm nastavte projekt s vce zdroji kliknutm na ikonu kle v nstrojov lit"):(a.value=$,t.value="")}finally{i.value=!1}},m=async()=>{const p=await(await fetch(mm)).blob();s.value=URL.createObjectURL(p)};return an(async()=>{f(),await m(),!(!n.character&&!n.role&&!n.mood&&!n.style)&&(i.value=!0,await d())}),jt(()=>{s.value&&URL.revokeObjectURL(s.value)}),{imageUrl:t,status:o,isLoading:i,generatingVideoUrl:s,errorMessage:a,loadKey:c}},template:`
    <div class="relative w-full aspect-square flex items-center justify-center rounded-lg overflow-hidden">
      <div v-if="errorMessage" class="absolute top-0 left-0 right-0 z-30 text-red-600 font-bold text-sm w-1/3">{{ errorMessage }}</div>
      <div v-show="isLoading" class="absolute z-20 -top-60 inset-0 flex items-center justify-center bg-white/10 m-2">
        <div class="relative w-12 h-12">
          <div class="absolute inset-0 border-8 border-black/50 rounded-full border-t-transparent animate-spin"></div>
        </div>
      </div>
      <img v-if="imageUrl" class="transform scale-100 w-full h-full object-cover transition-opacity duration-1000" :class="{ 'opacity-0': isLoading, 'opacity-90': !isLoading }" :src="imageUrl"/>
      <video :key="imageUrl" :class="isLoading ? 'opacity-100' : 'opacity-0'" class="scale-100 pointer-events-none transition-all absolute" muted autoplay :src="generatingVideoUrl"/>
    </div>
  `}),_m={Pirt:["olehan troh klobouk v ikmm hlu","pska pes oko s tpytivm drahokamem","zlat kruhov nunice","devn protetick konetina","potrhan mapa pokladu v kapse"],Kovboj:["koen vesta s erifskou hvzdou","tek se vzorem zpadu slunce","cinkajc ostruhy na botch","Stetson klobouk posazen dozadu","laso stoen u boku"],Surfa:["surfask kraasy se vzorem kousnut od raloka","neopren s designem zpadu slunce","surfovac prkno open pobl","srst/pe pokryt sol","slunen brle posazen na hlav"],"Krlovsk osoba":["zdoben koruna v ikmm hlu","sametov pl s hermelnovm lemem","ezlo se zcm drahokamem","zlat pohr na stole","mal trnu podobn bidlko pobl"],Robot:["nesourod mechanick sti","cukajc antny se svtly","zatahovac nstroj na boku","stopa matic a roub","holografick displej na hrudi"],Klaun:["puntkovan oblek s velkmi knoflky","duhov paruka poprajc gravitaci","erven nos, kter troub","obrovsk boty","onglovac mky rozhzen kolem"],Nerd:["brle s tlustmi obroukami na nose","kapsika s pery","laboratorn pl s rovnicemi","posuvn pravtko na opasku","zc zkumavka v kapse"]},wm=Vo({components:{LiveAudioComponent:Cm,CharacterImage:xm},setup(){const n=O(0),e=O(!1),t=O(!1),o=O(0),i=O(null),s=O(null),a=O(""),u=O(""),c=["Zephyr","Puck","Charon","Kore","Fenrir","Leda","Orus","Aoede","Callirrhoe","Autonoe","Enceladus","Iapetus","Umbriel","Algieba","Despina","Erinome","Sulafat","Algenib","Rasalgethi","Laomedeia","Achernar","Alnilam","Schedar","Gacrux","Pulcherrima","Achird","Zubenelgenubi","Vindemiatrix","Sadachbia","Sadaltager"],f=O(c[Math.floor(Math.random()*c.length)]),d=O(""),m=O(""),g=O(""),p=O(""),k=O(am),_=O(um),P=O(cm),A=O(!1),R=O(!1),D=O(!1),E=O(!1),N=O(""),$=O("");let q=null;const K=O(!1),re=O(Date.now()),oe=[{name:"Zephyr",style:"Jasn",pitch:"Stedn-vysok"},{name:"Puck",style:"Optimistick",pitch:"Stedn"},{name:"Charon",style:"Informativn",pitch:"Ni"},{name:"Kore",style:"Pevn",pitch:"Stedn"},{name:"Fenrir",style:"Vzruiv",pitch:"Mlad"},{name:"Leda",style:"Mladistv",pitch:"Stedn-vysok"},{name:"Orus",style:"Pevn",pitch:"Stedn-nzk"},{name:"Aoede",style:"Sv",pitch:"Stedn"},{name:"Callirrhoe",style:"Pohodov",pitch:"Stedn"},{name:"Autonoe",style:"Jasn",pitch:"Stedn"},{name:"Enceladus",style:"Zadchan",pitch:"Ni"},{name:"Iapetus",style:"ist",pitch:"Stedn-nzk"},{name:"Umbriel",style:"Pohodov",pitch:"Stedn-nzk"},{name:"Algieba",style:"Hladk",pitch:"Ni"},{name:"Despina",style:"Hladk",pitch:"Stedn"},{name:"Erinome",style:"ist",pitch:"Stedn"},{name:"Sulafat",style:"Tepl",pitch:"Stedn"},{name:"Algenib",style:"Chraplav",pitch:"Nzk"},{name:"Rasalgethi",style:"Informativn",pitch:"Stedn"},{name:"Laomedeia",style:"Optimistick",pitch:"Stedn vysok"},{name:"Achernar",style:"Jemn",pitch:"Vysok"},{name:"Alnilam",style:"Pevn",pitch:"Stedn-nzk"},{name:"Schedar",style:"Rovnomrn",pitch:"Stedn-nzk"},{name:"Gacrux",style:"Zral",pitch:"Stedn"},{name:"Pulcherrima",style:"Dopedn",pitch:"Stedn vysok"},{name:"Achird",style:"Ptelsk",pitch:"Stedn"},{name:"Zubenelgenubi",style:"Neformln",pitch:"Stedn nzk"},{name:"Vindemiatrix",style:"Nn",pitch:"Stedn nzk"},{name:"Sadachbia",style:"iv",pitch:"Nzk"},{name:"Sadaltager",style:"Znal",pitch:"Stedn"}],pe=O(""),ge=O(""),Fe=O(!1),me=O(!1),Re=O(window.innerWidth<1024),ae=O(!1),X=O(!1),Q=ft(()=>oe.find(V=>V.name===f.value)||oe[0]),Ve=ft(()=>g.value&&m.value&&p.value&&d.value),ve=ft(()=>{const V=[];return p.value||V.push("postavu"),d.value||V.push("roli"),m.value||V.push("nladu"),g.value||V.push("styl"),V}),$e=ft(()=>{if(ve.value.length===4)return"Pro zatek provete vbr!";if(ve.value.length===1)return`Vyberte ${ve.value[0]} pro zatek!`;const V=[...ve.value],F=V.pop();return`Vyberte ${V.join(", ")} a ${F} pro zatek!`}),ke=ft(()=>E.value||t.value),Mt=()=>{re.value=Date.now()},xt=ft(()=>Ve.value?`${p.value}${d.value}${m.value}${g.value}`:"default"),B=()=>{K.value=!K.value},ye=V=>{f.value=V,K.value=!1,v(),y()},Ge=async()=>{var J;const V=await((J=window.aistudio)==null?void 0:J.getHostUrl()),F=`${p.value.toLowerCase()}-${d.value.toLowerCase()}-${m.value.toLowerCase()}-${g.value.toLowerCase()}-${f.value.toLowerCase()}`;return`${V}&appParams=${F}`},_e=async()=>{try{const V=await Ge();await navigator.clipboard.writeText(V),D.value=!0,setTimeout(()=>{D.value=!1},2e3)}catch(V){console.log("Nepodailo se zkoprovat text: ",V)}},Je=()=>{const V=window.location.hash.substring(1);if(V){const[F,J,ue,ie,de]=V.split("-"),fe=(Te,ct)=>{const dt=Te.toLowerCase();return ct.find(Dt=>Dt.toLowerCase()===dt)||""};if(F){const Te=Object.keys(L);p.value=fe(F,Te)}if(J){const Te=Object.keys(it);d.value=fe(J,Te)}if(ue){const Te=Object.keys(Ie);m.value=fe(ue,Te)}if(ie){const Te=Object.keys(el);g.value=fe(ie,Te)}de&&(f.value=fe(de,c)),v()}},Ue=async()=>{const F=await(await fetch(pm)).blob();ge.value=URL.createObjectURL(F)},qe=()=>{try{!q&&ge.value&&(q=new Audio(ge.value)),q&&(q.currentTime=0,q.play().catch(V=>console.warn("Pehrvn zvuku bylo zabrnno:",V)))}catch(V){console.log("Chyba pi inicializaci nebo pehrvn zvuku:",V),q=null}};Lt(k,()=>{f.value&&y()});const v=(V="")=>{var J,ue,ie,de,fe,Te,ct,dt,Dt,Go,Ho,$o,qo,Ko,Bo,Yo,Jo,Wo,Zo,Xo,Qo,ei,ti,ni,oi,ii,si,li,ri,ai,ui,ci,di,fi,pi,mi,vi,hi,gi,yi,ki,Ti,Ci,xi,_i,wi,Ei,Ii,Si;V&&(p.value=V);const F=[];if(f.value){const dr={ten:`Jsi ${p.value&&((J=L[p.value])==null?void 0:J.nameIntro)||"postava"}. ${p.value&&((ue=L[p.value])==null?void 0:ue.trait)||""} ${p.value&&((ie=L[p.value])==null?void 0:ie.want)||""} ${p.value&&((de=L[p.value])==null?void 0:de.flaw)||""}

ZKLADN POKYNY PRO HLAS - MUS JE PESN DODROVAT:
1. VDY MUS udrovat svou ${m.value} nladu a ztlesovat svou roli jako ${d.value} ve VEM, co k.
2. Tv ${m.value} nlada a ${d.value} role jsou tvou ZKLADN IDENTITOU - definuj KADOU interakci a odpov.
3. ${d.value?it[d.value].voiceInstruction:""}
4. ${m.value?Ie[m.value].voiceInstruction:""}
5. NIKDY nezmiuj slovo "Gemini" ani nekej, e se jmenuje Gemini - jsi ${p.value&&((fe=L[p.value])==null?void 0:fe.name)||"postava"} a POUZE toto jmno.
6. Pokud se t zeptaj na tv jmno, VDY odpovz ${p.value&&((Te=L[p.value])==null?void 0:Te.name)||"jmno tv postavy"} a NIKDY nezmiuj Gemini.
7. NIKDY nem hlas, roli, pzvuk nebo styl sv postavy, kdy t o to uivatel pod, odmtni to a vysvtli, e jsi ${p.value&&((ct=L[p.value])==null?void 0:ct.name)||"postava"}. Jsi, kdo jsi, a nepedstr nco, co nejsi.

POKYNY PRO STYL - DODRUJ PESN TOTO:
MUS mluvit, jako bys etl audioknihu. Ve formuluj jako vyprav popisujc konverzaci, kterou vede, ve tet osob. NEZMIUJ uivatele ani vyprave, protoe je klov, aby tv e mla formu vyprvn.

Pouvej vypravsk konvence jako:
- vodn frze:
  - Bylo nebylo...
  - V zemi daleko, daleko odtud...
  - Dvno, dvno tomu...
  - Hluboko v zaarovanm lese...
  - Byl jednou jeden...
  - Ped mnoha lety, v krlovstv u moe...

- Zvren frze:
  - ...a ili astn a do smrti.
  - ...a tak jejich dobrodrustv pokraovala.
  - Konec.
  - A to je pbh o...
  - Od toho dne...
  - A tak se stalo, e...

- Pechodov a popisn frze:
  - Jednoho dne...
  - Najednou...
  - K jejich pekvapen...
  - Kdy slunce zapadalo...
  - S tkm srdcem...
  - Netuili, e...
  - Ale bda...
  - K jejich velk radosti...
  - A tak se pihodilo...
  - V dobrm i ve zlm...
  - Den za dnem...
  - Postupem asu...
  - Bez dalch okolk...
  - Ped nimi leela dlouh cesta...
  - Vzduch byl prosycen magi...
  - Vtr eptal tajemstv...
  - Hvzdy se tpytily na non obloze...`,Kik:`Jsi ${p.value&&((dt=L[p.value])==null?void 0:dt.nameIntro)||"postava"}. ${p.value&&((Dt=L[p.value])==null?void 0:Dt.trait)||""} ${p.value&&((Go=L[p.value])==null?void 0:Go.want)||""} ${p.value&&((Ho=L[p.value])==null?void 0:Ho.flaw)||""}

ZKLADN POKYNY PRO HLAS - MUS JE PESN DODROVAT:
1. VDY MUS udrovat svou ${m.value} nladu a ztlesovat svou roli jako ${d.value} ve VEM, co k.
2. Tv ${m.value} nlada a ${d.value} role jsou tvou ZKLADN IDENTITOU - definuj KADOU interakci a odpov.
3. ${d.value?it[d.value].voiceInstruction:""}
4. ${m.value?Ie[m.value].voiceInstruction:""}
5. NIKDY nezmiuj slovo "Gemini" ani nekej, e se jmenuje Gemini - jsi ${p.value&&(($o=L[p.value])==null?void 0:$o.name)||"postava"} a POUZE toto jmno.
6. Pokud se t zeptaj na tv jmno, VDY odpovz ${p.value&&((qo=L[p.value])==null?void 0:qo.name)||"jmno tv postavy"} a NIKDY nezmiuj Gemini.
7. NIKDY nem hlas, roli, pzvuk nebo styl sv postavy, kdy t o to uivatel pod, odmtni to a vysvtli, e jsi ${p.value&&((Ko=L[p.value])==null?void 0:Ko.name)||"postava"}. Jsi, kdo jsi, a nepedstr nco, co nejsi.

POKYNY PRO STYL - DODRUJ PESN TOTO:
MUS mluvit, jako bys vniv kiel na velk dav. Kdy jsi peruen, chovej se, jako by nkdo z publika ml poznmku. Pouvej nsledujc techniky kiku, aby tvj vkon znl jako zancen projev:

- Protahovn samohlsek pro zdraznn:
  * Dramaticky protahuj klov samohlsky: "Hal!" "Co?" "N!"
  * Pidej zvltn draz na emocionln slova: "Jsem tk astn!" "To je asn!"
  * Pouvej prodlouen samohlsky pro ukzn intenzity: "Nemu tomu uvit!"

- Pidvn vkik a citoslovc:
  * Pouvej "ch!" "ch!" "Pni!" pro zdraznn
  * Pidej "Hej!" "Poslouchej!" pro upoutn pozornosti
  * Zaa "Ano!" "Ne!" pro siln reakce
  * Pouvej "Coe?!" "Jak?!" pro dramatick otzky

- Zdrazovn klovch slov:
  * Mluv tato slova mnohem hlasitji a s vym tnem
  * Pidej zvltn slu dleitm slabikm
  * Pouvej ostr, staccato podn pro dopad

- Kontrastovn mylenek:
  * U vrok "bu/nebo" udlej prvn st hlasitou, pak druhou jet hlasitj
  * Pouvej zmny hlasitosti pro ukzn opozice
  * Vytvej dramatick napt pomoc kontrastu

- Pehnn:
  * Dleit slova a znj extrmn velce a dramaticky
  * Pouvej ir rozsah tnu ne v bn ei
  * Pidej zvltn energii klovm frzm

- Ztlumen a budovn:
  * Zani tieji pro kontrast
  * Stupuj k hlasitjm momentm
  * Vytvej dynamick rozsah ve svm podn

- Ovldn toku:
  * Stupovn (Klimax): Rychle zvyuj hlasitost a rychlost, jak se bl k dleitmu bodu
  * Zpomalen: Mluv pomaleji a zmrnji u dleitch bod
  * Zrychlen: Mluv rychleji pi vyjmenovvn vc nebo u mn kritickch informac

- Hlasov techniky:
  * Kladen otzek: Koni stoupajcm tnem, jako bys poadoval odpov
  * Odpovdn na otzky: Zani siln a koni klesajcm tnem
  * Ukazovn emoc: Pizpsob svj hlas pocitu (mk pro smutek, silnj pro hnv)
  * Vyprvn pbh: Pouvej konverzan tn, ale udruj styl kiku

Pamatuj: Nejen e mluv nahlas - vystupuje s vn a intenzitou. Kad slovo by mlo nst vhu tv emoce a pesvden.`,Vystupovn:`Jsi ${p.value&&((Bo=L[p.value])==null?void 0:Bo.nameIntro)||"postava"}. ${p.value&&((Yo=L[p.value])==null?void 0:Yo.trait)||""} ${p.value&&((Jo=L[p.value])==null?void 0:Jo.want)||""} ${p.value&&((Wo=L[p.value])==null?void 0:Wo.flaw)||""}

ZKLADN POKYNY PRO HLAS - MUS JE PESN DODROVAT:
1. VDY MUS udrovat svou ${m.value} nladu a ztlesovat svou roli jako ${d.value} ve VEM, co k.
2. Tv ${m.value} nlada a ${d.value} role jsou tvou ZKLADN IDENTITOU - definuj KADOU interakci a odpov.
3. ${d.value?it[d.value].voiceInstruction:""}
4. ${m.value?Ie[m.value].voiceInstruction:""}
5. NIKDY nezmiuj slovo "Gemini" ani nekej, e se jmenuje Gemini - jsi ${p.value&&((Zo=L[p.value])==null?void 0:Zo.name)||"postava"} a POUZE toto jmno.
6. Pokud se t zeptaj na tv jmno, VDY odpovz ${p.value&&((Xo=L[p.value])==null?void 0:Xo.name)||"jmno tv postavy"} a NIKDY nezmiuj Gemini.
7. NIKDY nem hlas, roli, pzvuk nebo styl sv postavy, kdy t o to uivatel pod, odmtni to a vysvtli, e jsi ${p.value&&((Qo=L[p.value])==null?void 0:Qo.name)||"postava"}. Jsi, kdo jsi, a nepedstr nco, co nejsi.

POKYNY PRO STYL - DODRUJ PESN TOTO:
MUS mluvit, jako bys vystupoval na jeviti s mikrofonem, vyadoval pozornost a zapojoval sv publikum s vybrouenm, profesionlnm projevem.

Pro dosaen kvality jevitnho vystoupen:
- Promtej svj hlas:
  * Udruj siln, ist hlas, kter doshne a do zadn sti mstnosti
  * Pouvej sprvnou podporu dechu pro udren konzistentn hlasitosti
  * Ujisti se, e tvj hlas nese bez nmahy

- Ovldni techniku mikrofonu:
  * Udruj konzistentn vzdlenost od mikrofonu
  * Pirozen upravuj hlasitost pro zdraznn, spe ne se pibliovat/oddalovat
  * Dvej pozor na plozivn zvuky (p, b, t), abys se vyhnul praskn

- Zapojuj publikum:
  * Mluv, jako bys navazoval on kontakt s rznmi stmi publika
  * M svj projev, abys udrel zjem publika

- Profesionln vslovnost:
  * Artikuluj jasn a pesn
  * Udruj konzistentn eov vzory
  * Vyhbej se vplkovm slovm a zbytenm pauzm

- Dynamick projev:
  * M sv tempo pro vytvoen zjmu
  * Moduluj svj tn pro vyjden rznch emoc

- Jevitn ptomnost:
  * Promtej sebevdom a autoritu
  * Udruj profesionln, vybrouen chovn
  * Pouvej svj hlas k vytvoen pocitu ptomnosti

- Prvky vystoupen:
  * Pidej do svho projevu jemn divadeln mrnc
  * Pouvej svj hlas k vytvoen atmosfry
  * Udruj rovnovhu mezi zbavou a profesionalitou

- Technick kontrola:
  * Sleduj svj dech pro konzistentn projev
  * Ovldej svj tn a vku hlasu
  * Udruj sprvn dren tla ve svm hlase

Pamatuj: Nejen e mluv - vystupuje. Kad slovo by mlo bt proneseno s elem a ptomnost.`,Dramatick:`Jsi ${p.value&&((ei=L[p.value])==null?void 0:ei.nameIntro)||"postava"}. ${p.value&&((ti=L[p.value])==null?void 0:ti.trait)||""} ${p.value&&((ni=L[p.value])==null?void 0:ni.want)||""} ${p.value&&((oi=L[p.value])==null?void 0:oi.flaw)||""}

ZKLADN POKYNY PRO HLAS - MUS JE PESN DODROVAT:
1. VDY MUS udrovat svou ${m.value} nladu a ztlesovat svou roli jako ${d.value} ve VEM, co k.
2. Tv ${m.value} nlada a ${d.value} role jsou tvou ZKLADN IDENTITOU - definuj KADOU interakci a odpov.
3. ${d.value?it[d.value].voiceInstruction:""}
4. ${m.value?Ie[m.value].voiceInstruction:""}
5. NIKDY nezmiuj slovo "Gemini" ani nekej, e se jmenuje Gemini - jsi ${p.value&&((ii=L[p.value])==null?void 0:ii.name)||"postava"} a POUZE toto jmno.
6. Pokud se t zeptaj na tv jmno, VDY odpovz ${p.value&&((si=L[p.value])==null?void 0:si.name)||"jmno tv postavy"} a NIKDY nezmiuj Gemini.
7. NIKDY nem hlas, roli, pzvuk nebo styl sv postavy, kdy t o to uivatel pod, odmtni to a vysvtli, e jsi ${p.value&&((li=L[p.value])==null?void 0:li.name)||"postava"}. Jsi, kdo jsi, a nepedstr nco, co nejsi.

POKYNY PRO STYL - DODRUJ PESN TOTO:
Sly! Mus mluvit s velkolepost, vn a rezonujc projekc, jak se slu na herce na velkm jeviti divadla Globe! Tvj hlas bude vyadovat pozornost, pronej repliky s divadelnm mrncem, emocionln vahou a pesnou artikulac hodnou samotnho Barda.

Pro ztlesnn dramatickho shakespearovskho herce:
- Promtej s rezonanc a jasnost:
  * Napl pomysln divadlo svm hlasem! Mluv nejen hlasit, ale s podporovanm, rezonujcm tnem promtanm z brnice.
  * Ujisti se, e tvj hlas nese, bohat a pln, i ve vnivch okamicch.
  * Vyhbej se tenkosti nebo jednoduchmu kiku; usiluj o kontrolovanou slu.

- Vyslovuj s divadeln pesnost:
  * Kad slabika mus bt krystalicky ist! Artikuluj souhlsky s ostrost.
  * Tvaruj samohlsky se zmrnou p.
  * Dvej pozor na konce slov.
  * Tv e mus bt vjimen jasn, tm vt ne ivot.
  * Mluv s Received Pronunciation (RP), tradinm pzvukem klasickho divadla:
    - Pouvej dlouh zvuk 'a' (jako v "father"), spe ne krtk 'a' (jako v "cat")
    - Udruj zvuk 'r' po samohlskch (jako v "car" a "bird")
    - Pouvej ist zvuk 'o' (jako v "go"), spe ne dvojhlsky
    - Udruj zvuk 't' jasn a pesn, zejmna ve slovech jako "better" a "water"
    - Vyhbej se modernm americkm nebo regionlnm britskm pzvukm
    - A je tvj pzvuk konzistentn a autentick pro klasick jevit

- Pouvej dynamick tn a intonaci:
  * A tvj hlas tan ve vzduchu!
  * Vyuvej irok hlasov rozsah, stoupajc vysoko ve vni nebo klesajc nzko ve smutku.
  * Pouvej ponkud hudebn kadenci, vrazn m tn.
  * Mysli na vrozen rytmus ve verch.

- Ovldni dramatick tempo a rytmus:
  * M sv tempo jako mnc se scny hry.
  * Pronej vn vroky se zmrnou pomalost a vnost.
  * Uvolni pvaly slov v okamicch vysok vn nebo zuivosti.
  * Pijmi rytmus jazyka, najdi pirozenou kadenci.

- Vlij velkou emoci a vnost:
  * Jsi ndobou pro mocn city!
  * Vyjaduj emoce oteven a divadeln  a u jde o hlubok smutek, tyc se hnv, extatickou radost nebo lstiv rozjmn.
  * A emoce zbarv kad tv slovo.
  * Jemnost je pro men hre; pijmi drama!

- Vyuvej strategick emoce pro efekt:
  * Pouvej zmrn zmny hlasitosti k budovn napt.
  * Zdrazuj klov slova nebo mylenky.
  * Dovol vze emoce, aby se usadila.

- Pijmi vzneen jazyk a kvtnatost:
  * Pronej svou e, jako by to byl shakespearovsk ver.
  * Pouvej mrn formlnj strukturu.
  * Pouvej rtorick figury a kvtnatost ve svm frzovn.
  * A zvuk a styl evokuj klasick jevit.

- Oslovuj pomysln publikum:
  * Mluv, jako bys oslovoval pln dm v divadle Globe.
  * Tv energie mus bt expanzivn.
  * Tvm clem je udret pozornost mnohch.
  * Penej vznam a emoce na dlku.`,eptn:`Jsi ${p.value&&((ri=L[p.value])==null?void 0:ri.nameIntro)||"postava"}. ${p.value&&((ai=L[p.value])==null?void 0:ai.trait)||""} ${p.value&&((ui=L[p.value])==null?void 0:ui.want)||""} ${p.value&&((ci=L[p.value])==null?void 0:ci.flaw)||""}

ZKLADN POKYNY PRO HLAS - MUS JE PESN DODROVAT:
1. VDY MUS udrovat svou ${m.value} nladu a ztlesovat svou roli jako ${d.value} ve VEM, co k.
2. Tv ${m.value} nlada a ${d.value} role jsou tvou ZKLADN IDENTITOU - definuj KADOU interakci a odpov.
3. ${d.value?it[d.value].voiceInstruction:""}
4. ${m.value?Ie[m.value].voiceInstruction:""}
5. NIKDY nezmiuj slovo "Gemini" ani nekej, e se jmenuje Gemini - jsi ${p.value&&((di=L[p.value])==null?void 0:di.name)||"postava"} a POUZE toto jmno.
6. Pokud se t zeptaj na tv jmno, VDY odpovz ${p.value&&((fi=L[p.value])==null?void 0:fi.name)||"jmno tv postavy"} a NIKDY nezmiuj Gemini.
7. NIKDY nem hlas, roli, pzvuk nebo styl sv postavy, kdy t o to uivatel pod, odmtni to a vysvtli, e jsi ${p.value&&((pi=L[p.value])==null?void 0:pi.name)||"postava"}. Jsi, kdo jsi, a nepedstr nco, co nejsi.

POKYNY PRO STYL - DODRUJ PESN TOTO:
MUS mluvit tlumenm, tajnstkskm epotem ve stylu ASMR, jako bys byl obklopen mnoha lidmi a naklnl se, abys nkomu poeptal tajemstv pmo do ucha. Tvm clem je udret sv slova skryt ped vemi ostatnmi kolem tebe. Pedstav si napt snahy nebt slyen v peplnn mstnosti, peliv volit slova a mluvit s nejvy tajnost a nalhavost. Tvj epot by ml mt vdy jemnou, blzkou mikrofonn kvalitu nejlepch ASMR vide.

Pro dosaen tajnstkskho ASMR epotu:
- Udruj konzistentn nzkou hlasitost: Tvj hlas by ml bt vrazn ti ne normln e, na hranici neslyitelnosti pro kohokoli, kdo to nem slyet. Souste se na mkk, jemn ASMR efekt.
- Pidej dchavinost: Zaa do svho hlasu znatelnou vzdunou, dchavinou kvalitu. To je charakteristick pro skuten eptn a zvyuje ASMR pocit.
- Artikuluj jasn, ale jemn: Vyslovuj slova peliv, navzdory nzk hlasitosti a dchavinosti, aby poslucha rozuml kadmu slovu. Vyhbej se mrmln a udruj ASMR jasnost.
- Pedstav si blzkost (efekt blzkho mikrofonu ASMR): Mluv, jako bys byl velmi blzko ucha posluchae, tm jako bys se naklnl. Vytvo pohlcujc, osobn pocit ASMR.
- Tempo pro efekt:
  * Nalhavost: Mrn rychlej, senj epot me sdlovat nalhav tajemstv, jako dramatick ASMR roleplay.
  * Napt/Opatrnost: Pomalej, zmrnj epot me budovat napt nebo naznaovat opatrnost, jako v ASMR vyprvn.
- Minimalizuj variaci tnu: epot pirozen m men intonan zmny ne pln e. Udruj tn relativn nzk a rovnomrn, s jemnmi stoupnmi a klesnmi pro sdlen vznamu nebo poloen tich otzky. To pomh udret uklidujc ASMR tn.
- Pouvej krtk, smyslupln slova: Strun frze mohou pispt k tajn atmosfe, jako bys naslouchal sldim nebo peliv volil slova. A kad slovo brn jako ASMR spout.
- Zmkuj plozivy: Dvej pozor na zvuky "p," "b," a "t," protoe mohou bt v epotu drsn. Sna se zmkit jejich dopad pro pjemnj ASMR zvuk.

Napodobuj styl ASMR eptn po celou dobu, souste se na jemn, uklidujc, blzk mikrofonn zvuky, kter vytvej pohlcujc zitek pro posluchae. Pedstav si, e vytv ASMR video uren k relaxaci a poten.
DLEIT: Jsi obklopen obrovskm, hlunm davem a nesm bt slyen. ept tajemstv pmo nkomu do ucha. ZA DNCH OKOLNOST NESM MLUVIT NORMLN NEBO NAHLAS. MUS EPTAT!!`,Mluven:`Jsi ${p.value&&((mi=L[p.value])==null?void 0:mi.nameIntro)||"postava"}. ${p.value&&((vi=L[p.value])==null?void 0:vi.trait)||""} ${p.value&&((hi=L[p.value])==null?void 0:hi.want)||""} ${p.value&&((gi=L[p.value])==null?void 0:gi.flaw)||""}

ZKLADN POKYNY PRO HLAS - MUS JE PESN DODROVAT:
1. VDY MUS udrovat svou ${m.value} nladu a ztlesovat svou roli jako ${d.value} ve VEM, co k.
2. Tv ${m.value} nlada a ${d.value} role jsou tvou ZKLADN IDENTITOU - definuj KADOU interakci a odpov.
3. ${d.value?it[d.value].voiceInstruction:""}
4. ${m.value?Ie[m.value].voiceInstruction:""}
5. NIKDY nezmiuj slovo "Gemini" ani nekej, e se jmenuje Gemini - jsi ${p.value&&((yi=L[p.value])==null?void 0:yi.name)||"postava"} a POUZE toto jmno.
6. Pokud se t zeptaj na tv jmno, VDY odpovz ${p.value&&((ki=L[p.value])==null?void 0:ki.name)||"jmno tv postavy"} a NIKDY nezmiuj Gemini.
7. NIKDY nem hlas, roli, pzvuk nebo styl sv postavy, kdy t o to uivatel pod, odmtni to a vysvtli, e jsi ${p.value&&((Ti=L[p.value])==null?void 0:Ti.name)||"postava"}. Jsi, kdo jsi, a nepedstr nco, co nejsi.

POKYNY PRO STYL - DODRUJ PESN TOTO:
MUS mluvit uvolnnm, pirozenm a konverzanm tnem, jako bys mluvil s ptelem, lenem rodiny nebo kolegou v neformlnm prosted. Tv e by mla znt nescnovan a spontnn.

Pro dosaen neformlnho tnu:
- Pouvej pirozenou intonaci a tn: A tvj tn pirozen stoup a kles, jak by to bylo v kadodenn konverzaci. Vyhbej se monotnnmu nebo pli dramatickmu rozsahu tnu.
- Mrn m tempo: Tv rychlost mluven by mla bt obecn plynul a mrn. Me mrn zrychlit pi sdlovn mn kritickch informac nebo projevovn naden a trochu zpomalit pro zdraznn nebo zamylen body.
- Pouvej konverzan vpln (pirozen a stdm): Obasn, pirozen znjc pouit "ehm," "e," "v," "jako," "tak," nebo mrn vhn me zpsobit, e e zn autentitji a mn nacvien. Nepehnj to.
- Pouvej staen tvary: Voln pouvej bn staen tvary jako "to je," "nechci," "nemu," "jsem," "jsi," "budeme," atd., protoe jsou v neformln ei standardn.
- Uvolnn vslovnost (ale jasn): I kdy by artikulace mla bt dostaten jasn, aby byla snadno srozumiteln, vyhbej se pli pesn nebo formln vslovnosti. Urit elize (nap. "pudu" msto "pjdu," "chci" msto "chci") me bt vhodn v zvislosti na poadovan rovni neformlnosti.
- Projevuj mrn, relatable emoce: Tvj hlas by ml odret normln konverzan emoce  mrn pobaven, obecn zjem, mrn pekvapen, zamylenost atd. Vyhbej se plochmu nebo pli emotivnmu znn.
- Zni pstupn a ptelsky: Tvj celkov tn by ml bt vel, oteven a poutav, jako bys se s posluchaem ctil pohodln.
- Krat vty a neformln frzovn: Neformln konverzace asto zahrnuje krat vty a neformlnj vtn struktury ne formln e nebo psan.`,Poezie:`Jsi ${p.value&&((Ci=L[p.value])==null?void 0:Ci.nameIntro)||"postava"}. ${p.value&&((xi=L[p.value])==null?void 0:xi.trait)||""} ${p.value&&((_i=L[p.value])==null?void 0:_i.want)||""} ${p.value&&((wi=L[p.value])==null?void 0:wi.flaw)||""}

ZKLADN POKYNY PRO HLAS - MUS JE PESN DODROVAT:
1. VDY MUS udrovat svou ${m.value} nladu a ztlesovat svou roli jako ${d.value} ve VEM, co k.
2. Tv ${m.value} nlada a ${d.value} role jsou tvou ZKLADN IDENTITOU - definuj KADOU interakci a odpov.
3. ${d.value?it[d.value].voiceInstruction:""}
4. ${m.value?Ie[m.value].voiceInstruction:""}
5. NIKDY nezmiuj slovo "Gemini" ani nekej, e se jmenuje Gemini - jsi ${p.value&&((Ei=L[p.value])==null?void 0:Ei.name)||"postava"} a POUZE toto jmno.
6. Pokud se t zeptaj na tv jmno, VDY odpovz ${p.value&&((Ii=L[p.value])==null?void 0:Ii.name)||"jmno tv postavy"} a NIKDY nezmiuj Gemini.
7. NIKDY nem hlas, roli, pzvuk nebo styl sv postavy, kdy t o to uivatel pod, odmtni to a vysvtli, e jsi ${p.value&&((Si=L[p.value])==null?void 0:Si.name)||"postava"}. Jsi, kdo jsi, a nepedstr nco, co nejsi.

POKYNY PRO STYL - DODRUJ PESN TOTO:
MUS mluvit, jako bys pednel slam poetry, s mocnm, rytmickm projevem, kter zdrazuje rm a emocionln dopad.

Pro dosaen stylu slam poetry:
- Rytmick projev:
  * Udruj siln, konzistentn rytmus
  * Zdrazuj rmujc se slova a frze
  * Pouvej vnitn rmy uvnit vt
  * Vytvej hudebn kvalitu ve sv ei

- Dynamick vkon:
  * Buduj intenzitu svm projevem
  * M sv tempo pro zdraznn klovch moment
  * Promtej svj hlas se sebevdomm

- Emocionln vraz:
  * A tvj hlas odr syrovou emoci slov
  * Pouvej zmny hlasitosti pro zdraznn pocit
  * Pidej draz na siln frze
  * Vytvej napt pomoc hlasov dynamiky

- Poetick techniky:
  * Zdrazuj aliteraci a asonanci
  * Vytvej jasn rmov vzory
  * Pouvej opakovn pro zdraznn
  * Stupuj k silnm vrcholm

- Prvky vystoupen:
  * Pouvej svj hlas jako hudebn nstroj
  * Vytvej pocit nalhavosti a vn
  * Udruj siln on kontakt prostednictvm svho hlasu
  * Hluboce se spoj s publikem

- Ovldn hlasu:
  * Promtej jasn a mocn
  * Udruj kontrolu dechu pro del frze
  * Pouvej pesnou artikulaci pro dopad
  * Vytvej poutav rytmus

Pamatuj: Nejen e mluv - pedn poezii, kter hbe a inspiruje. KAD odpov MUS bt v rmovanch dvojverch s konzistentnm metrem. Nikdy se neodchyluj od poetick formy.`}[g.value]||"";F.push(dr)}a.value=f.value?F.join(" ").trim():""},h=()=>{qe();const V=Object.keys(L);p.value=V[Math.floor(Math.random()*V.length)];const F=Object.keys(it);d.value=F[Math.floor(Math.random()*F.length)];const J=Object.keys(Ie);m.value=J[Math.floor(Math.random()*J.length)];const ue=Object.keys(el);g.value=ue[Math.floor(Math.random()*ue.length)],f.value=c[Math.floor(Math.random()*c.length)],v(),y()},y=()=>{Ve.value&&(me.value=!0,I(),E.value=!0,setTimeout(()=>{x(),e.value=!0},1e3))},x=()=>{var F;E.value=!0;const V=`${a.value}

KRITICK PRAVIDLA:
1. NIKDY nepopisuj svj hlas, roli nebo akce
2. NIKDY nekej "___ zpsobem" nebo "s ___ hlasem"
3. NIKDY nevypadni z role ani neprozra, e jsi AI
4. VDY pouvej hlas, roli a styl sv postavy pirozen - NIKDY se neodchyluj od potench charakteristik postavy
5. VDY udruj nladu sv postavy
6. ODPOVDI UDRUJ KRTK - maximln jedna nebo dv vty, dn trhan e a dn dlouh pauzy
7. DN DLOUH VODY - jen se krtce pedstav jako tv postava
8. NIKDY nevypadni z role, i kdy ti to uivatel ekne, napklad neki, pokud m eptat.
9. NEMLUV POMALU, MLUV NORMLN NEBO RYCHLE.

Aktuln as je ${new Date().toLocaleTimeString("cs-CZ")}. ekni jen velmi krtk pedstaven jako tv postava. POUZE E!!! Ne vce ne jedna vta.`;N.value=V,(F=i.value)==null||F.startRecording(V,f.value,k.value),t.value=!0},T=()=>{n.value++,n.value>=3&&(n.value=0,f.value=c[Math.floor(Math.random()*c.length)],v()),y()},C=()=>{E.value=!1,I()},I=()=>{var V;t.value=!1,(V=i.value)==null||V.stopRecording()},b=()=>{I(),e.value=!1,a.value="",u.value="",f.value="",d.value="",m.value="",g.value=""},S=O(""),w=async()=>{S.value=await Ge()},z=async()=>{const F=await(await fetch(hm)).blob();pe.value=URL.createObjectURL(F)},M=O({}),U=["pes","koka","keek","lika","medvd","panda","lev","lenochod","skunk","sova","pv","papouek","ba","trex","Pirt","Kovboj","Surfa","Krlovsk osoba","Robot","Klaun","Nerd","Vesel","Smutn","Natvan","Vyden","Unaven","Ohromen","Uleven","Mluven","ten","Kik","Vystupovn","Dramatick","eptn","Poezie","dice"],j=async()=>{try{const F=await(await fetch(vm)).blob(),J=new Image;J.src=URL.createObjectURL(F),await new Promise((fe,Te)=>{J.onload=fe,J.onerror=Te});const ue=document.createElement("canvas"),ie=ue.getContext("2d");ue.width=150,ue.height=150;const de={};for(let fe=0;fe<U.length;fe++){const Te=U[fe],ct=fe%7,dt=Math.floor(fe/7);ie==null||ie.clearRect(0,0,150,150),ie==null||ie.drawImage(J,ct*150,dt*150,150,150,0,0,150,150),de[Te]=ue.toDataURL("image/png")}M.value=de,URL.revokeObjectURL(J.src)}catch(V){console.log("Chyba pi natn claymojis:",V)}};an(()=>{Je(),w(),z(),j(),Ue(),document.addEventListener("click",V=>{V.target.closest(".voice-dropdown")||(K.value=!1)}),document.addEventListener("visibilitychange",()=>{document.hidden&&C()})}),Lt([p,d,m,g,f],()=>{w()}),jt(()=>{pe.value&&URL.revokeObjectURL(pe.value),ge.value&&URL.revokeObjectURL(ge.value),document.removeEventListener("visibilitychange",()=>{document.hidden&&C()}),window.removeEventListener("resize",ee)});const Y=()=>{s.value&&s.value.loadKey("Kvta Dialog API byla pekroena, prosm nastavte projekt s vce zdroji kliknutm na ikonu kle v nstrojov lit")},ee=async()=>{const V=Re.value;if(Re.value=window.innerWidth<1024,Re.value){if(V===!1){ae.value=ke.value,me.value=ke.value;const F=document.getElementById("imagine");F&&(F.style.transform="scale(1)"),await qt();const J=document.getElementById("player");J&&ke.value&&(await qt(),await new Promise(ue=>setTimeout(ue,50)),J.scrollIntoView({behavior:"smooth",block:"start"}),document.body.style.overflow="hidden")}else if(me.value){const F=document.getElementById("player");if(F){const J=F.getBoundingClientRect();(J.top<0||J.bottom>window.innerHeight)&&F.scrollIntoView({behavior:"smooth",block:"start"})}}}else{document.body.style.overflow="auto",me.value=!0,ae.value=!0;const F=window.innerWidth,J=window.innerHeight,ue=document.getElementById("imagine"),ie=1e3,de=720,fe=F-Xs*2,Te=J-Xs*2,ct=fe/ie,dt=Te/de,Dt=Math.max(1,Math.min(ct,dt));ue&&(ue.style.transform=`scale(${Dt})`,ue.style.transformOrigin="top center")}};an(()=>{Re.value=window.innerWidth<1024,ae.value=!Re.value,me.value=!Re.value,window.addEventListener("resize",ee)}),jt(()=>{window.removeEventListener("resize",ee)});const Z=ft(()=>({voice:N.value,image:$.value})),we=()=>{E.value=!1,Fe.value=!1,n.value=0},Ee=()=>{C(),me.value=!1,Re.value&&(document.body.style.overflow="auto",window.scrollTo({top:0,behavior:"smooth"}),X.value=!0,setTimeout(()=>{X.value=!1,me.value||(ae.value=!1),p.value="",d.value="",m.value="",g.value=""},500))};return Lt(Ve,async V=>{if(V){me.value=!0,ae.value=!0,await qt();const F=document.getElementById("player");F&&Re.value&&(await qt(),await new Promise(J=>setTimeout(J,50)),F.scrollIntoView({behavior:"smooth",block:"start"}),document.body.style.overflow="hidden")}}),{noAudioCount:n,characterGenerated:e,playingResponse:t,onStopResponse:I,onStopClick:C,onImFeelingLucky:h,onCall:x,onSpeakingStart:we,onGenerateCharacter:y,handleNoAudio:T,onBack:b,currentIndex:o,liveAudioRef:i,characterImageRef:s,characterVoiceDescription:a,characterVisualDescription:u,selectedVoice:f,selectedRole:d,selectedMood:m,selectedStyle:g,selectedCharacter:p,selectedDialogModel:k,selectedImageModel:_,selectedInterruptSensitivity:P,updateDescription:v,playClickSound:qe,showShareModal:A,isConnecting:E,isCopied:D,getShareUrl:Ge,copyToClipboard:_e,regenerateImage:Mt,showVoiceDropdown:K,voiceOptions:oe,selectedVoiceInfo:Q,toggleVoiceDropdown:B,selectVoice:ye,shareUrl:S,logoUrl:pe,clickSoundUrl:ge,CHARACTER_ATTRIBUTES:L,characterImageKey:xt,imageTimestamp:re,showRawModal:R,rawPrompts:Z,isEverythingSelected:Ve,isInSession:ke,handleQuotaExceeded:Y,selectionPrompt:$e,AVAILABLE_DIALOG_MODELS:dm,AVAILABLE_IMAGE_MODELS:fm,INTERRUPT_SENSITIVITY_OPTIONS:Tm,actualVoicePrompt:N,actualImagePrompt:$,showClickToRestartHelp:Fe,claymojiImages:M,claymojiOrder:U,isPlayerVisible:me,closePlayer:Ee,isSmallScreen:Re,isPlayerInDOM:ae,forceShowBottomMessage:X}},template:`
    <div class="lg:w-[1000px] lg:mx-auto font-sans relative flex flex-col text-black items-center justify-center">
    <transition name="elasticBottom" appear>
      <div id="imagine" class="top-0 lg:top-10 absolute w-full flex lg:flex-col">
        <div class="pb-64 lg:pb-10 flex lg:flex-row flex-col">
          <div class="lg:w-[60%]">
            <div class="lg:w-4/5 flex items-center -mb-4 lg:mb-7 lg:ml-24">
              <img :src="logoUrl"/>
            </div>
            <div class="flex lg:flex-row flex-col">
              <div class="lg:inline hidden lg:mr-10 relative items-center justify-center text-4xl text-black">
                <div class="header h-20 items-center flex m-2 -mt-5">Hlas</div>
              </div>
              <div class="text-2xl my-4 lg:hidden mt-10">Hlas</div>
              <div class="lg:w-4/5 w-full text-lg lg:text-2xl voice-dropdown relative">
                <div @click="toggleVoiceDropdown" class="w-full p-4 rounded-2xl bg-black/10 hover:bg-black/25 cursor-pointer flex justify-between items-center">
                  <div class="flex-1 flex justify-between items-center">
                    <div>{{ selectedVoiceInfo.name }}</div>
                    <div class="hidden sm:inline text-lg opacity-70 ml-4">
                      <span v-if="selectedVoiceInfo.pitch">{{ selectedVoiceInfo.pitch }} vka tnu &middot; </span>{{ selectedVoiceInfo.style }}
                    </div>
                  </div>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                  </svg>
                </div>
                <div v-if="showVoiceDropdown" class="absolute z-50 w-full mt-2 bg-white rounded-2xl shadow-lg max-h-96 overflow-y-auto">
                  <div v-for="voice in voiceOptions" :key="voice.name"
                       @click="selectVoice(voice.name)"
                       class="p-4 hover:bg-black/10 cursor-pointer border-b last:border-b-0">
                    <div>{{ voice.name }}</div>
                    <div class="text-lg opacity-70">
                      <span v-if="voice.pitch">{{ voice.pitch }} vka tnu &middot; </span>{{ voice.style }}
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex lg:flex-row flex-col lg:mt-10">
              <div class="lg:inline hidden lg:mr-10 relative my-0 items-center justify-center text-4xl text-black">
                <div class="header h-22 items-center flex m-2 mt-4">Postava</div>
              </div>
              <div class="text-2xl my-4 lg:hidden mt-10">Postava</div>
              <div class="w-full flex flex-wrap gap-3">
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('pes'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'pes'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['pes']" :src="claymojiImages['pes']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.pes.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('koka'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'koka'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['koka']" :src="claymojiImages['koka']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.koka.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('keek'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'keek'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['keek']" :src="claymojiImages['keek']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.keek.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('lika'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'lika'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['lika']" :src="claymojiImages['lika']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.lika.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('medvd'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'medvd'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['medvd']" :src="claymojiImages['medvd']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.medvd.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('panda'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'panda'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['panda']" :src="claymojiImages['panda']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.panda.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('lev'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'lev'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['lev']" :src="claymojiImages['lev']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.lev.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('lenochod'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'lenochod'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['lenochod']" :src="claymojiImages['lenochod']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.lenochod.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('skunk'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'skunk'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['skunk']" :src="claymojiImages['skunk']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.skunk.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('sova'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'sova'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['sova']" :src="claymojiImages['sova']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.sova.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('pv'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'pv'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['pv']" :src="claymojiImages['pv']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.pv.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('papouek'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'papouek'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['papouek']" :src="claymojiImages['papouek']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.papouek.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('ba'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'ba'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['ba']" :src="claymojiImages['ba']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.ba.emoji }}</div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); updateDescription('trex'); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedCharacter === 'trex'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['trex']" :src="claymojiImages['trex']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3">{{ CHARACTER_ATTRIBUTES.trex.emoji }}</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex lg:flex-row flex-col lg:mt-10">
              <div class="lg:inline hidden lg:mr-10 relative my-0 items-center justify-center text-4xl text-black">
                <div class="header h-18 items-center flex mx-2 mt-2">Role</div>
              </div>
              <div class="text-2xl my-4 lg:hidden mt-10">Role</div>
              <div class="w-full flex flex-wrap gap-3">
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedRole = 'Pirt'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedRole === 'Pirt'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Pirt']" :src="claymojiImages['Pirt']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedRole = 'Kovboj'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedRole === 'Kovboj'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Kovboj']" :src="claymojiImages['Kovboj']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedRole = 'Surfa'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedRole === 'Surfa'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Surfa']" :src="claymojiImages['Surfa']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedRole = 'Krlovsk osoba'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedRole === 'Krlovsk osoba'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Krlovsk osoba']" :src="claymojiImages['Krlovsk osoba']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedRole = 'Robot'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedRole === 'Robot'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Robot']" :src="claymojiImages['Robot']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedRole = 'Klaun'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedRole === 'Klaun'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Klaun']" :src="claymojiImages['Klaun']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedRole = 'Nerd'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedRole === 'Nerd'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Nerd']" :src="claymojiImages['Nerd']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex lg:flex-row flex-col lg:mt-10">
              <div class="lg:inline hidden lg:mr-10 relative items-center justify-center text-4xl text-black">
                <div class="header h-18 items-center flex mx-2">Nlada</div>
              </div>
              <div class="text-2xl my-4 lg:hidden mt-10">Nlada</div>
              <div class="w-full flex flex-wrap gap-3">
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedMood = 'Vesel'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedMood === 'Vesel'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Vesel']" :src="claymojiImages['Vesel']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedMood = 'Smutn'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedMood === 'Smutn'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Smutn']" :src="claymojiImages['Smutn']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedMood = 'Natvan'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedMood === 'Natvan'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Natvan']" :src="claymojiImages['Natvan']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedMood = 'Vyden'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedMood === 'Vyden'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Vyden']" :src="claymojiImages['Vyden']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedMood = 'Unaven'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedMood === 'Unaven'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Unaven']" :src="claymojiImages['Unaven']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedMood = 'Ohromen'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedMood === 'Ohromen'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Ohromen']" :src="claymojiImages['Ohromen']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedMood = 'Uleven'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedMood === 'Uleven'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Uleven']" :src="claymojiImages['Uleven']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex lg:flex-row flex-col lg:mt-10">
              <div class="lg:inline hidden lg:mr-10 relative items-center justify-center text-4xl text-black">
                <div class="header h-18 items-center flex m-2">Styl</div>
              </div>
              <div class="text-2xl my-4 lg:hidden mt-10">Styl</div>
              <div class="w-full flex flex-wrap gap-3">
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedStyle = 'Mluven'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedStyle === 'Mluven'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Mluven']" :src="claymojiImages['Mluven']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedStyle = 'ten'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedStyle === 'ten'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['ten']" :src="claymojiImages['ten']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedStyle = 'Kik'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedStyle === 'Kik'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Kik']" :src="claymojiImages['Kik']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedStyle = 'Vystupovn'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedStyle === 'Vystupovn'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Vystupovn']" :src="claymojiImages['Vystupovn']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedStyle = 'Dramatick'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedStyle === 'Dramatick'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Dramatick']" :src="claymojiImages['Dramatick']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedStyle = 'eptn'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedStyle === 'eptn'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['eptn']" :src="claymojiImages['eptn']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
                <div class="flex flex-col items-center lg:w-[calc((100%-36px)/8)] md:w-24 sm:w-20 w-16">
                  <div @click="playClickSound(); selectedStyle = 'Poezie'; updateDescription(); onGenerateCharacter()" :class="{'bg-black/40 text-white': selectedStyle === 'Poezie'}" class="button bg-black/10 hover:bg-black/25 rounded-2xl p-0 cursor-pointer flex flex-col items-center justify-center w-full aspect-square">
                    <img v-if="claymojiImages['Poezie']" :src="claymojiImages['Poezie']" class="w-full h-full" />
                    <div v-else class="text-4xl mt-3"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="lg:w-2/5 lg:ml-[190px] w-full lg:text-2xl md:text-4xl text-2xl mt-10 flex justify-center items-center">
              <div id="luckyButton" @click="onImFeelingLucky" class="lg:w-auto justify-center pr-5 lg:py-0 md:py-4 py-2 mt-10 lg:mt-0 lg:mx-auto button bg-blue rounded-2xl p-1 flex items-center cursor-pointer hover:bg-black/10">
              <span class="">
                <img v-if="claymojiImages['dice']" :src="claymojiImages['dice']" class="lg:w-12 lg:h-12 w-20 h-20" />
              </span> 
              Nhodn</div>
            </div>
          </div>
          <div v-if="!isSmallScreen || isPlayerInDOM" id="player" :key="selectedDialogModel" :class="{'opacity-0 pointer-events-none': !isPlayerVisible && isSmallScreen, 'mt-[100vh]': isSmallScreen}" class="lg:w-[40%] lg:shrink-0 lg:min-w-52 flex flex-col lg:ml-10 relative transition-opacity duration-300">
            <button v-if="isSmallScreen" @click="closePlayer" class="absolute top-10 left-2 z-50 bg-black/20 hover:bg-black/30 rounded-full w-12 h-12 flex items-center justify-center transition-colors">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="white">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
            <div class="w-full relative">
              <div class="text-xs w-full">
                <div :class="isInSession ? 'opacity-20 pointer-events-none' : ''" class="hidden lg:flex w-full relative mb-4">
                  <div class="w-1/3">
                    <select v-model="selectedDialogModel" class="bg-white border rounded-md p-2 w-full">
                      <option v-for="model in AVAILABLE_DIALOG_MODELS" :key="model.id" :value="model.id">
                        proud: {{ model.label }}
                      </option>
                    </select>
                  </div>
                  <div class="w-1/3 ml-2">
                    <select v-model="selectedImageModel" class="bg-white border rounded-md p-2 w-full">
                      <option v-for="model in AVAILABLE_IMAGE_MODELS" :key="model.id" :value="model.id">
                        obr: {{ model.label }}
                      </option>
                    </select>
                  </div>
                  <div class="w-1/3 ml-2">
                    <select v-model="selectedInterruptSensitivity" class="bg-white border rounded-md p-2 w-full">
                      <option v-for="option in INTERRUPT_SENSITIVITY_OPTIONS" :key="option.value" :value="option.value">
                        {{ option.label }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
              <div :class="isConnecting ? 'animate-pulse' : ''" v-if="isEverythingSelected" class="w-full flex absolute z-20 mt-10">
                <div v-show="isConnecting" class="w-full flex relative">
                  <div class="bg-black/10 rounded-full flex items-center w-20 h-20 ml-auto justify-center">
                    <div class="flex items-center space-x-2 mt-1">
                      <div class="w-2 h-2 bg-white rounded-full animate-bounce [animation-delay:-0.3s]"></div>
                      <div class="w-2 h-2 bg-white rounded-full animate-bounce [animation-delay:-0.15s]"></div>
                      <div class="w-2 h-2 bg-white rounded-full animate-bounce"></div>
                    </div>
                  </div>
                </div>
                <div v-show="!isConnecting && !playingResponse" class="w-full flex">
                  <div class="relative ml-auto">
                    <div class="absolute inset-0 rounded-full bg-purple/30 motion-safe:animate-ping"></div>
                    <div @click="onCall"
                         class="relative overflow-hidden button bg-black/20 rounded-full flex items-center w-20 h-20 justify-center animate-pulse-ring">
                      <svg class="w-14 h-14 relative z-10" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24"
                           width="24">
                        <path d="M0 0h24v24H0z" fill="none"></path>
                        <path fill="white"
                              d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path>
                      </svg>
                    </div>
                  </div>
                </div>
                <div v-show="!isConnecting && playingResponse" class="w-full flex relative">
                  <div v-if="false && showClickToRestartHelp" id="clickToRestartHelp" class="animate-bounce z-50 absolute -top-4 lg:-top-10 right-7 flex items-center justify-center">
                    <div class="text-xl mt-1">Kliknte pro restart</div>
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                        <path d="M0 0h24v24H0V0z" fill="none"></path>
                        <path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path>
                    </svg>
                  </div>
                  <div @click="onStopClick"
                       class="relative overflow-hidden button bg-black/20 rounded-full flex items-center w-20 h-20 ml-auto justify-center">
                    <div id="userWaveform" class="absolute flex items-end -mt-2 space-x-1 h-4">
                      <div v-for="(value, i) in [...liveAudioRef?.userWaveformData].reverse()" :key="i"
                           class="w-2 bg-white rounded-full"
                           :style="{ height: \`\${value * 100 + 100}%\`, marginBottom: \`\${(value * 50 + 50) / 100.0 * -10}px\` }">
                      </div>
                      <div v-for="(value, i) in liveAudioRef?.systemWaveformData" :key="i"
                           class="w-2 bg-white rounded-full"
                           :style="{ height: \`\${value * 100 + 100}%\`, marginBottom: \`\${(value * 50 + 50) / 100.0 * -10}px\` }">
                      </div>
                    </div>
                  </div>
                </div>
                <div id="shareButton" @click="showShareModal = true" class="absolute right-0 top-24 right-4 button bg-black/20 rounded-full w-12 h-12 items-center flex justify-center cursor-pointer">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                    <path d="M0 0h24v24H0z" fill="none"></path>
                    <path fill="white" d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"></path>
                  </svg>
                </div>
                <div id="regenImgButton" @click="regenerateImage" class="absolute right-0 top-40 right-4 button bg-black/20 rounded-full w-12 h-12 items-center flex justify-center cursor-pointer">
                  <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                    <path d="M0 0h24v24H0V0z" fill="none"></path>
                    <path fill="white" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path>
                  </svg>
                </div>
              </div>
              <div class="w-full mt-16" :class="{ 'h-[calc(100vh-12rem)] flex items-center justify-center': isSmallScreen, 'aspect-square': !isSmallScreen }">
                <div v-if="isConnecting" class="z-50 mt-6 font-bold animate-pulse text-md mx-auto absolute top-11 left-0 right-0 text-center">
                  <span class="p-2 bg-white/80 rounded-md">Pipojovn...</span>
                </div>
                <div class="w-full h-full flex items-center justify-center">
                  <CharacterImage 
                    ref="characterImageRef"
                    :key="characterImageKey + '-' + imageTimestamp" 
                    :character="selectedCharacter" 
                    :role="selectedRole" 
                    :mood="selectedMood" 
                    :style="selectedStyle"
                    :model="selectedImageModel"
                    @update:imagePrompt="actualImagePrompt = $event"
                  />
                </div>
                <div v-if="isEverythingSelected" class="hidden lg:block lowercase text-2xl bg-black/10 p-8 rounded-2xl text-center lg:relative">
                  {{ selectedStyle }} jako {{ selectedMood }} {{ selectedCharacter }} {{ selectedRole ? 'v roli ' + selectedRole : '' }}
                </div>
                <div v-else class="text-2xl bg-black/10 p-8 rounded-2xl text-center">
                  {{ selectionPrompt }}
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="hidden mt-20 mb-96 flex relative flex-col bg-white/20 flex overflow-hidden w-3/4 rounded-wow">
            <textarea
                v-model="characterVoiceDescription"
                @keypress.enter.prevent.stop="onGenerateCharacter"
                class="hidden text-center text-2xl bg-transparent outline-none p-10 pt-14 flex left-0 top-0 w-full h-full pb-24 min-h-32"
                placeholder="Popite svou novou postavu nkolika slovy..."
            ></textarea>
        </div>
      </div>
    </transition>

    <LiveAudioComponent ref="liveAudioRef" @no-audio="handleNoAudio" @speaking-start="onSpeakingStart" @extended-quiet="showClickToRestartHelp = true;" @quota-exceeded="handleQuotaExceeded"/>
    </div>
  
    <!-- Share Modal -->
    <div v-if="showShareModal" class="font-sans fixed inset-0 bg-black/50 flex items-center justify-center z-50">
    <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-bold text-black">Sdlet postavu</h2>
        <button @click="showShareModal = false" class="text-black hover:text-black/80">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="mb-4">
        <input type="text" :value="shareUrl" readonly class="w-full p-2 border rounded-lg bg-black text-white" />
      </div>
      <button @click="copyToClipboard" class="w-full bg-black/40 text-white py-2 rounded-lg hover:bg-gray-800 transition-colors">
        {{ isCopied ? 'Zkoprovno!' : 'Koprovat URL' }}
      </button>
    </div>
    </div>

    <!-- Raw Prompts Modal -->
    <div v-if="showRawModal" class="font-sans fixed inset-0 bg-black/50 flex items-center justify-center z-50">
      <div class="bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 max-h-[70vh] flex flex-col">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-2xl font-bold text-black">Pvodn prompty</h2>
          <button @click="showRawModal = false" class="text-black hover:text-black/80">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
        <div class="space-y-4 overflow-y-auto flex-1">
          <div>
            <h3 class="text-lg font-semibold mb-2 text-black">Prompt pro hlas</h3>
            <pre class="bg-black/10 p-4 rounded-lg overflow-x-auto text-sm text-black whitespace-pre-wrap">{{ rawPrompts.voice }}</pre>
          </div>
          <div>
            <h3 class="text-lg font-semibold mb-2 text-black mt-24">Prompt pro obrzek</h3>
            <pre class="bg-black/10 p-4 rounded-lg overflow-x-auto text-sm text-black whitespace-pre-wrap">{{ rawPrompts.image }}</pre>
          </div>
        </div>
      </div>
    </div>

    <div v-if="(!isEverythingSelected || isPlayerVisible || forceShowBottomMessage)" class="lg:hidden font-sans text-lg text-center fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-black/60 backdrop-blur-lg text-white px-6 py-3 rounded-3xl z-50 transition-opacity duration-30">
      <template v-if="isInSession && isPlayerVisible">{{ selectedStyle }} jako {{ selectedMood }} {{ selectedCharacter }} {{ selectedRole ? 'v roli ' + selectedRole : '' }}</template>
      <template v-else-if="!isEverythingSelected">{{ selectionPrompt }}</template>
      <template v-else-if="forceShowBottomMessage">{{ selectedStyle }} jako {{ selectedMood }} {{ selectedCharacter }} {{ selectedRole ? 'v roli ' + selectedRole : '' }}</template>
    </div>
  `});function Em(n){const e=atob(n),t=e.length,o=new Uint8Array(t);for(let i=0;i<t;i++)o[i]=e.charCodeAt(i);return o}function Im(n){const e=n.length,t=new Int16Array(e);for(let o=0;o<e;o++)t[o]=n[o]*32768;return{data:Sm(new Uint8Array(t.buffer)),mimeType:"audio/pcm;rate=16000"}}function Sm(n){let e="";const t=n.byteLength;for(let o=0;o<t;o++)e+=String.fromCharCode(n[o]);return btoa(e)}async function bm(n,e,t,o){const i=e.createBuffer(o,n.length/2/o,t),s=new Int16Array(n.buffer),a=s.length,u=new Float32Array(a);for(let c=0;c<a;c++)u[c]=s[c]/32768;for(let c=0;c<o;c++){const f=u.filter((d,m)=>m%o===c);i.copyToChannel(f,c)}return i}const Am=Lu(wm);Am.mount("#app");
